(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();function Sv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lc={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function oC(){if(Sg)return ea;Sg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:t,type:s,key:c,ref:r!==void 0?r:null,props:u}}return ea.Fragment=e,ea.jsx=o,ea.jsxs=o,ea}var Eg;function sC(){return Eg||(Eg=1,Lc.exports=oC()),Lc.exports}var x=sC(),Vc={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function aC(){if(xg)return _e;xg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function I(_,G,te){this.props=_,this.context=G,this.refs=L,this.updater=te||M}I.prototype.isReactComponent={},I.prototype.setState=function(_,G){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,G,"setState")},I.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function H(){}H.prototype=I.prototype;function D(_,G,te){this.props=_,this.context=G,this.refs=L,this.updater=te||M}var X=D.prototype=new H;X.constructor=D,R(X,I.prototype),X.isPureReactComponent=!0;var z=Array.isArray;function $(){}var Y={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function W(_,G,te){var ue=te.ref;return{$$typeof:t,type:_,key:G,ref:ue!==void 0?ue:null,props:te}}function ie(_,G){return W(_.type,G,_.props)}function se(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function he(_){var G={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return G[te]})}var ae=/\/+/g;function Ne(_,G){return typeof _=="object"&&_!==null&&_.key!=null?he(""+_.key):G.toString(36)}function Le(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then($,$):(_.status="pending",_.then(function(G){_.status==="pending"&&(_.status="fulfilled",_.value=G)},function(G){_.status==="pending"&&(_.status="rejected",_.reason=G)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function k(_,G,te,ue,ve){var Te=typeof _;(Te==="undefined"||Te==="boolean")&&(_=null);var Re=!1;if(_===null)Re=!0;else switch(Te){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(_.$$typeof){case t:case e:Re=!0;break;case v:return Re=_._init,k(Re(_._payload),G,te,ue,ve)}}if(Re)return ve=ve(_),Re=ue===""?"."+Ne(_,0):ue,z(ve)?(te="",Re!=null&&(te=Re.replace(ae,"$&/")+"/"),k(ve,G,te,"",function(bn){return bn})):ve!=null&&(se(ve)&&(ve=ie(ve,te+(ve.key==null||_&&_.key===ve.key?"":(""+ve.key).replace(ae,"$&/")+"/")+Re)),G.push(ve)),1;Re=0;var nt=ue===""?".":ue+":";if(z(_))for(var Qe=0;Qe<_.length;Qe++)ue=_[Qe],Te=nt+Ne(ue,Qe),Re+=k(ue,G,te,Te,ve);else if(Qe=A(_),typeof Qe=="function")for(_=Qe.call(_),Qe=0;!(ue=_.next()).done;)ue=ue.value,Te=nt+Ne(ue,Qe++),Re+=k(ue,G,te,Te,ve);else if(Te==="object"){if(typeof _.then=="function")return k(Le(_),G,te,ue,ve);throw G=String(_),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Re}function q(_,G,te){if(_==null)return _;var ue=[],ve=0;return k(_,ue,"","",function(Te){return G.call(te,Te,ve++)}),ue}function ee(_){if(_._status===-1){var G=_._result;G=G(),G.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=G)}if(_._status===1)return _._result.default;throw _._result}var j=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},de={map:q,forEach:function(_,G,te){q(_,function(){G.apply(this,arguments)},te)},count:function(_){var G=0;return q(_,function(){G++}),G},toArray:function(_){return q(_,function(G){return G})||[]},only:function(_){if(!se(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return _e.Activity=T,_e.Children=de,_e.Component=I,_e.Fragment=o,_e.Profiler=r,_e.PureComponent=D,_e.StrictMode=s,_e.Suspense=g,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,_e.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Y.H.useMemoCache(_)}},_e.cache=function(_){return function(){return _.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(_,G,te){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ue=R({},_.props),ve=_.key;if(G!=null)for(Te in G.key!==void 0&&(ve=""+G.key),G)!Z.call(G,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&G.ref===void 0||(ue[Te]=G[Te]);var Te=arguments.length-2;if(Te===1)ue.children=te;else if(1<Te){for(var Re=Array(Te),nt=0;nt<Te;nt++)Re[nt]=arguments[nt+2];ue.children=Re}return W(_.type,ve,ue)},_e.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},_e.createElement=function(_,G,te){var ue,ve={},Te=null;if(G!=null)for(ue in G.key!==void 0&&(Te=""+G.key),G)Z.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=G[ue]);var Re=arguments.length-2;if(Re===1)ve.children=te;else if(1<Re){for(var nt=Array(Re),Qe=0;Qe<Re;Qe++)nt[Qe]=arguments[Qe+2];ve.children=nt}if(_&&_.defaultProps)for(ue in Re=_.defaultProps,Re)ve[ue]===void 0&&(ve[ue]=Re[ue]);return W(_,Te,ve)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(_){return{$$typeof:h,render:_}},_e.isValidElement=se,_e.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:ee}},_e.memo=function(_,G){return{$$typeof:p,type:_,compare:G===void 0?null:G}},_e.startTransition=function(_){var G=Y.T,te={};Y.T=te;try{var ue=_(),ve=Y.S;ve!==null&&ve(te,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then($,j)}catch(Te){j(Te)}finally{G!==null&&te.types!==null&&(G.types=te.types),Y.T=G}},_e.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},_e.use=function(_){return Y.H.use(_)},_e.useActionState=function(_,G,te){return Y.H.useActionState(_,G,te)},_e.useCallback=function(_,G){return Y.H.useCallback(_,G)},_e.useContext=function(_){return Y.H.useContext(_)},_e.useDebugValue=function(){},_e.useDeferredValue=function(_,G){return Y.H.useDeferredValue(_,G)},_e.useEffect=function(_,G){return Y.H.useEffect(_,G)},_e.useEffectEvent=function(_){return Y.H.useEffectEvent(_)},_e.useId=function(){return Y.H.useId()},_e.useImperativeHandle=function(_,G,te){return Y.H.useImperativeHandle(_,G,te)},_e.useInsertionEffect=function(_,G){return Y.H.useInsertionEffect(_,G)},_e.useLayoutEffect=function(_,G){return Y.H.useLayoutEffect(_,G)},_e.useMemo=function(_,G){return Y.H.useMemo(_,G)},_e.useOptimistic=function(_,G){return Y.H.useOptimistic(_,G)},_e.useReducer=function(_,G,te){return Y.H.useReducer(_,G,te)},_e.useRef=function(_){return Y.H.useRef(_)},_e.useState=function(_){return Y.H.useState(_)},_e.useSyncExternalStore=function(_,G,te){return Y.H.useSyncExternalStore(_,G,te)},_e.useTransition=function(){return Y.H.useTransition()},_e.version="19.2.0",_e}var Cg;function Uf(){return Cg||(Cg=1,Vc.exports=aC()),Vc.exports}var O=Uf();const Ca=Sv(O);var kc={exports:{}},ta={},Gc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function rC(){return Ag||(Ag=1,(function(t){function e(k,q){var ee=k.length;k.push(q);e:for(;0<ee;){var j=ee-1>>>1,de=k[j];if(0<r(de,q))k[j]=q,k[ee]=de,ee=j;else break e}}function o(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var q=k[0],ee=k.pop();if(ee!==q){k[0]=ee;e:for(var j=0,de=k.length,_=de>>>1;j<_;){var G=2*(j+1)-1,te=k[G],ue=G+1,ve=k[ue];if(0>r(te,ee))ue<de&&0>r(ve,te)?(k[j]=ve,k[ue]=ee,j=ue):(k[j]=te,k[G]=ee,j=G);else if(ue<de&&0>r(ve,ee))k[j]=ve,k[ue]=ee,j=ue;else break e}}return q}function r(k,q){var ee=k.sortIndex-q.sortIndex;return ee!==0?ee:k.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],v=1,T=null,S=3,A=!1,M=!1,R=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function X(k){for(var q=o(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=k)s(p),q.sortIndex=q.expirationTime,e(g,q);else break;q=o(p)}}function z(k){if(R=!1,X(k),!M)if(o(g)!==null)M=!0,$||($=!0,he());else{var q=o(p);q!==null&&Le(z,q.startTime-k)}}var $=!1,Y=-1,Z=5,W=-1;function ie(){return L?!0:!(t.unstable_now()-W<Z)}function se(){if(L=!1,$){var k=t.unstable_now();W=k;var q=!0;try{e:{M=!1,R&&(R=!1,H(Y),Y=-1),A=!0;var ee=S;try{t:{for(X(k),T=o(g);T!==null&&!(T.expirationTime>k&&ie());){var j=T.callback;if(typeof j=="function"){T.callback=null,S=T.priorityLevel;var de=j(T.expirationTime<=k);if(k=t.unstable_now(),typeof de=="function"){T.callback=de,X(k),q=!0;break t}T===o(g)&&s(g),X(k)}else s(g);T=o(g)}if(T!==null)q=!0;else{var _=o(p);_!==null&&Le(z,_.startTime-k),q=!1}}break e}finally{T=null,S=ee,A=!1}q=void 0}}finally{q?he():$=!1}}}var he;if(typeof D=="function")he=function(){D(se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ne=ae.port2;ae.port1.onmessage=se,he=function(){Ne.postMessage(null)}}else he=function(){I(se,0)};function Le(k,q){Y=I(function(){k(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(k){switch(S){case 1:case 2:case 3:var q=3;break;default:q=S}var ee=S;S=q;try{return k()}finally{S=ee}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ee=S;S=k;try{return q()}finally{S=ee}},t.unstable_scheduleCallback=function(k,q,ee){var j=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?j+ee:j):ee=j,k){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ee+de,k={id:v++,callback:q,priorityLevel:k,startTime:ee,expirationTime:de,sortIndex:-1},ee>j?(k.sortIndex=ee,e(p,k),o(g)===null&&k===o(p)&&(R?(H(Y),Y=-1):R=!0,Le(z,ee-j))):(k.sortIndex=de,e(g,k),M||A||(M=!0,$||($=!0,he()))),k},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(k){var q=S;return function(){var ee=S;S=q;try{return k.apply(this,arguments)}finally{S=ee}}}})(Bc)),Bc}var _g;function lC(){return _g||(_g=1,Gc.exports=rC()),Gc.exports}var Hc={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function uC(){if(bg)return bt;bg=1;var t=Uf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},bt.flushSync=function(g){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=v,s.d.f()}},bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},bt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:A}):v==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},bt.requestFormReset=function(g){s.d.r(g)},bt.unstable_batchedUpdates=function(g,p){return g(p)},bt.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var Mg;function cC(){if(Mg)return Hc.exports;Mg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hc.exports=uC(),Hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function fC(){if(Ng)return ta;Ng=1;var t=lC(),e=Uf(),o=cC();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(l=m.return,l!==null){a=l;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return g(m),n;if(y===l)return g(m),i;y=y.sibling}throw Error(s(188))}if(a.return!==l.return)a=m,l=y;else{for(var E=!1,C=m.child;C;){if(C===a){E=!0,a=m,l=y;break}if(C===l){E=!0,l=m,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,l=m;break}if(C===l){E=!0,l=y,a=m;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),D=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Symbol.for("react.client.reference");function Ne(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ae?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case I:return"Profiler";case L:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case D:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case X:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return i=n.displayName||null,i!==null?i:Ne(n.type)||"Memo";case Z:i=n._payload,n=n._init;try{return Ne(n(i))}catch{}}return null}var Le=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},j=[],de=-1;function _(n){return{current:n}}function G(n){0>de||(n.current=j[de],j[de]=null,de--)}function te(n,i){de++,j[de]=n.current,n.current=i}var ue=_(null),ve=_(null),Te=_(null),Re=_(null);function nt(n,i){switch(te(Te,i),te(ve,n),te(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?zp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=zp(i),n=Fp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(ue),te(ue,n)}function Qe(){G(ue),G(ve),G(Te)}function bn(n){n.memoizedState!==null&&te(Re,n);var i=ue.current,a=Fp(i,n.type);i!==a&&(te(ve,n),te(ue,a))}function Zn(n){ve.current===n&&(G(ue),G(ve)),Re.current===n&&(G(Re),$s._currentValue=ee)}var Wn,Ni;function Xt(n){if(Wn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wn=i&&i[1]||"",Ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wn+n+Ni}var re=!1;function pe(n,i){if(!n||re)return"";re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var V=B}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(B){V=B}n.call(Q.prototype)}}else{try{throw Error()}catch(B){V=B}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var b=E.split(`
`),U=C.split(`
`);for(m=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(l===b.length||m===U.length)for(l=b.length-1,m=U.length-1;1<=l&&0<=m&&b[l]!==U[m];)m--;for(;1<=l&&0<=m;l--,m--)if(b[l]!==U[m]){if(l!==1||m!==1)do if(l--,m--,0>m||b[l]!==U[m]){var F=`
`+b[l].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=l&&0<=m);break}}}finally{re=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Xt(a):""}function xe(n,i){switch(n.tag){case 26:case 27:case 5:return Xt(n.type);case 16:return Xt("Lazy");case 13:return n.child!==i&&i!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return pe(n.type,!1);case 11:return pe(n.type.render,!1);case 1:return pe(n.type,!0);case 31:return Xt("Activity");default:return""}}function Ie(n){try{var i="",a=null;do i+=xe(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var K=Object.prototype.hasOwnProperty,ne=t.unstable_scheduleCallback,ce=t.unstable_cancelCallback,Ee=t.unstable_shouldYield,Ve=t.unstable_requestPaint,Ge=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,dn=t.unstable_ImmediatePriority,Tn=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,wi=t.unstable_LowPriority,Cd=t.unstable_IdlePriority,HS=t.log,qS=t.unstable_setDisableYieldValue,ls=null,Bt=null;function jn(n){if(typeof HS=="function"&&qS(n),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(ls,n)}catch{}}var Ht=Math.clz32?Math.clz32:FS,OS=Math.log,zS=Math.LN2;function FS(n){return n>>>=0,n===0?32:31-(OS(n)/zS|0)|0}var Na=256,Ra=262144,wa=4194304;function Di(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var m=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~y,l!==0?m=Di(l):(E&=C,E!==0?m=Di(E):a||(a=C&~n,a!==0&&(m=Di(a))))):(C=l&~y,C!==0?m=Di(C):E!==0?m=Di(E):a||(a=l&~n,a!==0&&(m=Di(a)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:m}function us(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function YS(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var n=wa;return wa<<=1,(wa&62914560)===0&&(wa=4194304),n}function Cl(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function cs(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function JS(n,i,a,l,m,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,b=n.expirationTimes,U=n.hiddenUpdates;for(a=E&~a;0<a;){var F=31-Ht(a),Q=1<<F;C[F]=0,b[F]=-1;var V=U[F];if(V!==null)for(U[F]=null,F=0;F<V.length;F++){var B=V[F];B!==null&&(B.lane&=-536870913)}a&=~Q}l!==0&&_d(n,l,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function _d(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ht(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function bd(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Ht(a),m=1<<l;m&i|n[l]&i&&(n[l]|=i),a&=~m}}function Md(n,i){var a=i&-i;return a=(a&42)!==0?1:Al(a),(a&(n.suspendedLanes|i))!==0?0:a}function Al(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _l(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Nd(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:hg(n.type))}function Rd(n,i){var a=q.p;try{return q.p=n,i()}finally{q.p=a}}var ei=Math.random().toString(36).slice(2),vt="__reactFiber$"+ei,Dt="__reactProps$"+ei,so="__reactContainer$"+ei,bl="__reactEvents$"+ei,KS="__reactListeners$"+ei,XS="__reactHandles$"+ei,wd="__reactResources$"+ei,fs="__reactMarker$"+ei;function Ml(n){delete n[vt],delete n[Dt],delete n[bl],delete n[KS],delete n[XS]}function ao(n){var i=n[vt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[so]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Zp(n);n!==null;){if(a=n[vt])return a;n=Zp(n)}return i}n=a,a=n.parentNode}return null}function ro(n){if(n=n[vt]||n[so]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function ds(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function lo(n){var i=n[wd];return i||(i=n[wd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[fs]=!0}var Dd=new Set,Id={};function Ii(n,i){uo(n,i),uo(n+"Capture",i)}function uo(n,i){for(Id[n]=i,n=0;n<i.length;n++)Dd.add(i[n])}var QS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pd={},Ud={};function $S(n){return K.call(Ud,n)?!0:K.call(Pd,n)?!1:QS.test(n)?Ud[n]=!0:(Pd[n]=!0,!1)}function Ia(n,i,a){if($S(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Pa(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Mn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ld(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ZS(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Nl(n){if(!n._valueTracker){var i=Ld(n)?"checked":"value";n._valueTracker=ZS(n,i,""+n[i])}}function Vd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Ld(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ua(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var WS=/[\n"\\]/g;function $t(n){return n.replace(WS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rl(n,i,a,l,m,y,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Qt(i)):n.value!==""+Qt(i)&&(n.value=""+Qt(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?wl(n,E,Qt(i)):a!=null?wl(n,E,Qt(a)):l!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Qt(C):n.removeAttribute("name")}function kd(n,i,a,l,m,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Nl(n);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Nl(n)}function wl(n,i,a){i==="number"&&Ua(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function co(n,i,a,l){if(n=n.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=i.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,l&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Gd(n,i,a){if(i!=null&&(i=""+Qt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Qt(a):""}function Bd(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Nl(n)}function fo(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var jS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||jS.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function qd(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var m in i)l=i[m],i.hasOwnProperty(m)&&a[m]!==l&&Hd(n,m,l)}else for(var y in i)i.hasOwnProperty(y)&&Hd(n,y,i[y])}function Dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(n){return tE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nn(){}var Il=null;function Pl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ho=null,mo=null;function Od(n){var i=ro(n);if(i&&(n=i.stateNode)){var a=n[Dt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Rl(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var m=l[Dt]||null;if(!m)throw Error(s(90));Rl(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Vd(l)}break e;case"textarea":Gd(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&co(n,!!a.multiple,i,!1)}}}var Ul=!1;function zd(n,i,a){if(Ul)return n(i,a);Ul=!0;try{var l=n(i);return l}finally{if(Ul=!1,(ho!==null||mo!==null)&&(xr(),ho&&(i=ho,n=mo,mo=ho=null,Od(i),n)))for(i=0;i<n.length;i++)Od(n[i])}}function hs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(Rn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Ll=!1}var ti=null,Vl=null,Va=null;function Fd(){if(Va)return Va;var n,i=Vl,a=i.length,l,m="value"in ti?ti.value:ti.textContent,y=m.length;for(n=0;n<a&&i[n]===m[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===m[y-l];l++);return Va=m.slice(n,1<l?1-l:void 0)}function ka(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ga(){return!0}function Yd(){return!1}function It(n){function i(a,l,m,y,E){this._reactName=a,this._targetInst=m,this.type=l,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ga:Yd,this.isPropagationStopped=Yd,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=It(Pi),ps=T({},Pi,{view:0,detail:0}),nE=It(ps),kl,Gl,gs,Ha=T({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gs&&(gs&&n.type==="mousemove"?(kl=n.screenX-gs.screenX,Gl=n.screenY-gs.screenY):Gl=kl=0,gs=n),kl)},movementY:function(n){return"movementY"in n?n.movementY:Gl}}),Jd=It(Ha),iE=T({},Ha,{dataTransfer:0}),oE=It(iE),sE=T({},ps,{relatedTarget:0}),Bl=It(sE),aE=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=It(aE),lE=T({},Pi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uE=It(lE),cE=T({},Pi,{data:0}),Kd=It(cE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=hE[n])?!!i[n]:!1}function Hl(){return mE}var pE=T({},ps,{key:function(n){if(n.key){var i=fE[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ka(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(n){return n.type==="keypress"?ka(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ka(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gE=It(pE),yE=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=It(yE),vE=T({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),TE=It(vE),SE=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=It(SE),xE=T({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=It(xE),AE=T({},Pi,{newState:0,oldState:0}),_E=It(AE),bE=[9,13,27,32],ql=Rn&&"CompositionEvent"in window,ys=null;Rn&&"documentMode"in document&&(ys=document.documentMode);var ME=Rn&&"TextEvent"in window&&!ys,Qd=Rn&&(!ql||ys&&8<ys&&11>=ys),$d=" ",Zd=!1;function Wd(n,i){switch(n){case"keyup":return bE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var po=!1;function NE(n,i){switch(n){case"compositionend":return jd(i);case"keypress":return i.which!==32?null:(Zd=!0,$d);case"textInput":return n=i.data,n===$d&&Zd?null:n;default:return null}}function RE(n,i){if(po)return n==="compositionend"||!ql&&Wd(n,i)?(n=Fd(),Va=Vl=ti=null,po=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qd&&i.locale!=="ko"?null:i.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!wE[n.type]:i==="textarea"}function th(n,i,a,l){ho?mo?mo.push(l):mo=[l]:ho=l,i=Rr(i,"onChange"),0<i.length&&(a=new Ba("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var vs=null,Ts=null;function DE(n){kp(n,0)}function qa(n){var i=ds(n);if(Vd(i))return n}function nh(n,i){if(n==="change")return i}var ih=!1;if(Rn){var Ol;if(Rn){var zl="oninput"in document;if(!zl){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),zl=typeof oh.oninput=="function"}Ol=zl}else Ol=!1;ih=Ol&&(!document.documentMode||9<document.documentMode)}function sh(){vs&&(vs.detachEvent("onpropertychange",ah),Ts=vs=null)}function ah(n){if(n.propertyName==="value"&&qa(Ts)){var i=[];th(i,Ts,n,Pl(n)),zd(DE,i)}}function IE(n,i,a){n==="focusin"?(sh(),vs=i,Ts=a,vs.attachEvent("onpropertychange",ah)):n==="focusout"&&sh()}function PE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qa(Ts)}function UE(n,i){if(n==="click")return qa(i)}function LE(n,i){if(n==="input"||n==="change")return qa(i)}function VE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var qt=typeof Object.is=="function"?Object.is:VE;function Ss(n,i){if(qt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var m=a[l];if(!K.call(i,m)||!qt(n[m],i[m]))return!1}return!0}function rh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lh(n,i){var a=rh(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rh(a)}}function uh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?uh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ch(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ua(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ua(n.document)}return i}function Fl(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var kE=Rn&&"documentMode"in document&&11>=document.documentMode,go=null,Yl=null,Es=null,Jl=!1;function fh(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jl||go==null||go!==Ua(l)||(l=go,"selectionStart"in l&&Fl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Es&&Ss(Es,l)||(Es=l,l=Rr(Yl,"onSelect"),0<l.length&&(i=new Ba("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=go)))}function Ui(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var yo={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Kl={},dh={};Rn&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Li(n){if(Kl[n])return Kl[n];if(!yo[n])return n;var i=yo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in dh)return Kl[n]=i[a];return n}var hh=Li("animationend"),mh=Li("animationiteration"),ph=Li("animationstart"),GE=Li("transitionrun"),BE=Li("transitionstart"),HE=Li("transitioncancel"),gh=Li("transitionend"),yh=new Map,Xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xl.push("scrollEnd");function hn(n,i){yh.set(n,i),Ii(i,[n])}var Oa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zt=[],vo=0,Ql=0;function za(){for(var n=vo,i=Ql=vo=0;i<n;){var a=Zt[i];Zt[i++]=null;var l=Zt[i];Zt[i++]=null;var m=Zt[i];Zt[i++]=null;var y=Zt[i];if(Zt[i++]=null,l!==null&&m!==null){var E=l.pending;E===null?m.next=m:(m.next=E.next,E.next=m),l.pending=m}y!==0&&vh(a,m,y)}}function Fa(n,i,a,l){Zt[vo++]=n,Zt[vo++]=i,Zt[vo++]=a,Zt[vo++]=l,Ql|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function $l(n,i,a,l){return Fa(n,i,a,l),Ya(n)}function Vi(n,i){return Fa(n,null,null,i),Ya(n)}function vh(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var m=!1,y=n.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-Ht(a),n=y.hiddenUpdates,l=n[m],l===null?n[m]=[i]:l.push(i),i.lane=a|536870912),y):null}function Ya(n){if(50<zs)throw zs=0,sc=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var To={};function qE(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(n,i,a,l){return new qE(n,i,a,l)}function Zl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wn(n,i){var a=n.alternate;return a===null?(a=Ot(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Th(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ja(n,i,a,l,m,y){var E=0;if(l=n,typeof n=="function")Zl(n)&&(E=1);else if(typeof n=="string")E=Jx(n,a,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=Ot(31,a,i,m),n.elementType=W,n.lanes=y,n;case R:return ki(a.children,m,y,i);case L:E=8,m|=24;break;case I:return n=Ot(12,a,i,m|2),n.elementType=I,n.lanes=y,n;case z:return n=Ot(13,a,i,m),n.elementType=z,n.lanes=y,n;case $:return n=Ot(19,a,i,m),n.elementType=$,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:E=10;break e;case H:E=9;break e;case X:E=11;break e;case Y:E=14;break e;case Z:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Ot(E,a,i,m),i.elementType=n,i.type=l,i.lanes=y,i}function ki(n,i,a,l){return n=Ot(7,n,l,i),n.lanes=a,n}function Wl(n,i,a){return n=Ot(6,n,null,i),n.lanes=a,n}function Sh(n){var i=Ot(18,null,null,0);return i.stateNode=n,i}function jl(n,i,a){return i=Ot(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Eh=new WeakMap;function Wt(n,i){if(typeof n=="object"&&n!==null){var a=Eh.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ie(i)},Eh.set(n,i),i)}return{value:n,source:i,stack:Ie(i)}}var So=[],Eo=0,Ka=null,xs=0,jt=[],en=0,ni=null,Sn=1,En="";function Dn(n,i){So[Eo++]=xs,So[Eo++]=Ka,Ka=n,xs=i}function xh(n,i,a){jt[en++]=Sn,jt[en++]=En,jt[en++]=ni,ni=n;var l=Sn;n=En;var m=32-Ht(l)-1;l&=~(1<<m),a+=1;var y=32-Ht(i)+m;if(30<y){var E=m-m%5;y=(l&(1<<E)-1).toString(32),l>>=E,m-=E,Sn=1<<32-Ht(i)+m|a<<m|l,En=y+n}else Sn=1<<y|a<<m|l,En=n}function eu(n){n.return!==null&&(Dn(n,1),xh(n,1,0))}function tu(n){for(;n===Ka;)Ka=So[--Eo],So[Eo]=null,xs=So[--Eo],So[Eo]=null;for(;n===ni;)ni=jt[--en],jt[en]=null,En=jt[--en],jt[en]=null,Sn=jt[--en],jt[en]=null}function Ch(n,i){jt[en++]=Sn,jt[en++]=En,jt[en++]=ni,Sn=i.id,En=i.overflow,ni=n}var Tt=null,$e=null,ke=!1,ii=null,tn=!1,nu=Error(s(519));function oi(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs(Wt(i,n)),nu}function Ah(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[vt]=n,i[Dt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Ys.length;a++)De(Ys[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),kd(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Bd(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qp(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Nn),i=!0):i=!1,i||oi(n,!0)}function _h(n){for(Tt=n.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Tt=Tt.return}}function xo(n){if(n!==Tt)return!1;if(!ke)return _h(n),ke=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Sc(n.type,n.memoizedProps)),a=!a),a&&$e&&oi(n),_h(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=$p(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=$p(n)}else i===27?(i=$e,vi(n.type)?(n=_c,_c=null,$e=n):$e=i):$e=Tt?on(n.stateNode.nextSibling):null;return!0}function Gi(){$e=Tt=null,ke=!1}function iu(){var n=ii;return n!==null&&(Vt===null?Vt=n:Vt.push.apply(Vt,n),ii=null),n}function Cs(n){ii===null?ii=[n]:ii.push(n)}var ou=_(null),Bi=null,In=null;function si(n,i,a){te(ou,i._currentValue),i._currentValue=a}function Pn(n){n._currentValue=ou.current,G(ou)}function su(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function au(n,i,a,l){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var b=0;b<i.length;b++)if(C.context===i[b]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),su(y.return,a,n),l||(E=null);break e}y=C.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),su(E,a,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Co(n,i,a,l){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=m.type;qt(m.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(m===Re.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push($s):n=[$s])}m=m.return}n!==null&&au(i,n,a,l),i.flags|=262144}function Xa(n){for(n=n.firstContext;n!==null;){if(!qt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hi(n){Bi=n,In=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function St(n){return bh(Bi,n)}function Qa(n,i){return Bi===null&&Hi(n),bh(n,i)}function bh(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},In===null){if(n===null)throw Error(s(308));In=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else In=In.next=i;return a}var OE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},zE=t.unstable_scheduleCallback,FE=t.unstable_NormalPriority,ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new OE,data:new Map,refCount:0}}function As(n){n.refCount--,n.refCount===0&&zE(FE,function(){n.controller.abort()})}var _s=null,lu=0,Ao=0,_o=null;function YE(n,i){if(_s===null){var a=_s=[];lu=0,Ao=fc(),_o={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lu++,i.then(Mh,Mh),i}function Mh(){if(--lu===0&&_s!==null){_o!==null&&(_o.status="fulfilled");var n=_s;_s=null,Ao=0,_o=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function JE(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var m=0;m<a.length;m++)(0,a[m])(i)},function(m){for(l.status="rejected",l.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),l}var Nh=k.S;k.S=function(n,i){fp=Ge(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&YE(n,i),Nh!==null&&Nh(n,i)};var qi=_(null);function uu(){var n=qi.current;return n!==null?n:Xe.pooledCache}function $a(n,i){i===null?te(qi,qi.current):te(qi,i.pool)}function Rh(){var n=uu();return n===null?null:{parent:ct._currentValue,pool:n}}var bo=Error(s(460)),cu=Error(s(474)),Za=Error(s(542)),Wa={then:function(){}};function wh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Dh(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Nn,Nn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ph(n),n;default:if(typeof i.status=="string")i.then(Nn,Nn);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=l}},function(l){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ph(n),n}throw zi=i,bo}}function Oi(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zi=a,bo):a}}var zi=null;function Ih(){if(zi===null)throw Error(s(459));var n=zi;return zi=null,n}function Ph(n){if(n===bo||n===Za)throw Error(s(483))}var Mo=null,bs=0;function ja(n){var i=bs;return bs+=1,Mo===null&&(Mo=[]),Dh(Mo,n,i)}function Ms(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function er(n,i){throw i.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Uh(n){function i(w,N){if(n){var P=w.deletions;P===null?(w.deletions=[N],w.flags|=16):P.push(N)}}function a(w,N){if(!n)return null;for(;N!==null;)i(w,N),N=N.sibling;return null}function l(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function m(w,N){return w=wn(w,N),w.index=0,w.sibling=null,w}function y(w,N,P){return w.index=P,n?(P=w.alternate,P!==null?(P=P.index,P<N?(w.flags|=67108866,N):P):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function E(w){return n&&w.alternate===null&&(w.flags|=67108866),w}function C(w,N,P,J){return N===null||N.tag!==6?(N=Wl(P,w.mode,J),N.return=w,N):(N=m(N,P),N.return=w,N)}function b(w,N,P,J){var ye=P.type;return ye===R?F(w,N,P.props.children,J,P.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Oi(ye)===N.type)?(N=m(N,P.props),Ms(N,P),N.return=w,N):(N=Ja(P.type,P.key,P.props,null,w.mode,J),Ms(N,P),N.return=w,N)}function U(w,N,P,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=jl(P,w.mode,J),N.return=w,N):(N=m(N,P.children||[]),N.return=w,N)}function F(w,N,P,J,ye){return N===null||N.tag!==7?(N=ki(P,w.mode,J,ye),N.return=w,N):(N=m(N,P),N.return=w,N)}function Q(w,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wl(""+N,w.mode,P),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return P=Ja(N.type,N.key,N.props,null,w.mode,P),Ms(P,N),P.return=w,P;case M:return N=jl(N,w.mode,P),N.return=w,N;case Z:return N=Oi(N),Q(w,N,P)}if(Le(N)||he(N))return N=ki(N,w.mode,P,null),N.return=w,N;if(typeof N.then=="function")return Q(w,ja(N),P);if(N.$$typeof===D)return Q(w,Qa(w,N),P);er(w,N)}return null}function V(w,N,P,J){var ye=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:C(w,N,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return P.key===ye?b(w,N,P,J):null;case M:return P.key===ye?U(w,N,P,J):null;case Z:return P=Oi(P),V(w,N,P,J)}if(Le(P)||he(P))return ye!==null?null:F(w,N,P,J,null);if(typeof P.then=="function")return V(w,N,ja(P),J);if(P.$$typeof===D)return V(w,N,Qa(w,P),J);er(w,P)}return null}function B(w,N,P,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return w=w.get(P)||null,C(N,w,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return w=w.get(J.key===null?P:J.key)||null,b(N,w,J,ye);case M:return w=w.get(J.key===null?P:J.key)||null,U(N,w,J,ye);case Z:return J=Oi(J),B(w,N,P,J,ye)}if(Le(J)||he(J))return w=w.get(P)||null,F(N,w,J,ye,null);if(typeof J.then=="function")return B(w,N,P,ja(J),ye);if(J.$$typeof===D)return B(w,N,P,Qa(N,J),ye);er(N,J)}return null}function fe(w,N,P,J){for(var ye=null,Be=null,ge=N,Me=N=0,Ue=null;ge!==null&&Me<P.length;Me++){ge.index>Me?(Ue=ge,ge=null):Ue=ge.sibling;var He=V(w,ge,P[Me],J);if(He===null){ge===null&&(ge=Ue);break}n&&ge&&He.alternate===null&&i(w,ge),N=y(He,N,Me),Be===null?ye=He:Be.sibling=He,Be=He,ge=Ue}if(Me===P.length)return a(w,ge),ke&&Dn(w,Me),ye;if(ge===null){for(;Me<P.length;Me++)ge=Q(w,P[Me],J),ge!==null&&(N=y(ge,N,Me),Be===null?ye=ge:Be.sibling=ge,Be=ge);return ke&&Dn(w,Me),ye}for(ge=l(ge);Me<P.length;Me++)Ue=B(ge,w,Me,P[Me],J),Ue!==null&&(n&&Ue.alternate!==null&&ge.delete(Ue.key===null?Me:Ue.key),N=y(Ue,N,Me),Be===null?ye=Ue:Be.sibling=Ue,Be=Ue);return n&&ge.forEach(function(Ci){return i(w,Ci)}),ke&&Dn(w,Me),ye}function Se(w,N,P,J){if(P==null)throw Error(s(151));for(var ye=null,Be=null,ge=N,Me=N=0,Ue=null,He=P.next();ge!==null&&!He.done;Me++,He=P.next()){ge.index>Me?(Ue=ge,ge=null):Ue=ge.sibling;var Ci=V(w,ge,He.value,J);if(Ci===null){ge===null&&(ge=Ue);break}n&&ge&&Ci.alternate===null&&i(w,ge),N=y(Ci,N,Me),Be===null?ye=Ci:Be.sibling=Ci,Be=Ci,ge=Ue}if(He.done)return a(w,ge),ke&&Dn(w,Me),ye;if(ge===null){for(;!He.done;Me++,He=P.next())He=Q(w,He.value,J),He!==null&&(N=y(He,N,Me),Be===null?ye=He:Be.sibling=He,Be=He);return ke&&Dn(w,Me),ye}for(ge=l(ge);!He.done;Me++,He=P.next())He=B(ge,w,Me,He.value,J),He!==null&&(n&&He.alternate!==null&&ge.delete(He.key===null?Me:He.key),N=y(He,N,Me),Be===null?ye=He:Be.sibling=He,Be=He);return n&&ge.forEach(function(iC){return i(w,iC)}),ke&&Dn(w,Me),ye}function Ke(w,N,P,J){if(typeof P=="object"&&P!==null&&P.type===R&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case A:e:{for(var ye=P.key;N!==null;){if(N.key===ye){if(ye=P.type,ye===R){if(N.tag===7){a(w,N.sibling),J=m(N,P.props.children),J.return=w,w=J;break e}}else if(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Oi(ye)===N.type){a(w,N.sibling),J=m(N,P.props),Ms(J,P),J.return=w,w=J;break e}a(w,N);break}else i(w,N);N=N.sibling}P.type===R?(J=ki(P.props.children,w.mode,J,P.key),J.return=w,w=J):(J=Ja(P.type,P.key,P.props,null,w.mode,J),Ms(J,P),J.return=w,w=J)}return E(w);case M:e:{for(ye=P.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(w,N.sibling),J=m(N,P.children||[]),J.return=w,w=J;break e}else{a(w,N);break}else i(w,N);N=N.sibling}J=jl(P,w.mode,J),J.return=w,w=J}return E(w);case Z:return P=Oi(P),Ke(w,N,P,J)}if(Le(P))return fe(w,N,P,J);if(he(P)){if(ye=he(P),typeof ye!="function")throw Error(s(150));return P=ye.call(P),Se(w,N,P,J)}if(typeof P.then=="function")return Ke(w,N,ja(P),J);if(P.$$typeof===D)return Ke(w,N,Qa(w,P),J);er(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(w,N.sibling),J=m(N,P),J.return=w,w=J):(a(w,N),J=Wl(P,w.mode,J),J.return=w,w=J),E(w)):a(w,N)}return function(w,N,P,J){try{bs=0;var ye=Ke(w,N,P,J);return Mo=null,ye}catch(ge){if(ge===bo||ge===Za)throw ge;var Be=Ot(29,ge,null,w.mode);return Be.lanes=J,Be.return=w,Be}finally{}}}var Fi=Uh(!0),Lh=Uh(!1),ai=!1;function fu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ri(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function li(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var m=l.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),l.pending=i,i=Ya(n),vh(n,null,a),i}return Fa(n,l,i,a),Ya(n)}function Ns(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,bd(n,a)}}function hu(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?m=y=i:y=y.next=i}else m=y=i;a={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var mu=!1;function Rs(){if(mu){var n=_o;if(n!==null)throw n}}function ws(n,i,a,l){mu=!1;var m=n.updateQueue;ai=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var b=C,U=b.next;b.next=null,E===null?y=U:E.next=U,E=b;var F=n.alternate;F!==null&&(F=F.updateQueue,C=F.lastBaseUpdate,C!==E&&(C===null?F.firstBaseUpdate=U:C.next=U,F.lastBaseUpdate=b))}if(y!==null){var Q=m.baseState;E=0,F=U=b=null,C=y;do{var V=C.lane&-536870913,B=V!==C.lane;if(B?(Pe&V)===V:(l&V)===V){V!==0&&V===Ao&&(mu=!0),F!==null&&(F=F.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=n,Se=C;V=i;var Ke=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){Q=fe.call(Ke,Q,V);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,V=typeof fe=="function"?fe.call(Ke,Q,V):fe,V==null)break e;Q=T({},Q,V);break e;case 2:ai=!0}}V=C.callback,V!==null&&(n.flags|=64,B&&(n.flags|=8192),B=m.callbacks,B===null?m.callbacks=[V]:B.push(V))}else B={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},F===null?(U=F=B,b=Q):F=F.next=B,E|=V;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;B=C,C=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);F===null&&(b=Q),m.baseState=b,m.firstBaseUpdate=U,m.lastBaseUpdate=F,y===null&&(m.shared.lanes=0),hi|=E,n.lanes=E,n.memoizedState=Q}}function Vh(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function kh(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Vh(a[n],i)}var No=_(null),tr=_(0);function Gh(n,i){n=On,te(tr,n),te(No,i),On=n|i.baseLanes}function pu(){te(tr,On),te(No,No.current)}function gu(){On=tr.current,G(No),G(tr)}var zt=_(null),nn=null;function ui(n){var i=n.alternate;te(at,at.current&1),te(zt,n),nn===null&&(i===null||No.current!==null||i.memoizedState!==null)&&(nn=n)}function yu(n){te(at,at.current),te(zt,n),nn===null&&(nn=n)}function Bh(n){n.tag===22?(te(at,at.current),te(zt,n),nn===null&&(nn=n)):ci()}function ci(){te(at,at.current),te(zt,zt.current)}function Ft(n){G(zt),nn===n&&(nn=null),G(at)}var at=_(0);function nr(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cc(a)||Ac(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Un=0,be=null,Ye=null,ft=null,ir=!1,Ro=!1,Yi=!1,or=0,Ds=0,wo=null,KE=0;function it(){throw Error(s(321))}function vu(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!qt(n[a],i[a]))return!1;return!0}function Tu(n,i,a,l,m,y){return Un=y,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=n===null||n.memoizedState===null?xm:Uu,Yi=!1,y=a(l,m),Yi=!1,Ro&&(y=qh(i,a,l,m)),Hh(n),y}function Hh(n){k.H=Us;var i=Ye!==null&&Ye.next!==null;if(Un=0,ft=Ye=be=null,ir=!1,Ds=0,wo=null,i)throw Error(s(300));n===null||dt||(n=n.dependencies,n!==null&&Xa(n)&&(dt=!0))}function qh(n,i,a,l){be=n;var m=0;do{if(Ro&&(wo=null),Ds=0,Ro=!1,25<=m)throw Error(s(301));if(m+=1,ft=Ye=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Cm,y=i(a,l)}while(Ro);return y}function XE(){var n=k.H,i=n.useState()[0];return i=typeof i.then=="function"?Is(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(be.flags|=1024),i}function Su(){var n=or!==0;return or=0,n}function Eu(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function xu(n){if(ir){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ir=!1}Un=0,ft=Ye=be=null,Ro=!1,Ds=or=0,wo=null}function Nt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?be.memoizedState=ft=n:ft=ft.next=n,ft}function rt(){if(Ye===null){var n=be.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=ft===null?be.memoizedState:ft.next;if(i!==null)ft=i,Ye=n;else{if(n===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ft===null?be.memoizedState=ft=n:ft=ft.next=n}return ft}function sr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(n){var i=Ds;return Ds+=1,wo===null&&(wo=[]),n=Dh(wo,n,i),i=be,(ft===null?i.memoizedState:ft.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?xm:Uu),n}function ar(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Is(n);if(n.$$typeof===D)return St(n)}throw Error(s(438,String(n)))}function Cu(n){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sr(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ie;return i.index++,a}function Ln(n,i){return typeof i=="function"?i(n):i}function rr(n){var i=rt();return Au(i,Ye,n)}function Au(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var m=n.baseQueue,y=l.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}i.baseQueue=m=y,l.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var C=E=null,b=null,U=i,F=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(Pe&Q)===Q:(Un&Q)===Q){var V=U.revertLane;if(V===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Ao&&(F=!0);else if((Un&V)===V){U=U.next,V===Ao&&(F=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(C=b=Q,E=y):b=b.next=Q,be.lanes|=V,hi|=V;Q=U.action,Yi&&a(y,Q),y=U.hasEagerState?U.eagerState:a(y,Q)}else V={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(C=b=V,E=y):b=b.next=V,be.lanes|=Q,hi|=Q;U=U.next}while(U!==null&&U!==i);if(b===null?E=y:b.next=C,!qt(y,n.memoizedState)&&(dt=!0,F&&(a=_o,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=b,l.lastRenderedState=y}return m===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function _u(n){var i=rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,m=a.pending,y=i.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);qt(y,i.memoizedState)||(dt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,l]}function Oh(n,i,a){var l=be,m=rt(),y=ke;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!qt((Ye||m).memoizedState,a);if(E&&(m.memoizedState=a,dt=!0),m=m.queue,Nu(Yh.bind(null,l,m,n),[n]),m.getSnapshot!==i||E||ft!==null&&ft.memoizedState.tag&1){if(l.flags|=2048,Do(9,{destroy:void 0},Fh.bind(null,l,m,a,i),null),Xe===null)throw Error(s(349));y||(Un&127)!==0||zh(l,i,a)}return a}function zh(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=sr(),be.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Fh(n,i,a,l){i.value=a,i.getSnapshot=l,Jh(i)&&Kh(n)}function Yh(n,i,a){return a(function(){Jh(i)&&Kh(n)})}function Jh(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!qt(n,a)}catch{return!0}}function Kh(n){var i=Vi(n,2);i!==null&&kt(i,n,2)}function bu(n){var i=Nt();if(typeof n=="function"){var a=n;if(n=a(),Yi){jn(!0);try{a()}finally{jn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:n},i}function Xh(n,i,a,l){return n.baseState=a,Au(n,Ye,typeof l=="function"?l:Ln)}function QE(n,i,a,l,m){if(cr(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};k.T!==null?a(!0):y.isTransition=!1,l(y),a=i.pending,a===null?(y.next=i.pending=y,Qh(i,y)):(y.next=a.next,i.pending=a.next=y)}}function Qh(n,i){var a=i.action,l=i.payload,m=n.state;if(i.isTransition){var y=k.T,E={};k.T=E;try{var C=a(m,l),b=k.S;b!==null&&b(E,C),$h(n,i,C)}catch(U){Mu(n,i,U)}finally{y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}else try{y=a(m,l),$h(n,i,y)}catch(U){Mu(n,i,U)}}function $h(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zh(n,i,l)},function(l){return Mu(n,i,l)}):Zh(n,i,a)}function Zh(n,i,a){i.status="fulfilled",i.value=a,Wh(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Qh(n,a)))}function Mu(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wh(i),i=i.next;while(i!==l)}n.action=null}function Wh(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function jh(n,i){return i}function em(n,i){if(ke){var a=Xe.formState;if(a!==null){e:{var l=be;if(ke){if($e){t:{for(var m=$e,y=tn;m.nodeType!==8;){if(!y){m=null;break t}if(m=on(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){$e=on(m.nextSibling),l=m.data==="F!";break e}}oi(l)}l=!1}l&&(i=a[0])}}return a=Nt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:i},a.queue=l,a=Tm.bind(null,be,l),l.dispatch=a,l=bu(!1),y=Pu.bind(null,be,!1,l.queue),l=Nt(),m={state:i,dispatch:null,action:n,pending:null},l.queue=m,a=QE.bind(null,be,m,y,a),m.dispatch=a,l.memoizedState=n,[i,a,!1]}function tm(n){var i=rt();return nm(i,Ye,n)}function nm(n,i,a){if(i=Au(n,i,jh)[0],n=rr(Ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Is(i)}catch(E){throw E===bo?Za:E}else l=i;i=rt();var m=i.queue,y=m.dispatch;return a!==i.memoizedState&&(be.flags|=2048,Do(9,{destroy:void 0},$E.bind(null,m,a),null)),[l,y,n]}function $E(n,i){n.action=i}function im(n){var i=rt(),a=Ye;if(a!==null)return nm(i,a,n);rt(),i=i.memoizedState,a=rt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Do(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=be.updateQueue,i===null&&(i=sr(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function om(){return rt().memoizedState}function lr(n,i,a,l){var m=Nt();be.flags|=n,m.memoizedState=Do(1|i,{destroy:void 0},a,l===void 0?null:l)}function ur(n,i,a,l){var m=rt();l=l===void 0?null:l;var y=m.memoizedState.inst;Ye!==null&&l!==null&&vu(l,Ye.memoizedState.deps)?m.memoizedState=Do(i,y,a,l):(be.flags|=n,m.memoizedState=Do(1|i,y,a,l))}function sm(n,i){lr(8390656,8,n,i)}function Nu(n,i){ur(2048,8,n,i)}function ZE(n){be.flags|=4;var i=be.updateQueue;if(i===null)i=sr(),be.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function am(n){var i=rt().memoizedState;return ZE({ref:i,nextImpl:n}),function(){if((Oe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function rm(n,i){return ur(4,2,n,i)}function lm(n,i){return ur(4,4,n,i)}function um(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function cm(n,i,a){a=a!=null?a.concat([n]):null,ur(4,4,um.bind(null,i,n),a)}function Ru(){}function fm(n,i){var a=rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vu(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function dm(n,i){var a=rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vu(i,l[1]))return l[0];if(l=n(),Yi){jn(!0);try{n()}finally{jn(!1)}}return a.memoizedState=[l,i],l}function wu(n,i,a){return a===void 0||(Un&1073741824)!==0&&(Pe&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=hp(),be.lanes|=n,hi|=n,a)}function hm(n,i,a,l){return qt(a,i)?a:No.current!==null?(n=wu(n,a,l),qt(n,i)||(dt=!0),n):(Un&42)===0||(Un&1073741824)!==0&&(Pe&261930)===0?(dt=!0,n.memoizedState=a):(n=hp(),be.lanes|=n,hi|=n,i)}function mm(n,i,a,l,m){var y=q.p;q.p=y!==0&&8>y?y:8;var E=k.T,C={};k.T=C,Pu(n,!1,i,a);try{var b=m(),U=k.S;if(U!==null&&U(C,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=JE(b,l);Ps(n,i,F,Kt(n))}else Ps(n,i,l,Kt(n))}catch(Q){Ps(n,i,{then:function(){},status:"rejected",reason:Q},Kt())}finally{q.p=y,E!==null&&C.types!==null&&(E.types=C.types),k.T=E}}function WE(){}function Du(n,i,a,l){if(n.tag!==5)throw Error(s(476));var m=pm(n).queue;mm(n,m,i,ee,a===null?WE:function(){return gm(n),a(l)})}function pm(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function gm(n){var i=pm(n);i.next===null&&(i=n.alternate.memoizedState),Ps(n,i.next.queue,{},Kt())}function Iu(){return St($s)}function ym(){return rt().memoizedState}function vm(){return rt().memoizedState}function jE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Kt();n=ri(a);var l=li(i,n,a);l!==null&&(kt(l,i,a),Ns(l,i,a)),i={cache:ru()},n.payload=i;return}i=i.return}}function ex(n,i,a){var l=Kt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cr(n)?Sm(i,a):(a=$l(n,i,a,l),a!==null&&(kt(a,n,l),Em(a,i,l)))}function Tm(n,i,a){var l=Kt();Ps(n,i,a,l)}function Ps(n,i,a,l){var m={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cr(n))Sm(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,C=y(E,a);if(m.hasEagerState=!0,m.eagerState=C,qt(C,E))return Fa(n,i,m,0),Xe===null&&za(),!1}catch{}finally{}if(a=$l(n,i,m,l),a!==null)return kt(a,n,l),Em(a,i,l),!0}return!1}function Pu(n,i,a,l){if(l={lane:2,revertLane:fc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cr(n)){if(i)throw Error(s(479))}else i=$l(n,a,l,2),i!==null&&kt(i,n,2)}function cr(n){var i=n.alternate;return n===be||i!==null&&i===be}function Sm(n,i){Ro=ir=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Em(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,bd(n,a)}}var Us={readContext:St,use:ar,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Us.useEffectEvent=it;var xm={readContext:St,use:ar,useCallback:function(n,i){return Nt().memoizedState=[n,i===void 0?null:i],n},useContext:St,useEffect:sm,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,lr(4194308,4,um.bind(null,i,n),a)},useLayoutEffect:function(n,i){return lr(4194308,4,n,i)},useInsertionEffect:function(n,i){lr(4,2,n,i)},useMemo:function(n,i){var a=Nt();i=i===void 0?null:i;var l=n();if(Yi){jn(!0);try{n()}finally{jn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Nt();if(a!==void 0){var m=a(i);if(Yi){jn(!0);try{a(i)}finally{jn(!1)}}}else m=i;return l.memoizedState=l.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},l.queue=n,n=n.dispatch=ex.bind(null,be,n),[l.memoizedState,n]},useRef:function(n){var i=Nt();return n={current:n},i.memoizedState=n},useState:function(n){n=bu(n);var i=n.queue,a=Tm.bind(null,be,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ru,useDeferredValue:function(n,i){var a=Nt();return wu(a,n,i)},useTransition:function(){var n=bu(!1);return n=mm.bind(null,be,n.queue,!0,!1),Nt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=be,m=Nt();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));(Pe&127)!==0||zh(l,i,a)}m.memoizedState=a;var y={value:a,getSnapshot:i};return m.queue=y,sm(Yh.bind(null,l,y,n),[n]),l.flags|=2048,Do(9,{destroy:void 0},Fh.bind(null,l,y,a,i),null),a},useId:function(){var n=Nt(),i=Xe.identifierPrefix;if(ke){var a=En,l=Sn;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=or++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=KE++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Iu,useFormState:em,useActionState:em,useOptimistic:function(n){var i=Nt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pu.bind(null,be,!0,a),a.dispatch=i,[n,i]},useMemoCache:Cu,useCacheRefresh:function(){return Nt().memoizedState=jE.bind(null,be)},useEffectEvent:function(n){var i=Nt(),a={impl:n};return i.memoizedState=a,function(){if((Oe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Uu={readContext:St,use:ar,useCallback:fm,useContext:St,useEffect:Nu,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:lm,useMemo:dm,useReducer:rr,useRef:om,useState:function(){return rr(Ln)},useDebugValue:Ru,useDeferredValue:function(n,i){var a=rt();return hm(a,Ye.memoizedState,n,i)},useTransition:function(){var n=rr(Ln)[0],i=rt().memoizedState;return[typeof n=="boolean"?n:Is(n),i]},useSyncExternalStore:Oh,useId:ym,useHostTransitionStatus:Iu,useFormState:tm,useActionState:tm,useOptimistic:function(n,i){var a=rt();return Xh(a,Ye,n,i)},useMemoCache:Cu,useCacheRefresh:vm};Uu.useEffectEvent=am;var Cm={readContext:St,use:ar,useCallback:fm,useContext:St,useEffect:Nu,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:lm,useMemo:dm,useReducer:_u,useRef:om,useState:function(){return _u(Ln)},useDebugValue:Ru,useDeferredValue:function(n,i){var a=rt();return Ye===null?wu(a,n,i):hm(a,Ye.memoizedState,n,i)},useTransition:function(){var n=_u(Ln)[0],i=rt().memoizedState;return[typeof n=="boolean"?n:Is(n),i]},useSyncExternalStore:Oh,useId:ym,useHostTransitionStatus:Iu,useFormState:im,useActionState:im,useOptimistic:function(n,i){var a=rt();return Ye!==null?Xh(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:vm};Cm.useEffectEvent=am;function Lu(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vu={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Kt(),m=ri(l);m.payload=i,a!=null&&(m.callback=a),i=li(n,m,l),i!==null&&(kt(i,n,l),Ns(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Kt(),m=ri(l);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=li(n,m,l),i!==null&&(kt(i,n,l),Ns(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Kt(),l=ri(a);l.tag=2,i!=null&&(l.callback=i),i=li(n,l,a),i!==null&&(kt(i,n,a),Ns(i,n,a))}};function Am(n,i,a,l,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ss(a,l)||!Ss(m,y):!0}function _m(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Vu.enqueueReplaceState(i,i.state,null)}function Ji(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function bm(n){Oa(n)}function Mm(n){console.error(n)}function Nm(n){Oa(n)}function fr(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Rm(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ku(n,i,a){return a=ri(a),a.tag=3,a.payload={element:null},a.callback=function(){fr(n,i)},a}function wm(n){return n=ri(n),n.tag=3,n}function Dm(n,i,a,l){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;n.payload=function(){return m(y)},n.callback=function(){Rm(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Rm(i,a,l),typeof m!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function tx(n,i,a,l,m){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,m,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return nn===null?Cr():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=m,l===Wa?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),lc(n,l,m)),!1;case 22:return a.flags|=65536,l===Wa?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),lc(n,l,m)),!1}throw Error(s(435,a.tag))}return lc(n,l,m),Cr(),!1}if(ke)return i=zt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,l!==nu&&(n=Error(s(422),{cause:l}),Cs(Wt(n,a)))):(l!==nu&&(i=Error(s(423),{cause:l}),Cs(Wt(i,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,l=Wt(l,a),m=ku(n.stateNode,l,m),hu(n,m),ot!==4&&(ot=2)),!1;var y=Error(s(520),{cause:l});if(y=Wt(y,a),Os===null?Os=[y]:Os.push(y),ot!==4&&(ot=2),i===null)return!0;l=Wt(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=ku(a.stateNode,l,n),hu(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=wm(m),Dm(m,n,a,l),hu(a,m),!1}a=a.return}while(a!==null);return!1}var Gu=Error(s(461)),dt=!1;function Et(n,i,a,l){i.child=n===null?Lh(i,null,a,l):Fi(i,n.child,a,l)}function Im(n,i,a,l,m){a=a.render;var y=i.ref;if("ref"in l){var E={};for(var C in l)C!=="ref"&&(E[C]=l[C])}else E=l;return Hi(i),l=Tu(n,i,a,E,y,m),C=Su(),n!==null&&!dt?(Eu(n,i,m),Vn(n,i,m)):(ke&&C&&eu(i),i.flags|=1,Et(n,i,l,m),i.child)}function Pm(n,i,a,l,m){if(n===null){var y=a.type;return typeof y=="function"&&!Zl(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,Um(n,i,y,l,m)):(n=Ja(a.type,null,l,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Ju(n,m)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ss,a(E,l)&&n.ref===i.ref)return Vn(n,i,m)}return i.flags|=1,n=wn(y,l),n.ref=i.ref,n.return=i,i.child=n}function Um(n,i,a,l,m){if(n!==null){var y=n.memoizedProps;if(Ss(y,l)&&n.ref===i.ref)if(dt=!1,i.pendingProps=l=y,Ju(n,m))(n.flags&131072)!==0&&(dt=!0);else return i.lanes=n.lanes,Vn(n,i,m)}return Bu(n,i,a,l,m)}function Lm(n,i,a,l){var m=l.children,y=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(l=i.child=n.child,m=0;l!==null;)m=m|l.lanes|l.childLanes,l=l.sibling;l=m&~y}else l=0,i.child=null;return Vm(n,i,y,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&$a(i,y!==null?y.cachePool:null),y!==null?Gh(i,y):pu(),Bh(i);else return l=i.lanes=536870912,Vm(n,i,y!==null?y.baseLanes|a:a,a,l)}else y!==null?($a(i,y.cachePool),Gh(i,y),ci(),i.memoizedState=null):(n!==null&&$a(i,null),pu(),ci());return Et(n,i,m,a),i.child}function Ls(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vm(n,i,a,l,m){var y=uu();return y=y===null?null:{parent:ct._currentValue,pool:y},i.memoizedState={baseLanes:a,cachePool:y},n!==null&&$a(i,null),pu(),Bh(i),n!==null&&Co(n,i,l,!0),i.childLanes=m,null}function dr(n,i){return i=mr({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function km(n,i,a){return Fi(i,n.child,null,a),n=dr(i,i.pendingProps),n.flags|=2,Ft(i),i.memoizedState=null,n}function nx(n,i,a){var l=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(ke){if(l.mode==="hidden")return n=dr(i,l),i.lanes=536870912,Ls(null,n);if(yu(i),(n=$e)?(n=Qp(n,tn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ni!==null?{id:Sn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Sh(n),a.return=i,i.child=a,Tt=i,$e=null)):n=null,n===null)throw oi(i);return i.lanes=536870912,null}return dr(i,l)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(yu(i),m)if(i.flags&256)i.flags&=-257,i=km(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(dt||Co(n,i,a,!1),m=(a&n.childLanes)!==0,dt||m){if(l=Xe,l!==null&&(E=Md(l,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,Vi(n,E),kt(l,n,E),Gu;Cr(),i=km(n,i,a)}else n=y.treeContext,$e=on(E.nextSibling),Tt=i,ke=!0,ii=null,tn=!1,n!==null&&Ch(i,n),i=dr(i,l),i.flags|=4096;return i}return n=wn(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function hr(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Bu(n,i,a,l,m){return Hi(i),a=Tu(n,i,a,l,void 0,m),l=Su(),n!==null&&!dt?(Eu(n,i,m),Vn(n,i,m)):(ke&&l&&eu(i),i.flags|=1,Et(n,i,a,m),i.child)}function Gm(n,i,a,l,m,y){return Hi(i),i.updateQueue=null,a=qh(i,l,a,m),Hh(n),l=Su(),n!==null&&!dt?(Eu(n,i,y),Vn(n,i,y)):(ke&&l&&eu(i),i.flags|=1,Et(n,i,a,y),i.child)}function Bm(n,i,a,l,m){if(Hi(i),i.stateNode===null){var y=To,E=a.contextType;typeof E=="object"&&E!==null&&(y=St(E)),y=new a(l,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vu,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=l,y.state=i.memoizedState,y.refs={},fu(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?St(E):To,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Lu(i,a,E,l),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Vu.enqueueReplaceState(y,y.state,null),ws(i,l,y,m),Rs(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,b=Ji(a,C);y.props=b;var U=y.context,F=a.contextType;E=To,typeof F=="object"&&F!==null&&(E=St(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||U!==E)&&_m(i,y,l,E),ai=!1;var V=i.memoizedState;y.state=V,ws(i,l,y,m),Rs(),U=i.memoizedState,C||V!==U||ai?(typeof Q=="function"&&(Lu(i,a,Q,l),U=i.memoizedState),(b=ai||Am(i,a,b,l,V,U,E))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),y.props=l,y.state=U,y.context=E,l=b):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{y=i.stateNode,du(n,i),E=i.memoizedProps,F=Ji(a,E),y.props=F,Q=i.pendingProps,V=y.context,U=a.contextType,b=To,typeof U=="object"&&U!==null&&(b=St(U)),C=a.getDerivedStateFromProps,(U=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Q||V!==b)&&_m(i,y,l,b),ai=!1,V=i.memoizedState,y.state=V,ws(i,l,y,m),Rs();var B=i.memoizedState;E!==Q||V!==B||ai||n!==null&&n.dependencies!==null&&Xa(n.dependencies)?(typeof C=="function"&&(Lu(i,a,C,l),B=i.memoizedState),(F=ai||Am(i,a,F,l,V,B,b)||n!==null&&n.dependencies!==null&&Xa(n.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,B,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,B,b)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),y.props=l,y.state=B,y.context=b,l=F):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),l=!1)}return y=l,hr(n,i),l=(i.flags&128)!==0,y||l?(y=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&l?(i.child=Fi(i,n.child,null,m),i.child=Fi(i,null,a,m)):Et(n,i,a,m),i.memoizedState=y.state,n=i.child):n=Vn(n,i,m),n}function Hm(n,i,a,l){return Gi(),i.flags|=256,Et(n,i,a,l),i.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qu(n){return{baseLanes:n,cachePool:Rh()}}function Ou(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Jt),n}function qm(n,i,a){var l=i.pendingProps,m=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(at.current&2)!==0),E&&(m=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ke){if(m?ui(i):ci(),(n=$e)?(n=Qp(n,tn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ni!==null?{id:Sn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Sh(n),a.return=i,i.child=a,Tt=i,$e=null)):n=null,n===null)throw oi(i);return Ac(n)?i.lanes=32:i.lanes=536870912,null}var C=l.children;return l=l.fallback,m?(ci(),m=i.mode,C=mr({mode:"hidden",children:C},m),l=ki(l,m,a,null),C.return=i,l.return=i,C.sibling=l,i.child=C,l=i.child,l.memoizedState=qu(a),l.childLanes=Ou(n,E,a),i.memoizedState=Hu,Ls(null,l)):(ui(i),zu(i,C))}var b=n.memoizedState;if(b!==null&&(C=b.dehydrated,C!==null)){if(y)i.flags&256?(ui(i),i.flags&=-257,i=Fu(n,i,a)):i.memoizedState!==null?(ci(),i.child=n.child,i.flags|=128,i=null):(ci(),C=l.fallback,m=i.mode,l=mr({mode:"visible",children:l.children},m),C=ki(C,m,a,null),C.flags|=2,l.return=i,C.return=i,l.sibling=C,i.child=l,Fi(i,n.child,null,a),l=i.child,l.memoizedState=qu(a),l.childLanes=Ou(n,E,a),i.memoizedState=Hu,i=Ls(null,l));else if(ui(i),Ac(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var U=E.dgst;E=U,l=Error(s(419)),l.stack="",l.digest=E,Cs({value:l,source:null,stack:null}),i=Fu(n,i,a)}else if(dt||Co(n,i,a,!1),E=(a&n.childLanes)!==0,dt||E){if(E=Xe,E!==null&&(l=Md(E,a),l!==0&&l!==b.retryLane))throw b.retryLane=l,Vi(n,l),kt(E,n,l),Gu;Cc(C)||Cr(),i=Fu(n,i,a)}else Cc(C)?(i.flags|=192,i.child=n.child,i=null):(n=b.treeContext,$e=on(C.nextSibling),Tt=i,ke=!0,ii=null,tn=!1,n!==null&&Ch(i,n),i=zu(i,l.children),i.flags|=4096);return i}return m?(ci(),C=l.fallback,m=i.mode,b=n.child,U=b.sibling,l=wn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,U!==null?C=wn(U,C):(C=ki(C,m,a,null),C.flags|=2),C.return=i,l.return=i,l.sibling=C,i.child=l,Ls(null,l),l=i.child,C=n.child.memoizedState,C===null?C=qu(a):(m=C.cachePool,m!==null?(b=ct._currentValue,m=m.parent!==b?{parent:b,pool:b}:m):m=Rh(),C={baseLanes:C.baseLanes|a,cachePool:m}),l.memoizedState=C,l.childLanes=Ou(n,E,a),i.memoizedState=Hu,Ls(n.child,l)):(ui(i),a=n.child,n=a.sibling,a=wn(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function zu(n,i){return i=mr({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function mr(n,i){return n=Ot(22,n,null,i),n.lanes=0,n}function Fu(n,i,a){return Fi(i,n.child,null,a),n=zu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Om(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),su(n.return,i,a)}function Yu(n,i,a,l,m,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:m,treeForkCount:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=m,E.treeForkCount=y)}function zm(n,i,a){var l=i.pendingProps,m=l.revealOrder,y=l.tail;l=l.children;var E=at.current,C=(E&2)!==0;if(C?(E=E&1|2,i.flags|=128):E&=1,te(at,E),Et(n,i,l,a),l=ke?xs:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Om(n,a,i);else if(n.tag===19)Om(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=i.child,m=null;a!==null;)n=a.alternate,n!==null&&nr(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),Yu(i,!1,m,a,y,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&nr(n)===null){i.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Yu(i,!0,a,null,y,l);break;case"together":Yu(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Vn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),hi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Co(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=wn(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=wn(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Ju(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Xa(n)))}function ix(n,i,a){switch(i.tag){case 3:nt(i,i.stateNode.containerInfo),si(i,ct,n.memoizedState.cache),Gi();break;case 27:case 5:bn(i);break;case 4:nt(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,yu(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ui(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qm(n,i,a):(ui(i),n=Vn(n,i,a),n!==null?n.sibling:null);ui(i);break;case 19:var m=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Co(n,i,a,!1),l=(a&i.childLanes)!==0),m){if(l)return zm(n,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(at,at.current),l)break;return null;case 22:return i.lanes=0,Lm(n,i,a,i.pendingProps);case 24:si(i,ct,n.memoizedState.cache)}return Vn(n,i,a)}function Fm(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)dt=!0;else{if(!Ju(n,a)&&(i.flags&128)===0)return dt=!1,ix(n,i,a);dt=(n.flags&131072)!==0}else dt=!1,ke&&(i.flags&1048576)!==0&&xh(i,xs,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=Oi(i.elementType),i.type=n,typeof n=="function")Zl(n)?(l=Ji(n,l),i.tag=1,i=Bm(null,i,n,l,a)):(i.tag=0,i=Bu(null,i,n,l,a));else{if(n!=null){var m=n.$$typeof;if(m===X){i.tag=11,i=Im(null,i,n,l,a);break e}else if(m===Y){i.tag=14,i=Pm(null,i,n,l,a);break e}}throw i=Ne(n)||n,Error(s(306,i,""))}}return i;case 0:return Bu(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,m=Ji(l,i.pendingProps),Bm(n,i,l,m,a);case 3:e:{if(nt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var y=i.memoizedState;m=y.element,du(n,i),ws(i,l,null,a);var E=i.memoizedState;if(l=E.cache,si(i,ct,l),l!==y.cache&&au(i,[ct],a,!0),Rs(),l=E.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Hm(n,i,l,a);break e}else if(l!==m){m=Wt(Error(s(424)),i),Cs(m),i=Hm(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=on(n.firstChild),Tt=i,ke=!0,ii=null,tn=!0,a=Lh(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gi(),l===m){i=Vn(n,i,a);break e}Et(n,i,l,a)}i=i.child}return i;case 26:return hr(n,i),n===null?(a=tg(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,n=i.pendingProps,l=wr(Te.current).createElement(a),l[vt]=i,l[Dt]=n,xt(l,a,n),gt(l),i.stateNode=l):i.memoizedState=tg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return bn(i),n===null&&ke&&(l=i.stateNode=Wp(i.type,i.pendingProps,Te.current),Tt=i,tn=!0,m=$e,vi(i.type)?(_c=m,$e=on(l.firstChild)):$e=m),Et(n,i,i.pendingProps.children,a),hr(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ke&&((m=l=$e)&&(l=Px(l,i.type,i.pendingProps,tn),l!==null?(i.stateNode=l,Tt=i,$e=on(l.firstChild),tn=!1,m=!0):m=!1),m||oi(i)),bn(i),m=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,l=y.children,Sc(m,y)?l=null:E!==null&&Sc(m,E)&&(i.flags|=32),i.memoizedState!==null&&(m=Tu(n,i,XE,null,null,a),$s._currentValue=m),hr(n,i),Et(n,i,l,a),i.child;case 6:return n===null&&ke&&((n=a=$e)&&(a=Ux(a,i.pendingProps,tn),a!==null?(i.stateNode=a,Tt=i,$e=null,n=!0):n=!1),n||oi(i)),null;case 13:return qm(n,i,a);case 4:return nt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Fi(i,null,l,a):Et(n,i,l,a),i.child;case 11:return Im(n,i,i.type,i.pendingProps,a);case 7:return Et(n,i,i.pendingProps,a),i.child;case 8:return Et(n,i,i.pendingProps.children,a),i.child;case 12:return Et(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,si(i,i.type,l.value),Et(n,i,l.children,a),i.child;case 9:return m=i.type._context,l=i.pendingProps.children,Hi(i),m=St(m),l=l(m),i.flags|=1,Et(n,i,l,a),i.child;case 14:return Pm(n,i,i.type,i.pendingProps,a);case 15:return Um(n,i,i.type,i.pendingProps,a);case 19:return zm(n,i,a);case 31:return nx(n,i,a);case 22:return Lm(n,i,a,i.pendingProps);case 24:return Hi(i),l=St(ct),n===null?(m=uu(),m===null&&(m=Xe,y=ru(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),i.memoizedState={parent:l,cache:m},fu(i),si(i,ct,m)):((n.lanes&a)!==0&&(du(n,i),ws(i,null,null,a),Rs()),m=n.memoizedState,y=i.memoizedState,m.parent!==l?(m={parent:l,cache:l},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),si(i,ct,l)):(l=y.cache,si(i,ct,l),l!==m.cache&&au(i,[ct],a,!0))),Et(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function kn(n){n.flags|=4}function Ku(n,i,a,l,m){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(yp())n.flags|=8192;else throw zi=Wa,cu}else n.flags&=-16777217}function Ym(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ag(i))if(yp())n.flags|=8192;else throw zi=Wa,cu}function pr(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ad():536870912,n.lanes|=i,Lo|=i)}function Vs(n,i){if(!ke)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ze(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function ox(n,i,a){var l=i.pendingProps;switch(tu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pn(ct),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(xo(i)?kn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,iu())),Ze(i),null;case 26:var m=i.type,y=i.memoizedState;return n===null?(kn(i),y!==null?(Ze(i),Ym(i,y)):(Ze(i),Ku(i,m,null,l,a))):y?y!==n.memoizedState?(kn(i),Ze(i),Ym(i,y)):(Ze(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&kn(i),Ze(i),Ku(i,m,n,l,a)),null;case 27:if(Zn(i),a=Te.current,m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&kn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ze(i),null}n=ue.current,xo(i)?Ah(i):(n=Wp(m,l,a),i.stateNode=n,kn(i))}return Ze(i),null;case 5:if(Zn(i),m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&kn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ze(i),null}if(y=ue.current,xo(i))Ah(i);else{var E=wr(Te.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?E.createElement(m,{is:l.is}):E.createElement(m)}}y[vt]=i,y[Dt]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=y;e:switch(xt(y,m,l),m){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kn(i)}}return Ze(i),Ku(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&kn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Te.current,xo(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,m=Tt,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}n[vt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qp(n.nodeValue,a)),n||oi(i,!0)}else n=wr(n).createTextNode(l),n[vt]=i,i.stateNode=n}return Ze(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=xo(i),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[vt]=i}else Gi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),n=!1}else a=iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Ft(i),i):(Ft(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ze(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=xo(i),l!==null&&l.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[vt]=i}else Gi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),m=!1}else m=iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Ft(i),i):(Ft(i),null)}return Ft(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==m&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),pr(i,i.updateQueue),Ze(i),null);case 4:return Qe(),n===null&&pc(i.stateNode.containerInfo),Ze(i),null;case 10:return Pn(i.type),Ze(i),null;case 19:if(G(at),l=i.memoizedState,l===null)return Ze(i),null;if(m=(i.flags&128)!==0,y=l.rendering,y===null)if(m)Vs(l,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=nr(n),y!==null){for(i.flags|=128,Vs(l,!1),n=y.updateQueue,i.updateQueue=n,pr(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Th(a,n),a=a.sibling;return te(at,at.current&1|2),ke&&Dn(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Ge()>Sr&&(i.flags|=128,m=!0,Vs(l,!1),i.lanes=4194304)}else{if(!m)if(n=nr(y),n!==null){if(i.flags|=128,m=!0,n=n.updateQueue,i.updateQueue=n,pr(i,n),Vs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!ke)return Ze(i),null}else 2*Ge()-l.renderingStartTime>Sr&&a!==536870912&&(i.flags|=128,m=!0,Vs(l,!1),i.lanes=4194304);l.isBackwards?(y.sibling=i.child,i.child=y):(n=l.last,n!==null?n.sibling=y:i.child=y,l.last=y)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ge(),n.sibling=null,a=at.current,te(at,m?a&1|2:a&1),ke&&Dn(i,l.treeForkCount),n):(Ze(i),null);case 22:case 23:return Ft(i),gu(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&pr(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&G(qi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pn(ct),Ze(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sx(n,i){switch(tu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Pn(ct),Qe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Zn(i),null;case 31:if(i.memoizedState!==null){if(Ft(i),i.alternate===null)throw Error(s(340));Gi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Ft(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return G(at),null;case 4:return Qe(),null;case 10:return Pn(i.type),null;case 22:case 23:return Ft(i),gu(),n!==null&&G(qi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Pn(ct),null;case 25:return null;default:return null}}function Jm(n,i){switch(tu(i),i.tag){case 3:Pn(ct),Qe();break;case 26:case 27:case 5:Zn(i);break;case 4:Qe();break;case 31:i.memoizedState!==null&&Ft(i);break;case 13:Ft(i);break;case 19:G(at);break;case 10:Pn(i.type);break;case 22:case 23:Ft(i),gu(),n!==null&&G(qi);break;case 24:Pn(ct)}}function ks(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var m=l.next;a=m;do{if((a.tag&n)===n){l=void 0;var y=a.create,E=a.inst;l=y(),E.destroy=l}a=a.next}while(a!==m)}}catch(C){Fe(i,i.return,C)}}function fi(n,i,a){try{var l=i.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var y=m.next;l=y;do{if((l.tag&n)===n){var E=l.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,m=i;var b=a,U=C;try{U()}catch(F){Fe(m,b,F)}}}l=l.next}while(l!==y)}}catch(F){Fe(i,i.return,F)}}function Km(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{kh(i,a)}catch(l){Fe(n,n.return,l)}}}function Xm(n,i,a){a.props=Ji(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Fe(n,i,l)}}function Gs(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(m){Fe(n,i,m)}}function xn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(m){Fe(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Fe(n,i,m)}else a.current=null}function Qm(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(m){Fe(n,n.return,m)}}function Xu(n,i,a){try{var l=n.stateNode;Mx(l,n.type,a,i),l[Dt]=i}catch(m){Fe(n,n.return,m)}}function $m(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vi(n.type)||n.tag===4}function Qu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$m(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $u(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nn));else if(l!==4&&(l===27&&vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for($u(n,i,a),n=n.sibling;n!==null;)$u(n,i,a),n=n.sibling}function gr(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(gr(n,i,a),n=n.sibling;n!==null;)gr(n,i,a),n=n.sibling}function Zm(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);xt(i,l,a),i[vt]=n,i[Dt]=a}catch(y){Fe(n,n.return,y)}}var Gn=!1,ht=!1,Zu=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,yt=null;function ax(n,i){if(n=n.containerInfo,vc=kr,n=ch(n),Fl(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var m=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,C=-1,b=-1,U=0,F=0,Q=n,V=null;t:for(;;){for(var B;Q!==a||m!==0&&Q.nodeType!==3||(C=E+m),Q!==y||l!==0&&Q.nodeType!==3||(b=E+l),Q.nodeType===3&&(E+=Q.nodeValue.length),(B=Q.firstChild)!==null;)V=Q,Q=B;for(;;){if(Q===n)break t;if(V===a&&++U===m&&(C=E),V===y&&++F===l&&(b=E),(B=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=B}a=C===-1||b===-1?null:{start:C,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:n,selectionRange:a},kr=!1,yt=i;yt!==null;)if(i=yt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,yt=n;else for(;yt!==null;){switch(i=yt,y=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,m=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var fe=Ji(a.type,m);n=l.getSnapshotBeforeUpdate(fe,y),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Fe(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)xc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,yt=n;break}yt=i.return}}function jm(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(n,a),l&4&&ks(5,a);break;case 1:if(Hn(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Fe(a,a.return,E)}else{var m=Ji(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Fe(a,a.return,E)}}l&64&&Km(a),l&512&&Gs(a,a.return);break;case 3:if(Hn(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{kh(n,i)}catch(E){Fe(a,a.return,E)}}break;case 27:i===null&&l&4&&Zm(a);case 26:case 5:Hn(n,a),i===null&&l&4&&Qm(a),l&512&&Gs(a,a.return);break;case 12:Hn(n,a);break;case 31:Hn(n,a),l&4&&np(n,a);break;case 13:Hn(n,a),l&4&&ip(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=px.bind(null,a),Lx(n,a))));break;case 22:if(l=a.memoizedState!==null||Gn,!l){i=i!==null&&i.memoizedState!==null||ht,m=Gn;var y=ht;Gn=l,(ht=i)&&!y?qn(n,a,(a.subtreeFlags&8772)!==0):Hn(n,a),Gn=m,ht=y}break;case 30:break;default:Hn(n,a)}}function ep(n){var i=n.alternate;i!==null&&(n.alternate=null,ep(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ml(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var et=null,Pt=!1;function Bn(n,i,a){for(a=a.child;a!==null;)tp(n,i,a),a=a.sibling}function tp(n,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ls,a)}catch{}switch(a.tag){case 26:ht||xn(a,i),Bn(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||xn(a,i);var l=et,m=Pt;vi(a.type)&&(et=a.stateNode,Pt=!1),Bn(n,i,a),Ks(a.stateNode),et=l,Pt=m;break;case 5:ht||xn(a,i);case 6:if(l=et,m=Pt,et=null,Bn(n,i,a),et=l,Pt=m,et!==null)if(Pt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(y){Fe(a,i,y)}else try{et.removeChild(a.stateNode)}catch(y){Fe(a,i,y)}break;case 18:et!==null&&(Pt?(n=et,Kp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zo(n)):Kp(et,a.stateNode));break;case 4:l=et,m=Pt,et=a.stateNode.containerInfo,Pt=!0,Bn(n,i,a),et=l,Pt=m;break;case 0:case 11:case 14:case 15:fi(2,a,i),ht||fi(4,a,i),Bn(n,i,a);break;case 1:ht||(xn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xm(a,i,l)),Bn(n,i,a);break;case 21:Bn(n,i,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,Bn(n,i,a),ht=l;break;default:Bn(n,i,a)}}function np(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{zo(n)}catch(a){Fe(i,i.return,a)}}}function ip(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zo(n)}catch(a){Fe(i,i.return,a)}}function rx(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Wm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Wm),i;default:throw Error(s(435,n.tag))}}function yr(n,i){var a=rx(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var m=gx.bind(null,n,l);l.then(m,m)}})}function Ut(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var m=a[l],y=n,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(vi(C.type)){et=C.stateNode,Pt=!1;break e}break;case 5:et=C.stateNode,Pt=!1;break e;case 3:case 4:et=C.stateNode.containerInfo,Pt=!0;break e}C=C.return}if(et===null)throw Error(s(160));tp(y,E,m),et=null,Pt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)op(i,n),i=i.sibling}var mn=null;function op(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ut(i,n),Lt(n),l&4&&(fi(3,n,n.return),ks(3,n),fi(5,n,n.return));break;case 1:Ut(i,n),Lt(n),l&512&&(ht||a===null||xn(a,a.return)),l&64&&Gn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var m=mn;if(Ut(i,n),Lt(n),l&512&&(ht||a===null||xn(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":y=m.getElementsByTagName("title")[0],(!y||y[fs]||y[vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(l),m.head.insertBefore(y,m.querySelector("head > title"))),xt(y,l,a),y[vt]=n,gt(y),l=y;break e;case"link":var E=og("link","href",m).get(l+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}y=m.createElement(l),xt(y,l,a),m.head.appendChild(y);break;case"meta":if(E=og("meta","content",m).get(l+(a.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}y=m.createElement(l),xt(y,l,a),m.head.appendChild(y);break;default:throw Error(s(468,l))}y[vt]=n,gt(y),l=y}n.stateNode=l}else sg(m,n.type,n.stateNode);else n.stateNode=ig(m,l,n.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?sg(m,n.type,n.stateNode):ig(m,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xu(n,n.memoizedProps,a.memoizedProps)}break;case 27:Ut(i,n),Lt(n),l&512&&(ht||a===null||xn(a,a.return)),a!==null&&l&4&&Xu(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Ut(i,n),Lt(n),l&512&&(ht||a===null||xn(a,a.return)),n.flags&32){m=n.stateNode;try{fo(m,"")}catch(fe){Fe(n,n.return,fe)}}l&4&&n.stateNode!=null&&(m=n.memoizedProps,Xu(n,m,a!==null?a.memoizedProps:m)),l&1024&&(Zu=!0);break;case 6:if(Ut(i,n),Lt(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){Fe(n,n.return,fe)}}break;case 3:if(Pr=null,m=mn,mn=Dr(i.containerInfo),Ut(i,n),mn=m,Lt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zo(i.containerInfo)}catch(fe){Fe(n,n.return,fe)}Zu&&(Zu=!1,sp(n));break;case 4:l=mn,mn=Dr(n.stateNode.containerInfo),Ut(i,n),Lt(n),mn=l;break;case 12:Ut(i,n),Lt(n);break;case 31:Ut(i,n),Lt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 13:Ut(i,n),Lt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tr=Ge()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 22:m=n.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,U=Gn,F=ht;if(Gn=U||m,ht=F||b,Ut(i,n),ht=F,Gn=U,Lt(n),l&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(a===null||b||Gn||ht||Ki(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(y=b.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=b.stateNode;var Q=b.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(fe){Fe(b,b.return,fe)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(fe){Fe(b,b.return,fe)}}}else if(i.tag===18){if(a===null){b=i;try{var B=b.stateNode;m?Xp(B,!0):Xp(b.stateNode,!1)}catch(fe){Fe(b,b.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yr(n,a))));break;case 19:Ut(i,n),Lt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 30:break;case 21:break;default:Ut(i,n),Lt(n)}}function Lt(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if($m(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,y=Qu(n);gr(n,y,m);break;case 5:var E=a.stateNode;a.flags&32&&(fo(E,""),a.flags&=-33);var C=Qu(n);gr(n,C,E);break;case 3:case 4:var b=a.stateNode.containerInfo,U=Qu(n);$u(n,U,b);break;default:throw Error(s(161))}}catch(F){Fe(n,n.return,F)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function sp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;sp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Hn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jm(n,i.alternate,i),i=i.sibling}function Ki(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:fi(4,i,i.return),Ki(i);break;case 1:xn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xm(i,i.return,a),Ki(i);break;case 27:Ks(i.stateNode);case 26:case 5:xn(i,i.return),Ki(i);break;case 22:i.memoizedState===null&&Ki(i);break;case 30:Ki(i);break;default:Ki(i)}n=n.sibling}}function qn(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,m=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:qn(m,y,a),ks(4,y);break;case 1:if(qn(m,y,a),l=y,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){Fe(l,l.return,U)}if(l=y,m=l.updateQueue,m!==null){var C=l.stateNode;try{var b=m.shared.hiddenCallbacks;if(b!==null)for(m.shared.hiddenCallbacks=null,m=0;m<b.length;m++)Vh(b[m],C)}catch(U){Fe(l,l.return,U)}}a&&E&64&&Km(y),Gs(y,y.return);break;case 27:Zm(y);case 26:case 5:qn(m,y,a),a&&l===null&&E&4&&Qm(y),Gs(y,y.return);break;case 12:qn(m,y,a);break;case 31:qn(m,y,a),a&&E&4&&np(m,y);break;case 13:qn(m,y,a),a&&E&4&&ip(m,y);break;case 22:y.memoizedState===null&&qn(m,y,a),Gs(y,y.return);break;case 30:break;default:qn(m,y,a)}i=i.sibling}}function Wu(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&As(a))}function ju(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&As(n))}function pn(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ap(n,i,a,l),i=i.sibling}function ap(n,i,a,l){var m=i.flags;switch(i.tag){case 0:case 11:case 15:pn(n,i,a,l),m&2048&&ks(9,i);break;case 1:pn(n,i,a,l);break;case 3:pn(n,i,a,l),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&As(n)));break;case 12:if(m&2048){pn(n,i,a,l),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(b){Fe(i,i.return,b)}}else pn(n,i,a,l);break;case 31:pn(n,i,a,l);break;case 13:pn(n,i,a,l);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?pn(n,i,a,l):Bs(n,i):y._visibility&2?pn(n,i,a,l):(y._visibility|=2,Io(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Wu(E,i);break;case 24:pn(n,i,a,l),m&2048&&ju(i.alternate,i);break;default:pn(n,i,a,l)}}function Io(n,i,a,l,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=n,E=i,C=a,b=l,U=E.flags;switch(E.tag){case 0:case 11:case 15:Io(y,E,C,b,m),ks(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?Io(y,E,C,b,m):Bs(y,E):(F._visibility|=2,Io(y,E,C,b,m)),m&&U&2048&&Wu(E.alternate,E);break;case 24:Io(y,E,C,b,m),m&&U&2048&&ju(E.alternate,E);break;default:Io(y,E,C,b,m)}i=i.sibling}}function Bs(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,m=l.flags;switch(l.tag){case 22:Bs(a,l),m&2048&&Wu(l.alternate,l);break;case 24:Bs(a,l),m&2048&&ju(l.alternate,l);break;default:Bs(a,l)}i=i.sibling}}var Hs=8192;function Po(n,i,a){if(n.subtreeFlags&Hs)for(n=n.child;n!==null;)rp(n,i,a),n=n.sibling}function rp(n,i,a){switch(n.tag){case 26:Po(n,i,a),n.flags&Hs&&n.memoizedState!==null&&Kx(a,mn,n.memoizedState,n.memoizedProps);break;case 5:Po(n,i,a);break;case 3:case 4:var l=mn;mn=Dr(n.stateNode.containerInfo),Po(n,i,a),mn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Hs,Hs=16777216,Po(n,i,a),Hs=l):Po(n,i,a));break;default:Po(n,i,a)}}function lp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function qs(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];yt=l,cp(l,n)}lp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(n),n=n.sibling}function up(n){switch(n.tag){case 0:case 11:case 15:qs(n),n.flags&2048&&fi(9,n,n.return);break;case 3:qs(n);break;case 12:qs(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,vr(n)):qs(n);break;default:qs(n)}}function vr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];yt=l,cp(l,n)}lp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:fi(8,i,i.return),vr(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vr(i));break;default:vr(i)}n=n.sibling}}function cp(n,i){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:As(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=n;yt!==null;){l=yt;var m=l.sibling,y=l.return;if(ep(l),l===a){yt=null;break e}if(m!==null){m.return=y,yt=m;break e}yt=y}}}var lx={getCacheForType:function(n){var i=St(ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return St(ct).controller.signal}},ux=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Xe=null,we=null,Pe=0,ze=0,Yt=null,di=!1,Uo=!1,ec=!1,On=0,ot=0,hi=0,Xi=0,tc=0,Jt=0,Lo=0,Os=null,Vt=null,nc=!1,Tr=0,fp=0,Sr=1/0,Er=null,mi=null,pt=0,pi=null,Vo=null,zn=0,ic=0,oc=null,dp=null,zs=0,sc=null;function Kt(){return(Oe&2)!==0&&Pe!==0?Pe&-Pe:k.T!==null?fc():Nd()}function hp(){if(Jt===0)if((Pe&536870912)===0||ke){var n=Ra;Ra<<=1,(Ra&3932160)===0&&(Ra=262144),Jt=n}else Jt=536870912;return n=zt.current,n!==null&&(n.flags|=32),Jt}function kt(n,i,a){(n===Xe&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(ko(n,0),gi(n,Pe,Jt,!1)),cs(n,a),((Oe&2)===0||n!==Xe)&&(n===Xe&&((Oe&2)===0&&(Xi|=a),ot===4&&gi(n,Pe,Jt,!1)),Cn(n))}function mp(n,i,a){if((Oe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||us(n,i),m=l?dx(n,i):rc(n,i,!0),y=l;do{if(m===0){Uo&&!l&&gi(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!cx(a)){m=rc(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=n;m=Os;var b=C.current.memoizedState.isDehydrated;if(b&&(ko(C,E).flags|=256),E=rc(C,E,!1),E!==2){if(ec&&!b){C.errorRecoveryDisabledLanes|=y,Xi|=y,m=4;break e}y=Vt,Vt=m,y!==null&&(Vt===null?Vt=y:Vt.push.apply(Vt,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){ko(n,0),gi(n,i,0,!0);break}e:{switch(l=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:gi(l,i,Jt,!di);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=Tr+300-Ge(),10<m)){if(gi(l,i,Jt,!di),Da(l,0,!0)!==0)break e;zn=i,l.timeoutHandle=Yp(pp.bind(null,l,a,Vt,Er,nc,i,Jt,Xi,Lo,di,y,"Throttled",-0,0),m);break e}pp(l,a,Vt,Er,nc,i,Jt,Xi,Lo,di,y,null,-0,0)}}break}while(!0);Cn(n)}function pp(n,i,a,l,m,y,E,C,b,U,F,Q,V,B){if(n.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},rp(i,y,Q);var fe=(y&62914560)===y?Tr-Ge():(y&4194048)===y?fp-Ge():0;if(fe=Xx(Q,fe),fe!==null){zn=y,n.cancelPendingCommit=fe(Cp.bind(null,n,i,y,a,l,m,E,C,b,F,Q,null,V,B)),gi(n,y,E,!U);return}}Cp(n,i,y,a,l,m,E,C,b)}function cx(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var m=a[l],y=m.getSnapshot;m=m.value;try{if(!qt(y(),m))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gi(n,i,a,l){i&=~tc,i&=~Xi,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var m=i;0<m;){var y=31-Ht(m),E=1<<y;l[y]=-1,m&=~E}a!==0&&_d(n,a,i)}function xr(){return(Oe&6)===0?(Fs(0),!1):!0}function ac(){if(we!==null){if(ze===0)var n=we.return;else n=we,In=Bi=null,xu(n),Mo=null,bs=0,n=we;for(;n!==null;)Jm(n.alternate,n),n=n.return;we=null}}function ko(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,wx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),zn=0,ac(),Xe=n,we=a=wn(n.current,null),Pe=i,ze=0,Yt=null,di=!1,Uo=us(n,i),ec=!1,Lo=Jt=tc=Xi=hi=ot=0,Vt=Os=null,nc=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var m=31-Ht(l),y=1<<m;i|=n[m],l&=~y}return On=i,za(),a}function gp(n,i){be=null,k.H=Us,i===bo||i===Za?(i=Ih(),ze=3):i===cu?(i=Ih(),ze=4):ze=i===Gu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yt=i,we===null&&(ot=1,fr(n,Wt(i,n.current)))}function yp(){var n=zt.current;return n===null?!0:(Pe&4194048)===Pe?nn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?n===nn:!1}function vp(){var n=k.H;return k.H=Us,n===null?Us:n}function Tp(){var n=k.A;return k.A=lx,n}function Cr(){ot=4,di||(Pe&4194048)!==Pe&&zt.current!==null||(Uo=!0),(hi&134217727)===0&&(Xi&134217727)===0||Xe===null||gi(Xe,Pe,Jt,!1)}function rc(n,i,a){var l=Oe;Oe|=2;var m=vp(),y=Tp();(Xe!==n||Pe!==i)&&(Er=null,ko(n,i)),i=!1;var E=ot;e:do try{if(ze!==0&&we!==null){var C=we,b=Yt;switch(ze){case 8:ac(),E=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(i=!0);var U=ze;if(ze=0,Yt=null,Go(n,C,b,U),a&&Uo){E=0;break e}break;default:U=ze,ze=0,Yt=null,Go(n,C,b,U)}}fx(),E=ot;break}catch(F){gp(n,F)}while(!0);return i&&n.shellSuspendCounter++,In=Bi=null,Oe=l,k.H=m,k.A=y,we===null&&(Xe=null,Pe=0,za()),E}function fx(){for(;we!==null;)Sp(we)}function dx(n,i){var a=Oe;Oe|=2;var l=vp(),m=Tp();Xe!==n||Pe!==i?(Er=null,Sr=Ge()+500,ko(n,i)):Uo=us(n,i);e:do try{if(ze!==0&&we!==null){i=we;var y=Yt;t:switch(ze){case 1:ze=0,Yt=null,Go(n,i,y,1);break;case 2:case 9:if(wh(y)){ze=0,Yt=null,Ep(i);break}i=function(){ze!==2&&ze!==9||Xe!==n||(ze=7),Cn(n)},y.then(i,i);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:wh(y)?(ze=0,Yt=null,Ep(i)):(ze=0,Yt=null,Go(n,i,y,7));break;case 5:var E=null;switch(we.tag){case 26:E=we.memoizedState;case 5:case 27:var C=we;if(E?ag(E):C.stateNode.complete){ze=0,Yt=null;var b=C.sibling;if(b!==null)we=b;else{var U=C.return;U!==null?(we=U,Ar(U)):we=null}break t}}ze=0,Yt=null,Go(n,i,y,5);break;case 6:ze=0,Yt=null,Go(n,i,y,6);break;case 8:ac(),ot=6;break e;default:throw Error(s(462))}}hx();break}catch(F){gp(n,F)}while(!0);return In=Bi=null,k.H=l,k.A=m,Oe=a,we!==null?0:(Xe=null,Pe=0,za(),ot)}function hx(){for(;we!==null&&!Ee();)Sp(we)}function Sp(n){var i=Fm(n.alternate,n,On);n.memoizedProps=n.pendingProps,i===null?Ar(n):we=i}function Ep(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Gm(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Gm(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:xu(i);default:Jm(a,i),i=we=Th(i,On),i=Fm(a,i,On)}n.memoizedProps=n.pendingProps,i===null?Ar(n):we=i}function Go(n,i,a,l){In=Bi=null,xu(i),Mo=null,bs=0;var m=i.return;try{if(tx(n,m,i,a,Pe)){ot=1,fr(n,Wt(a,n.current)),we=null;return}}catch(y){if(m!==null)throw we=m,y;ot=1,fr(n,Wt(a,n.current)),we=null;return}i.flags&32768?(ke||l===1?n=!0:Uo||(Pe&536870912)!==0?n=!1:(di=n=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(i,n)):Ar(i)}function Ar(n){var i=n;do{if((i.flags&32768)!==0){xp(i,di);return}n=i.return;var a=ox(i.alternate,i,On);if(a!==null){we=a;return}if(i=i.sibling,i!==null){we=i;return}we=i=n}while(i!==null);ot===0&&(ot=5)}function xp(n,i){do{var a=sx(n.alternate,n);if(a!==null){a.flags&=32767,we=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){we=n;return}we=n=a}while(n!==null);ot=6,we=null}function Cp(n,i,a,l,m,y,E,C,b){n.cancelPendingCommit=null;do _r();while(pt!==0);if((Oe&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Ql,JS(n,a,y,E,C,b),n===Xe&&(we=Xe=null,Pe=0),Vo=i,pi=n,zn=a,ic=y,oc=m,dp=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yx(Ri,function(){return Np(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,m=q.p,q.p=2,E=Oe,Oe|=4;try{ax(n,i,a)}finally{Oe=E,q.p=m,k.T=l}}pt=1,Ap(),_p(),bp()}}function Ap(){if(pt===1){pt=0;var n=pi,i=Vo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=q.p;q.p=2;var m=Oe;Oe|=4;try{op(i,n);var y=Tc,E=ch(n.containerInfo),C=y.focusedElem,b=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&uh(C.ownerDocument.documentElement,C)){if(b!==null&&Fl(C)){var U=b.start,F=b.end;if(F===void 0&&(F=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(F,C.value.length);else{var Q=C.ownerDocument||document,V=Q&&Q.defaultView||window;if(V.getSelection){var B=V.getSelection(),fe=C.textContent.length,Se=Math.min(b.start,fe),Ke=b.end===void 0?Se:Math.min(b.end,fe);!B.extend&&Se>Ke&&(E=Ke,Ke=Se,Se=E);var w=lh(C,Se),N=lh(C,Ke);if(w&&N&&(B.rangeCount!==1||B.anchorNode!==w.node||B.anchorOffset!==w.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=Q.createRange();P.setStart(w.node,w.offset),B.removeAllRanges(),Se>Ke?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(Q=[],B=C;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var J=Q[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}kr=!!vc,Tc=vc=null}finally{Oe=m,q.p=l,k.T=a}}n.current=i,pt=2}}function _p(){if(pt===2){pt=0;var n=pi,i=Vo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=q.p;q.p=2;var m=Oe;Oe|=4;try{jm(n,i.alternate,i)}finally{Oe=m,q.p=l,k.T=a}}pt=3}}function bp(){if(pt===4||pt===3){pt=0,Ve();var n=pi,i=Vo,a=zn,l=dp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pt=5:(pt=0,Vo=pi=null,Mp(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(mi=null),_l(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ls,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=k.T,m=q.p,q.p=2,k.T=null;try{for(var y=n.onRecoverableError,E=0;E<l.length;E++){var C=l[E];y(C.value,{componentStack:C.stack})}}finally{k.T=i,q.p=m}}(zn&3)!==0&&_r(),Cn(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===sc?zs++:(zs=0,sc=n):zs=0,Fs(0)}}function Mp(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,As(i)))}function _r(){return Ap(),_p(),bp(),Np()}function Np(){if(pt!==5)return!1;var n=pi,i=ic;ic=0;var a=_l(zn),l=k.T,m=q.p;try{q.p=32>a?32:a,k.T=null,a=oc,oc=null;var y=pi,E=zn;if(pt=0,Vo=pi=null,zn=0,(Oe&6)!==0)throw Error(s(331));var C=Oe;if(Oe|=4,up(y.current),ap(y,y.current,E,a),Oe=C,Fs(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ls,y)}catch{}return!0}finally{q.p=m,k.T=l,Mp(n,i)}}function Rp(n,i,a){i=Wt(a,i),i=ku(n.stateNode,i,2),n=li(n,i,2),n!==null&&(cs(n,2),Cn(n))}function Fe(n,i,a){if(n.tag===3)Rp(n,n,a);else for(;i!==null;){if(i.tag===3){Rp(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mi===null||!mi.has(l))){n=Wt(a,n),a=wm(2),l=li(i,a,2),l!==null&&(Dm(a,l,i,n),cs(l,2),Cn(l));break}}i=i.return}}function lc(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ux;var m=new Set;l.set(i,m)}else m=l.get(i),m===void 0&&(m=new Set,l.set(i,m));m.has(a)||(ec=!0,m.add(a),n=mx.bind(null,n,i,a),i.then(n,n))}function mx(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Pe&a)===a&&(ot===4||ot===3&&(Pe&62914560)===Pe&&300>Ge()-Tr?(Oe&2)===0&&ko(n,0):tc|=a,Lo===Pe&&(Lo=0)),Cn(n)}function wp(n,i){i===0&&(i=Ad()),n=Vi(n,i),n!==null&&(cs(n,i),Cn(n))}function px(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),wp(n,a)}function gx(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),wp(n,a)}function yx(n,i){return ne(n,i)}var br=null,Bo=null,uc=!1,Mr=!1,cc=!1,yi=0;function Cn(n){n!==Bo&&n.next===null&&(Bo===null?br=Bo=n:Bo=Bo.next=n),Mr=!0,uc||(uc=!0,Tx())}function Fs(n,i){if(!cc&&Mr){cc=!0;do for(var a=!1,l=br;l!==null;){if(n!==0){var m=l.pendingLanes;if(m===0)var y=0;else{var E=l.suspendedLanes,C=l.pingedLanes;y=(1<<31-Ht(42|n)+1)-1,y&=m&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Up(l,y))}else y=Pe,y=Da(l,l===Xe?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||us(l,y)||(a=!0,Up(l,y));l=l.next}while(a);cc=!1}}function vx(){Dp()}function Dp(){Mr=uc=!1;var n=0;yi!==0&&Rx()&&(n=yi);for(var i=Ge(),a=null,l=br;l!==null;){var m=l.next,y=Ip(l,i);y===0?(l.next=null,a===null?br=m:a.next=m,m===null&&(Bo=a)):(a=l,(n!==0||(y&3)!==0)&&(Mr=!0)),l=m}pt!==0&&pt!==5||Fs(n),yi!==0&&(yi=0)}function Ip(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Ht(y),C=1<<E,b=m[E];b===-1?((C&a)===0||(C&l)!==0)&&(m[E]=YS(C,i)):b<=i&&(n.expiredLanes|=C),y&=~C}if(i=Xe,a=Pe,a=Da(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ce(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||us(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ce(l),_l(a)){case 2:case 8:a=Tn;break;case 32:a=Ri;break;case 268435456:a=Cd;break;default:a=Ri}return l=Pp.bind(null,n),a=ne(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ce(l),n.callbackPriority=2,n.callbackNode=null,2}function Pp(n,i){if(pt!==0&&pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(_r()&&n.callbackNode!==a)return null;var l=Pe;return l=Da(n,n===Xe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(mp(n,l,i),Ip(n,Ge()),n.callbackNode!=null&&n.callbackNode===a?Pp.bind(null,n):null)}function Up(n,i){if(_r())return null;mp(n,i,!0)}function Tx(){Dx(function(){(Oe&6)!==0?ne(dn,vx):Dp()})}function fc(){if(yi===0){var n=Ao;n===0&&(n=Na,Na<<=1,(Na&261888)===0&&(Na=256)),yi=n}return yi}function Lp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:La(""+n)}function Vp(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function Sx(n,i,a,l,m){if(i==="submit"&&a&&a.stateNode===m){var y=Lp((m[Dt]||null).action),E=l.submitter;E&&(i=(i=E[Dt]||null)?Lp(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var C=new Ba("action","action",null,l,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var b=E?Vp(m,E):new FormData(m);Du(a,{pending:!0,data:b,method:m.method,action:y},null,b)}}else typeof y=="function"&&(C.preventDefault(),b=E?Vp(m,E):new FormData(m),Du(a,{pending:!0,data:b,method:m.method,action:y},y,b))},currentTarget:m}]})}}for(var dc=0;dc<Xl.length;dc++){var hc=Xl[dc],Ex=hc.toLowerCase(),xx=hc[0].toUpperCase()+hc.slice(1);hn(Ex,"on"+xx)}hn(hh,"onAnimationEnd"),hn(mh,"onAnimationIteration"),hn(ph,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(GE,"onTransitionRun"),hn(BE,"onTransitionStart"),hn(HE,"onTransitionCancel"),hn(gh,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function kp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],m=l.event;l=l.listeners;e:{var y=void 0;if(i)for(var E=l.length-1;0<=E;E--){var C=l[E],b=C.instance,U=C.currentTarget;if(C=C.listener,b!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=U;try{y(m)}catch(F){Oa(F)}m.currentTarget=null,y=b}else for(E=0;E<l.length;E++){if(C=l[E],b=C.instance,U=C.currentTarget,C=C.listener,b!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=U;try{y(m)}catch(F){Oa(F)}m.currentTarget=null,y=b}}}}function De(n,i){var a=i[bl];a===void 0&&(a=i[bl]=new Set);var l=n+"__bubble";a.has(l)||(Gp(i,n,2,!1),a.add(l))}function mc(n,i,a){var l=0;i&&(l|=4),Gp(a,n,l,i)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function pc(n){if(!n[Nr]){n[Nr]=!0,Dd.forEach(function(a){a!=="selectionchange"&&(Cx.has(a)||mc(a,!1,n),mc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Nr]||(i[Nr]=!0,mc("selectionchange",!1,i))}}function Gp(n,i,a,l){switch(hg(i)){case 2:var m=Zx;break;case 8:m=Wx;break;default:m=wc}a=m.bind(null,i,a,n),m=void 0,!Ll||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),l?m!==void 0?n.addEventListener(i,a,{capture:!0,passive:m}):n.addEventListener(i,a,!0):m!==void 0?n.addEventListener(i,a,{passive:m}):n.addEventListener(i,a,!1)}function gc(n,i,a,l,m){var y=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var C=l.stateNode.containerInfo;if(C===m)break;if(E===4)for(E=l.return;E!==null;){var b=E.tag;if((b===3||b===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;C!==null;){if(E=ao(C),E===null)return;if(b=E.tag,b===5||b===6||b===26||b===27){l=y=E;continue e}C=C.parentNode}}l=l.return}zd(function(){var U=y,F=Pl(a),Q=[];e:{var V=yh.get(n);if(V!==void 0){var B=Ba,fe=n;switch(n){case"keypress":if(ka(a)===0)break e;case"keydown":case"keyup":B=gE;break;case"focusin":fe="focus",B=Bl;break;case"focusout":fe="blur",B=Bl;break;case"beforeblur":case"afterblur":B=Bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=TE;break;case hh:case mh:case ph:B=rE;break;case gh:B=EE;break;case"scroll":case"scrollend":B=nE;break;case"wheel":B=CE;break;case"copy":case"cut":case"paste":B=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Xd;break;case"toggle":case"beforetoggle":B=_E}var Se=(i&4)!==0,Ke=!Se&&(n==="scroll"||n==="scrollend"),w=Se?V!==null?V+"Capture":null:V;Se=[];for(var N=U,P;N!==null;){var J=N;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||w===null||(J=hs(N,w),J!=null&&Se.push(Js(N,J,P))),Ke)break;N=N.return}0<Se.length&&(V=new B(V,fe,null,a,F),Q.push({event:V,listeners:Se}))}}if((i&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",V&&a!==Il&&(fe=a.relatedTarget||a.fromElement)&&(ao(fe)||fe[so]))break e;if((B||V)&&(V=F.window===F?F:(V=F.ownerDocument)?V.defaultView||V.parentWindow:window,B?(fe=a.relatedTarget||a.toElement,B=U,fe=fe?ao(fe):null,fe!==null&&(Ke=u(fe),Se=fe.tag,fe!==Ke||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(B=null,fe=U),B!==fe)){if(Se=Jd,J="onMouseLeave",w="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Xd,J="onPointerLeave",w="onPointerEnter",N="pointer"),Ke=B==null?V:ds(B),P=fe==null?V:ds(fe),V=new Se(J,N+"leave",B,a,F),V.target=Ke,V.relatedTarget=P,J=null,ao(F)===U&&(Se=new Se(w,N+"enter",fe,a,F),Se.target=P,Se.relatedTarget=Ke,J=Se),Ke=J,B&&fe)t:{for(Se=Ax,w=B,N=fe,P=0,J=w;J;J=Se(J))P++;J=0;for(var ye=N;ye;ye=Se(ye))J++;for(;0<P-J;)w=Se(w),P--;for(;0<J-P;)N=Se(N),J--;for(;P--;){if(w===N||N!==null&&w===N.alternate){Se=w;break t}w=Se(w),N=Se(N)}Se=null}else Se=null;B!==null&&Bp(Q,V,B,Se,!1),fe!==null&&Ke!==null&&Bp(Q,Ke,fe,Se,!0)}}e:{if(V=U?ds(U):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var Be=nh;else if(eh(V))if(ih)Be=LE;else{Be=PE;var ge=IE}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?U&&Dl(U.elementType)&&(Be=nh):Be=UE;if(Be&&(Be=Be(n,U))){th(Q,Be,a,F);break e}ge&&ge(n,V,U),n==="focusout"&&U&&V.type==="number"&&U.memoizedProps.value!=null&&wl(V,"number",V.value)}switch(ge=U?ds(U):window,n){case"focusin":(eh(ge)||ge.contentEditable==="true")&&(go=ge,Yl=U,Es=null);break;case"focusout":Es=Yl=go=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,fh(Q,a,F);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":fh(Q,a,F)}var Me;if(ql)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else po?Wd(n,a)&&(Ue="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Qd&&a.locale!=="ko"&&(po||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&po&&(Me=Fd()):(ti=F,Vl="value"in ti?ti.value:ti.textContent,po=!0)),ge=Rr(U,Ue),0<ge.length&&(Ue=new Kd(Ue,n,null,a,F),Q.push({event:Ue,listeners:ge}),Me?Ue.data=Me:(Me=jd(a),Me!==null&&(Ue.data=Me)))),(Me=ME?NE(n,a):RE(n,a))&&(Ue=Rr(U,"onBeforeInput"),0<Ue.length&&(ge=new Kd("onBeforeInput","beforeinput",null,a,F),Q.push({event:ge,listeners:Ue}),ge.data=Me)),Sx(Q,n,U,a,F)}kp(Q,i)})}function Js(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Rr(n,i){for(var a=i+"Capture",l=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=hs(n,a),m!=null&&l.unshift(Js(n,m,y)),m=hs(n,i),m!=null&&l.push(Js(n,m,y))),n.tag===3)return l;n=n.return}return[]}function Ax(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bp(n,i,a,l,m){for(var y=i._reactName,E=[];a!==null&&a!==l;){var C=a,b=C.alternate,U=C.stateNode;if(C=C.tag,b!==null&&b===l)break;C!==5&&C!==26&&C!==27||U===null||(b=U,m?(U=hs(a,y),U!=null&&E.unshift(Js(a,U,b))):m||(U=hs(a,y),U!=null&&E.push(Js(a,U,b)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var _x=/\r\n?/g,bx=/\u0000|\uFFFD/g;function Hp(n){return(typeof n=="string"?n:""+n).replace(_x,`
`).replace(bx,"")}function qp(n,i){return i=Hp(i),Hp(n)===i}function Je(n,i,a,l,m,y){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fo(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fo(n,""+l);break;case"className":Pa(n,"class",l);break;case"tabIndex":Pa(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(n,a,l);break;case"style":qd(n,l,y);break;case"data":if(i!=="object"){Pa(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=La(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&Je(n,i,"name",m.name,m,null),Je(n,i,"formEncType",m.formEncType,m,null),Je(n,i,"formMethod",m.formMethod,m,null),Je(n,i,"formTarget",m.formTarget,m,null)):(Je(n,i,"encType",m.encType,m,null),Je(n,i,"method",m.method,m,null),Je(n,i,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=La(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Nn);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=La(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),Ia(n,"popover",l);break;case"xlinkActuate":Mn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eE.get(a)||a,Ia(n,a,l))}}function yc(n,i,a,l,m,y){switch(a){case"style":qd(n,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?fo(n,l):(typeof l=="number"||typeof l=="bigint")&&fo(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),i=a.slice(2,m?a.length-7:void 0),y=n[Dt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof l=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,m);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ia(n,a,l)}}}function xt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,y,E,a,null)}}m&&Je(n,i,"srcSet",a.srcSet,a,null),l&&Je(n,i,"src",a.src,a,null);return;case"input":De("invalid",n);var C=y=E=m=null,b=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":m=F;break;case"type":E=F;break;case"checked":b=F;break;case"defaultChecked":U=F;break;case"value":y=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(n,i,l,F,a,null)}}kd(n,y,C,b,U,E,m,!1);return;case"select":De("invalid",n),l=E=y=null;for(m in a)if(a.hasOwnProperty(m)&&(C=a[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":l=C;default:Je(n,i,m,C,a,null)}i=y,a=E,n.multiple=!!l,i!=null?co(n,!!l,i,!1):a!=null&&co(n,!!l,a,!0);return;case"textarea":De("invalid",n),y=m=l=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":l=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Je(n,i,E,C,a,null)}Bd(n,l,m,y);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,i,b,l,a,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<Ys.length;l++)De(Ys[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,U,l,a,null)}return;default:if(Dl(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&yc(n,i,F,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Je(n,i,C,l,a,null))}function Mx(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,C=null,b=null,U=null,F=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Je(n,i,B,null,l,Q)}}for(var V in l){var B=l[V];if(Q=a[V],l.hasOwnProperty(V)&&(B!=null||Q!=null))switch(V){case"type":y=B;break;case"name":m=B;break;case"checked":U=B;break;case"defaultChecked":F=B;break;case"value":E=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Je(n,i,V,B,l,Q)}}Rl(n,E,C,b,U,F,y,m);return;case"select":B=E=C=V=null;for(y in a)if(b=a[y],a.hasOwnProperty(y)&&b!=null)switch(y){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(y)||Je(n,i,y,null,l,b)}for(m in l)if(y=l[m],b=a[m],l.hasOwnProperty(m)&&(y!=null||b!=null))switch(m){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==b&&Je(n,i,m,y,l,b)}i=C,a=E,l=B,V!=null?co(n,!!a,V,!1):!!l!=!!a&&(i!=null?co(n,!!a,i,!0):co(n,!!a,a?[]:"",!1));return;case"textarea":B=V=null;for(C in a)if(m=a[C],a.hasOwnProperty(C)&&m!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Je(n,i,C,null,l,m)}for(E in l)if(m=l[E],y=a[E],l.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":V=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Je(n,i,E,m,l,y)}Gd(n,V,B);return;case"option":for(var fe in a)if(V=a[fe],a.hasOwnProperty(fe)&&V!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:Je(n,i,fe,null,l,V)}for(b in l)if(V=l[b],B=a[b],l.hasOwnProperty(b)&&V!==B&&(V!=null||B!=null))switch(b){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Je(n,i,b,V,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)V=a[Se],a.hasOwnProperty(Se)&&V!=null&&!l.hasOwnProperty(Se)&&Je(n,i,Se,null,l,V);for(U in l)if(V=l[U],B=a[U],l.hasOwnProperty(U)&&V!==B&&(V!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:Je(n,i,U,V,l,B)}return;default:if(Dl(i)){for(var Ke in a)V=a[Ke],a.hasOwnProperty(Ke)&&V!==void 0&&!l.hasOwnProperty(Ke)&&yc(n,i,Ke,void 0,l,V);for(F in l)V=l[F],B=a[F],!l.hasOwnProperty(F)||V===B||V===void 0&&B===void 0||yc(n,i,F,V,l,B);return}}for(var w in a)V=a[w],a.hasOwnProperty(w)&&V!=null&&!l.hasOwnProperty(w)&&Je(n,i,w,null,l,V);for(Q in l)V=l[Q],B=a[Q],!l.hasOwnProperty(Q)||V===B||V==null&&B==null||Je(n,i,Q,V,l,B)}function Op(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var m=a[l],y=m.transferSize,E=m.initiatorType,C=m.duration;if(y&&C&&Op(E)){for(E=0,C=m.responseEnd,l+=1;l<a.length;l++){var b=a[l],U=b.startTime;if(U>C)break;var F=b.transferSize,Q=b.initiatorType;F&&Op(Q)&&(b=b.responseEnd,E+=F*(b<C?1:(C-U)/(b-U)))}if(--l,i+=8*(y+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var vc=null,Tc=null;function wr(n){return n.nodeType===9?n:n.ownerDocument}function zp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ec=null;function Rx(){var n=window.event;return n&&n.type==="popstate"?n===Ec?!1:(Ec=n,!0):(Ec=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(n){return Jp.resolve(null).then(n).catch(Ix)}:Yp;function Ix(n){setTimeout(function(){throw n})}function vi(n){return n==="head"}function Kp(n,i){var a=i,l=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(m),zo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ks(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Ks(a);for(var y=a.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[fs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Ks(n.ownerDocument.body);a=m}while(a);zo(i)}function Xp(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function xc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xc(a),Ml(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Px(n,i,a,l){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[fs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=on(n.nextSibling),n===null)break}return null}function Ux(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=on(n.nextSibling),n===null))return null;return n}function Qp(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=on(n.nextSibling),n===null))return null;return n}function Cc(n){return n.data==="$?"||n.data==="$~"}function Ac(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Lx(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function on(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var _c=null;function $p(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return on(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function Zp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function Wp(n,i,a){switch(i=wr(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ks(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ml(n)}var sn=new Map,jp=new Set;function Dr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fn=q.d;q.d={f:Vx,r:kx,D:Gx,C:Bx,L:Hx,m:qx,X:zx,S:Ox,M:Fx};function Vx(){var n=Fn.f(),i=xr();return n||i}function kx(n){var i=ro(n);i!==null&&i.tag===5&&i.type==="form"?gm(i):Fn.r(n)}var Ho=typeof document>"u"?null:document;function eg(n,i,a){var l=Ho;if(l&&typeof i=="string"&&i){var m=$t(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),jp.has(m)||(jp.add(m),n={rel:n,crossOrigin:a,href:i},l.querySelector(m)===null&&(i=l.createElement("link"),xt(i,"link",n),gt(i),l.head.appendChild(i)))}}function Gx(n){Fn.D(n),eg("dns-prefetch",n,null)}function Bx(n,i){Fn.C(n,i),eg("preconnect",n,i)}function Hx(n,i,a){Fn.L(n,i,a);var l=Ho;if(l&&n&&i){var m='link[rel="preload"][as="'+$t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+$t(a.imageSizes)+'"]')):m+='[href="'+$t(n)+'"]';var y=m;switch(i){case"style":y=qo(n);break;case"script":y=Oo(n)}sn.has(y)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),sn.set(y,n),l.querySelector(m)!==null||i==="style"&&l.querySelector(Xs(y))||i==="script"&&l.querySelector(Qs(y))||(i=l.createElement("link"),xt(i,"link",n),gt(i),l.head.appendChild(i)))}}function qx(n,i){Fn.m(n,i);var a=Ho;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(n)+'"]',y=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Oo(n)}if(!sn.has(y)&&(n=T({rel:"modulepreload",href:n},i),sn.set(y,n),a.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qs(y)))return}l=a.createElement("link"),xt(l,"link",n),gt(l),a.head.appendChild(l)}}}function Ox(n,i,a){Fn.S(n,i,a);var l=Ho;if(l&&n){var m=lo(l).hoistableStyles,y=qo(n);i=i||"default";var E=m.get(y);if(!E){var C={loading:0,preload:null};if(E=l.querySelector(Xs(y)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=sn.get(y))&&bc(n,a);var b=E=l.createElement("link");gt(b),xt(b,"link",n),b._p=new Promise(function(U,F){b.onload=U,b.onerror=F}),b.addEventListener("load",function(){C.loading|=1}),b.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ir(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:C},m.set(y,E)}}}function zx(n,i){Fn.X(n,i);var a=Ho;if(a&&n){var l=lo(a).hoistableScripts,m=Oo(n),y=l.get(m);y||(y=a.querySelector(Qs(m)),y||(n=T({src:n,async:!0},i),(i=sn.get(m))&&Mc(n,i),y=a.createElement("script"),gt(y),xt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(m,y))}}function Fx(n,i){Fn.M(n,i);var a=Ho;if(a&&n){var l=lo(a).hoistableScripts,m=Oo(n),y=l.get(m);y||(y=a.querySelector(Qs(m)),y||(n=T({src:n,async:!0,type:"module"},i),(i=sn.get(m))&&Mc(n,i),y=a.createElement("script"),gt(y),xt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(m,y))}}function tg(n,i,a,l){var m=(m=Te.current)?Dr(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qo(a.href),a=lo(m).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=qo(a.href);var y=lo(m).hoistableStyles,E=y.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=m.querySelector(Xs(n)))&&!y._p&&(E.instance=y,E.state.loading=5),sn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sn.set(n,a),y||Yx(m,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oo(a),a=lo(m).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function qo(n){return'href="'+$t(n)+'"'}function Xs(n){return'link[rel="stylesheet"]['+n+"]"}function ng(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function Yx(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),xt(i,"link",a),gt(i),n.head.appendChild(i))}function Oo(n){return'[src="'+$t(n)+'"]'}function Qs(n){return"script[async]"+n}function ig(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+$t(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var m=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),xt(l,"style",m),Ir(l,a.precedence,n),i.instance=l;case"stylesheet":m=qo(a.href);var y=n.querySelector(Xs(m));if(y)return i.state.loading|=4,i.instance=y,gt(y),y;l=ng(a),(m=sn.get(m))&&bc(l,m),y=(n.ownerDocument||n).createElement("link"),gt(y);var E=y;return E._p=new Promise(function(C,b){E.onload=C,E.onerror=b}),xt(y,"link",l),i.state.loading|=4,Ir(y,a.precedence,n),i.instance=y;case"script":return y=Oo(a.src),(m=n.querySelector(Qs(y)))?(i.instance=m,gt(m),m):(l=a,(m=sn.get(y))&&(l=T({},a),Mc(l,m)),n=n.ownerDocument||n,m=n.createElement("script"),gt(m),xt(m,"link",l),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ir(l,a.precedence,n));return i.instance}function Ir(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,y=m,E=0;E<l.length;E++){var C=l[E];if(C.dataset.precedence===i)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function bc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Mc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Pr=null;function og(n,i,a){if(Pr===null){var l=new Map,m=Pr=new Map;m.set(a,l)}else m=Pr,l=m.get(a),l||(l=new Map,m.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var y=a[m];if(!(y[fs]||y[vt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var C=l.get(E);C?C.push(y):l.set(E,[y])}}return l}function sg(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Jx(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ag(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Kx(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=qo(l.href),y=i.querySelector(Xs(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Ur.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=y,gt(y);return}y=i.ownerDocument||i,l=ng(l),(m=sn.get(m))&&bc(l,m),y=y.createElement("link"),gt(y);var E=y;E._p=new Promise(function(C,b){E.onload=C,E.onerror=b}),xt(y,"link",l),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Ur.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Nc=0;function Xx(n,i){return n.stylesheets&&n.count===0&&Vr(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Vr(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+i);0<n.imgBytes&&Nc===0&&(Nc=62500*Nx());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vr(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Nc?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(m)}}:null}function Ur(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vr(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lr=null;function Vr(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lr=new Map,i.forEach(Qx,n),Lr=null,Ur.call(n))}function Qx(n,i){if(!(i.state.loading&4)){var a=Lr.get(n);if(a)var l=a.get(null);else{a=new Map,Lr.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}m=i.instance,E=m.getAttribute("data-precedence"),y=a.get(E)||l,y===l&&a.set(null,m),a.set(E,m),this.count++,l=Ur.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var $s={$$typeof:D,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function $x(n,i,a,l,m,y,E,C,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.hiddenUpdates=Cl(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function rg(n,i,a,l,m,y,E,C,b,U,F,Q){return n=new $x(n,i,a,E,b,U,F,Q,C),i=1,y===!0&&(i|=24),y=Ot(3,null,null,i),n.current=y,y.stateNode=n,i=ru(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:i},fu(y),n}function lg(n){return n?(n=To,n):To}function ug(n,i,a,l,m,y){m=lg(m),l.context===null?l.context=m:l.pendingContext=m,l=ri(i),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=li(n,l,i),a!==null&&(kt(a,n,i),Ns(a,n,i))}function cg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Rc(n,i){cg(n,i),(n=n.alternate)&&cg(n,i)}function fg(n){if(n.tag===13||n.tag===31){var i=Vi(n,67108864);i!==null&&kt(i,n,67108864),Rc(n,67108864)}}function dg(n){if(n.tag===13||n.tag===31){var i=Kt();i=Al(i);var a=Vi(n,i);a!==null&&kt(a,n,i),Rc(n,i)}}var kr=!0;function Zx(n,i,a,l){var m=k.T;k.T=null;var y=q.p;try{q.p=2,wc(n,i,a,l)}finally{q.p=y,k.T=m}}function Wx(n,i,a,l){var m=k.T;k.T=null;var y=q.p;try{q.p=8,wc(n,i,a,l)}finally{q.p=y,k.T=m}}function wc(n,i,a,l){if(kr){var m=Dc(l);if(m===null)gc(n,i,l,Gr,a),mg(n,l);else if(eC(m,n,i,a,l))l.stopPropagation();else if(mg(n,l),i&4&&-1<jx.indexOf(n)){for(;m!==null;){var y=ro(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Di(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var b=1<<31-Ht(E);C.entanglements[1]|=b,E&=~b}Cn(y),(Oe&6)===0&&(Sr=Ge()+500,Fs(0))}}break;case 31:case 13:C=Vi(y,2),C!==null&&kt(C,y,2),xr(),Rc(y,2)}if(y=Dc(l),y===null&&gc(n,i,l,Gr,a),y===m)break;m=y}m!==null&&l.stopPropagation()}else gc(n,i,l,null,a)}}function Dc(n){return n=Pl(n),Ic(n)}var Gr=null;function Ic(n){if(Gr=null,n=ao(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gr=n,null}function hg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case dn:return 2;case Tn:return 8;case Ri:case wi:return 32;case Cd:return 268435456;default:return 32}default:return 32}}var Pc=!1,Ti=null,Si=null,Ei=null,Zs=new Map,Ws=new Map,xi=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mg(n,i){switch(n){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Zs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(i.pointerId)}}function js(n,i,a,l,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[m]},i!==null&&(i=ro(i),i!==null&&fg(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function eC(n,i,a,l,m){switch(i){case"focusin":return Ti=js(Ti,n,i,a,l,m),!0;case"dragenter":return Si=js(Si,n,i,a,l,m),!0;case"mouseover":return Ei=js(Ei,n,i,a,l,m),!0;case"pointerover":var y=m.pointerId;return Zs.set(y,js(Zs.get(y)||null,n,i,a,l,m)),!0;case"gotpointercapture":return y=m.pointerId,Ws.set(y,js(Ws.get(y)||null,n,i,a,l,m)),!0}return!1}function pg(n){var i=ao(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Rd(n.priority,function(){dg(a)});return}}else if(i===31){if(i=h(a),i!==null){n.blockedOn=i,Rd(n.priority,function(){dg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Br(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Dc(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Il=l,a.target.dispatchEvent(l),Il=null}else return i=ro(a),i!==null&&fg(i),n.blockedOn=a,!1;i.shift()}return!0}function gg(n,i,a){Br(n)&&a.delete(i)}function tC(){Pc=!1,Ti!==null&&Br(Ti)&&(Ti=null),Si!==null&&Br(Si)&&(Si=null),Ei!==null&&Br(Ei)&&(Ei=null),Zs.forEach(gg),Ws.forEach(gg)}function Hr(n,i){n.blockedOn===i&&(n.blockedOn=null,Pc||(Pc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tC)))}var qr=null;function yg(n){qr!==n&&(qr=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qr===n&&(qr=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],m=n[i+2];if(typeof l!="function"){if(Ic(l||a)===null)continue;break}var y=ro(a);y!==null&&(n.splice(i,3),i-=3,Du(y,{pending:!0,data:m,method:a.method,action:l},l,m))}}))}function zo(n){function i(b){return Hr(b,n)}Ti!==null&&Hr(Ti,n),Si!==null&&Hr(Si,n),Ei!==null&&Hr(Ei,n),Zs.forEach(i),Ws.forEach(i);for(var a=0;a<xi.length;a++){var l=xi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<xi.length&&(a=xi[0],a.blockedOn===null);)pg(a),a.blockedOn===null&&xi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var m=a[l],y=a[l+1],E=m[Dt]||null;if(typeof y=="function")E||yg(a);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[Dt]||null)C=E.formAction;else if(Ic(m)!==null)continue}else C=E.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),yg(a)}}}function vg(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Uc(n){this._internalRoot=n}Or.prototype.render=Uc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Kt();ug(a,l,n,i,null,null)},Or.prototype.unmount=Uc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ug(n.current,2,null,n,null,null),xr(),i[so]=null}};function Or(n){this._internalRoot=n}Or.prototype.unstable_scheduleHydration=function(n){if(n){var i=Nd();n={blockedOn:null,target:n,priority:i};for(var a=0;a<xi.length&&i!==0&&i<xi[a].priority;a++);xi.splice(a,0,n),a===0&&pg(n)}};var Tg=e.version;if(Tg!=="19.2.0")throw Error(s(527,Tg,"19.2.0"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var nC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zr.isDisabled&&zr.supportsFiber)try{ls=zr.inject(nC),Bt=zr}catch{}}return ta.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,l="",m=bm,y=Mm,E=Nm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=rg(n,1,!1,null,null,a,l,null,m,y,E,vg),n[so]=i.current,pc(n),new Uc(i)},ta.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var l=!1,m="",y=bm,E=Mm,C=Nm,b=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),i=rg(n,1,!0,i,a??null,l,m,b,y,E,C,vg),i.context=lg(null),a=i.current,l=Kt(),l=Al(l),m=ri(l),m.callback=null,li(a,m,l),a=l,i.current.lanes=a,cs(i,a),Cn(i),n[so]=i.current,pc(n),new Or(i)},ta.version="19.2.0",ta}var Rg;function dC(){if(Rg)return kc.exports;Rg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kc.exports=fC(),kc.exports}var hC=dC();const mC=Sv(hC),Lf=O.createContext({});function io(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vf=typeof window<"u",kf=Vf?O.useLayoutEffect:O.useEffect,hl=O.createContext(null);function Gf(t,e){t.indexOf(e)===-1&&t.push(e)}function Bf(t,e){const o=t.indexOf(e);o>-1&&t.splice(o,1)}function pC([...t],e,o){const s=e<0?t.length+e:e;if(s>=0&&s<t.length){const r=o<0?t.length+o:o,[u]=t.splice(e,1);t.splice(r,0,u)}return t}const Yn=(t,e,o)=>o>e?e:o<t?t:o;let Hf=()=>{};const Jn={},Ev=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xv(t){return typeof t=="object"&&t!==null}const Cv=t=>/^0[^.\s]+$/u.test(t);function qf(t){let e;return()=>(e===void 0&&(e=t()),e)}const cn=t=>t,gC=(t,e)=>o=>e(t(o)),Aa=(...t)=>t.reduce(gC),ga=(t,e,o)=>{const s=e-t;return s===0?1:(o-t)/s};class Of{constructor(){this.subscriptions=[]}add(e){return Gf(this.subscriptions,e),()=>Bf(this.subscriptions,e)}notify(e,o,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,o,s);else for(let u=0;u<r;u++){const c=this.subscriptions[u];c&&c(e,o,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const An=t=>t*1e3,un=t=>t/1e3;function Av(t,e){return e?t*(1e3/e):0}const _v=(t,e,o)=>(((1-3*o+3*e)*t+(3*o-6*e))*t+3*e)*t,yC=1e-7,vC=12;function TC(t,e,o,s,r){let u,c,h=0;do c=e+(o-e)/2,u=_v(c,s,r)-t,u>0?o=c:e=c;while(Math.abs(u)>yC&&++h<vC);return c}function _a(t,e,o,s){if(t===e&&o===s)return cn;const r=u=>TC(u,0,1,t,o);return u=>u===0||u===1?u:_v(r(u),e,s)}const bv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Mv=t=>e=>1-t(1-e),Nv=_a(.33,1.53,.69,.99),zf=Mv(Nv),Rv=bv(zf),wv=t=>(t*=2)<1?.5*zf(t):.5*(2-Math.pow(2,-10*(t-1))),Ff=t=>1-Math.sin(Math.acos(t)),Dv=Mv(Ff),Iv=bv(Ff),SC=_a(.42,0,1,1),EC=_a(0,0,.58,1),Pv=_a(.42,0,.58,1),xC=t=>Array.isArray(t)&&typeof t[0]!="number",Uv=t=>Array.isArray(t)&&typeof t[0]=="number",CC={linear:cn,easeIn:SC,easeInOut:Pv,easeOut:EC,circIn:Ff,circInOut:Iv,circOut:Dv,backIn:zf,backInOut:Rv,backOut:Nv,anticipate:wv},AC=t=>typeof t=="string",wg=t=>{if(Uv(t)){Hf(t.length===4);const[e,o,s,r]=t;return _a(e,o,s,r)}else if(AC(t))return CC[t];return t},Fr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _C(t,e){let o=new Set,s=new Set,r=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,T=!1,S=!1)=>{const M=S&&r?o:s;return T&&c.add(v),M.has(v)||M.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,r){u=!0;return}r=!0,[o,s]=[s,o],o.forEach(g),o.clear(),r=!1,u&&(u=!1,p.process(v))}};return p}const bC=40;function Lv(t,e){let o=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},u=()=>o=!0,c=Fr.reduce((D,X)=>(D[X]=_C(u),D),{}),{setup:h,read:g,resolveKeyframes:p,preUpdate:v,update:T,preRender:S,render:A,postRender:M}=c,R=()=>{const D=Jn.useManualTiming?r.timestamp:performance.now();o=!1,Jn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(D-r.timestamp,bC),1)),r.timestamp=D,r.isProcessing=!0,h.process(r),g.process(r),p.process(r),v.process(r),T.process(r),S.process(r),A.process(r),M.process(r),r.isProcessing=!1,o&&e&&(s=!1,t(R))},L=()=>{o=!0,s=!0,r.isProcessing||t(R)};return{schedule:Fr.reduce((D,X)=>{const z=c[X];return D[X]=($,Y=!1,Z=!1)=>(o||L(),z.schedule($,Y,Z)),D},{}),cancel:D=>{for(let X=0;X<Fr.length;X++)c[Fr[X]].cancel(D)},state:r,steps:c}}const{schedule:je,cancel:Kn,state:Ct,steps:qc}=Lv(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let Qr;function MC(){Qr=void 0}const Gt={now:()=>(Qr===void 0&&Gt.set(Ct.isProcessing||Jn.useManualTiming?Ct.timestamp:performance.now()),Qr),set:t=>{Qr=t,queueMicrotask(MC)}},Vv=t=>e=>typeof e=="string"&&e.startsWith(t),Yf=Vv("--"),NC=Vv("var(--"),Jf=t=>NC(t)?RC.test(t.split("/*")[0].trim()):!1,RC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ns={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ya={...ns,transform:t=>Yn(0,1,t)},Yr={...ns,default:1},sa=t=>Math.round(t*1e5)/1e5,Kf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wC(t){return t==null}const DC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xf=(t,e)=>o=>!!(typeof o=="string"&&DC.test(o)&&o.startsWith(t)||e&&!wC(o)&&Object.prototype.hasOwnProperty.call(o,e)),kv=(t,e,o)=>s=>{if(typeof s!="string")return s;const[r,u,c,h]=s.match(Kf);return{[t]:parseFloat(r),[e]:parseFloat(u),[o]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},IC=t=>Yn(0,255,t),Oc={...ns,transform:t=>Math.round(IC(t))},Zi={test:Xf("rgb","red"),parse:kv("red","green","blue"),transform:({red:t,green:e,blue:o,alpha:s=1})=>"rgba("+Oc.transform(t)+", "+Oc.transform(e)+", "+Oc.transform(o)+", "+sa(ya.transform(s))+")"};function PC(t){let e="",o="",s="",r="";return t.length>5?(e=t.substring(1,3),o=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),o=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,o+=o,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(o,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const nf={test:Xf("#"),parse:PC,transform:Zi.transform},ba=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ai=ba("deg"),_n=ba("%"),Ce=ba("px"),UC=ba("vh"),LC=ba("vw"),Dg={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},Yo={test:Xf("hsl","hue"),parse:kv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:o,alpha:s=1})=>"hsla("+Math.round(t)+", "+_n.transform(sa(e))+", "+_n.transform(sa(o))+", "+sa(ya.transform(s))+")"},mt={test:t=>Zi.test(t)||nf.test(t)||Yo.test(t),parse:t=>Zi.test(t)?Zi.parse(t):Yo.test(t)?Yo.parse(t):nf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zi.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},VC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kC(t){var e,o;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Kf))==null?void 0:e.length)||0)+(((o=t.match(VC))==null?void 0:o.length)||0)>0}const Gv="number",Bv="color",GC="var",BC="var(",Ig="${}",HC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function va(t){const e=t.toString(),o=[],s={color:[],number:[],var:[]},r=[];let u=0;const h=e.replace(HC,g=>(mt.test(g)?(s.color.push(u),r.push(Bv),o.push(mt.parse(g))):g.startsWith(BC)?(s.var.push(u),r.push(GC),o.push(g)):(s.number.push(u),r.push(Gv),o.push(parseFloat(g))),++u,Ig)).split(Ig);return{values:o,split:h,indexes:s,types:r}}function Hv(t){return va(t).values}function qv(t){const{split:e,types:o}=va(t),s=e.length;return r=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],r[c]!==void 0){const h=o[c];h===Gv?u+=sa(r[c]):h===Bv?u+=mt.transform(r[c]):u+=r[c]}return u}}const qC=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function OC(t){const e=Hv(t);return qv(t)(e.map(qC))}const _i={test:kC,parse:Hv,createTransformer:qv,getAnimatableNone:OC};function zc(t,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+(e-t)*6*o:o<1/2?e:o<2/3?t+(e-t)*(2/3-o)*6:t}function zC({hue:t,saturation:e,lightness:o,alpha:s}){t/=360,e/=100,o/=100;let r=0,u=0,c=0;if(!e)r=u=c=o;else{const h=o<.5?o*(1+e):o+e-o*e,g=2*o-h;r=zc(g,h,t+1/3),u=zc(g,h,t),c=zc(g,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function tl(t,e){return o=>o>0?e:t}const tt=(t,e,o)=>t+(e-t)*o,Fc=(t,e,o)=>{const s=t*t,r=o*(e*e-s)+s;return r<0?0:Math.sqrt(r)},FC=[nf,Zi,Yo],YC=t=>FC.find(e=>e.test(t));function Pg(t){const e=YC(t);if(!e)return!1;let o=e.parse(t);return e===Yo&&(o=zC(o)),o}const Ug=(t,e)=>{const o=Pg(t),s=Pg(e);if(!o||!s)return tl(t,e);const r={...o};return u=>(r.red=Fc(o.red,s.red,u),r.green=Fc(o.green,s.green,u),r.blue=Fc(o.blue,s.blue,u),r.alpha=tt(o.alpha,s.alpha,u),Zi.transform(r))},of=new Set(["none","hidden"]);function JC(t,e){return of.has(t)?o=>o<=0?t:e:o=>o>=1?e:t}function KC(t,e){return o=>tt(t,e,o)}function Qf(t){return typeof t=="number"?KC:typeof t=="string"?Jf(t)?tl:mt.test(t)?Ug:$C:Array.isArray(t)?Ov:typeof t=="object"?mt.test(t)?Ug:XC:tl}function Ov(t,e){const o=[...t],s=o.length,r=t.map((u,c)=>Qf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)o[c]=r[c](u);return o}}function XC(t,e){const o={...t,...e},s={};for(const r in o)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Qf(t[r])(t[r],e[r]));return r=>{for(const u in s)o[u]=s[u](r);return o}}function QC(t,e){const o=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const u=e.types[r],c=t.indexes[u][s[u]],h=t.values[c]??0;o[r]=h,s[u]++}return o}const $C=(t,e)=>{const o=_i.createTransformer(e),s=va(t),r=va(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?of.has(t)&&!r.values.length||of.has(e)&&!s.values.length?JC(t,e):Aa(Ov(QC(s,r),r.values),o):tl(t,e)};function zv(t,e,o){return typeof t=="number"&&typeof e=="number"&&typeof o=="number"?tt(t,e,o):Qf(t)(t,e)}const ZC=t=>{const e=({timestamp:o})=>t(o);return{start:(o=!0)=>je.update(e,o),stop:()=>Kn(e),now:()=>Ct.isProcessing?Ct.timestamp:Gt.now()}},Fv=(t,e,o=10)=>{let s="";const r=Math.max(Math.round(e/o),2);for(let u=0;u<r;u++)s+=Math.round(t(u/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},nl=2e4;function $f(t){let e=0;const o=50;let s=t.next(e);for(;!s.done&&e<nl;)e+=o,s=t.next(e);return e>=nl?1/0:e}function WC(t,e=100,o){const s=o({...t,keyframes:[0,e]}),r=Math.min($f(s),nl);return{type:"keyframes",ease:u=>s.next(r*u).value/e,duration:un(r)}}const jC=5;function Yv(t,e,o){const s=Math.max(e-jC,0);return Av(o-t(s),e-s)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yc=.001;function eA({duration:t=st.duration,bounce:e=st.bounce,velocity:o=st.velocity,mass:s=st.mass}){let r,u,c=1-e;c=Yn(st.minDamping,st.maxDamping,c),t=Yn(st.minDuration,st.maxDuration,un(t)),c<1?(r=p=>{const v=p*c,T=v*t,S=v-o,A=sf(p,c),M=Math.exp(-T);return Yc-S/A*M},u=p=>{const T=p*c*t,S=T*o+o,A=Math.pow(c,2)*Math.pow(p,2)*t,M=Math.exp(-T),R=sf(Math.pow(p,2),c);return(-r(p)+Yc>0?-1:1)*((S-A)*M)/R}):(r=p=>{const v=Math.exp(-p*t),T=(p-o)*t+1;return-Yc+v*T},u=p=>{const v=Math.exp(-p*t),T=(o-p)*(t*t);return v*T});const h=5/t,g=nA(r,u,h);if(t=An(t),isNaN(g))return{stiffness:st.stiffness,damping:st.damping,duration:t};{const p=Math.pow(g,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const tA=12;function nA(t,e,o){let s=o;for(let r=1;r<tA;r++)s=s-t(s)/e(s);return s}function sf(t,e){return t*Math.sqrt(1-e*e)}const iA=["duration","bounce"],oA=["stiffness","damping","mass"];function Lg(t,e){return e.some(o=>t[o]!==void 0)}function sA(t){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...t};if(!Lg(t,oA)&&Lg(t,iA))if(t.visualDuration){const o=t.visualDuration,s=2*Math.PI/(o*1.2),r=s*s,u=2*Yn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:st.mass,stiffness:r,damping:u}}else{const o=eA(t);e={...e,...o,mass:st.mass},e.isResolvedFromDuration=!0}return e}function il(t=st.visualDuration,e=st.bounce){const o=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=o;const u=o.keyframes[0],c=o.keyframes[o.keyframes.length-1],h={done:!1,value:u},{stiffness:g,damping:p,mass:v,duration:T,velocity:S,isResolvedFromDuration:A}=sA({...o,velocity:-un(o.velocity||0)}),M=S||0,R=p/(2*Math.sqrt(g*v)),L=c-u,I=un(Math.sqrt(g/v)),H=Math.abs(L)<5;s||(s=H?st.restSpeed.granular:st.restSpeed.default),r||(r=H?st.restDelta.granular:st.restDelta.default);let D;if(R<1){const z=sf(I,R);D=$=>{const Y=Math.exp(-R*I*$);return c-Y*((M+R*I*L)/z*Math.sin(z*$)+L*Math.cos(z*$))}}else if(R===1)D=z=>c-Math.exp(-I*z)*(L+(M+I*L)*z);else{const z=I*Math.sqrt(R*R-1);D=$=>{const Y=Math.exp(-R*I*$),Z=Math.min(z*$,300);return c-Y*((M+R*I*L)*Math.sinh(Z)+z*L*Math.cosh(Z))/z}}const X={calculatedDuration:A&&T||null,next:z=>{const $=D(z);if(A)h.done=z>=T;else{let Y=z===0?M:0;R<1&&(Y=z===0?An(M):Yv(D,z,$));const Z=Math.abs(Y)<=s,W=Math.abs(c-$)<=r;h.done=Z&&W}return h.value=h.done?c:$,h},toString:()=>{const z=Math.min($f(X),nl),$=Fv(Y=>X.next(z*Y).value,z,30);return z+"ms "+$},toTransition:()=>{}};return X}il.applyToOptions=t=>{const e=WC(t,100,il);return t.ease=e.ease,t.duration=An(e.duration),t.type="keyframes",t};function af({keyframes:t,velocity:e=0,power:o=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:g,restDelta:p=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},A=Z=>h!==void 0&&Z<h||g!==void 0&&Z>g,M=Z=>h===void 0?g:g===void 0||Math.abs(h-Z)<Math.abs(g-Z)?h:g;let R=o*e;const L=T+R,I=c===void 0?L:c(L);I!==L&&(R=I-T);const H=Z=>-R*Math.exp(-Z/s),D=Z=>I+H(Z),X=Z=>{const W=H(Z),ie=D(Z);S.done=Math.abs(W)<=p,S.value=S.done?I:ie};let z,$;const Y=Z=>{A(S.value)&&(z=Z,$=il({keyframes:[S.value,M(S.value)],velocity:Yv(D,Z,S.value),damping:r,stiffness:u,restDelta:p,restSpeed:v}))};return Y(0),{calculatedDuration:null,next:Z=>{let W=!1;return!$&&z===void 0&&(W=!0,X(Z),Y(Z)),z!==void 0&&Z>=z?$.next(Z-z):(!W&&X(Z),S)}}}function aA(t,e,o){const s=[],r=o||Jn.mix||zv,u=t.length-1;for(let c=0;c<u;c++){let h=r(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||cn:e;h=Aa(g,h)}s.push(h)}return s}function Jv(t,e,{clamp:o=!0,ease:s,mixer:r}={}){const u=t.length;if(Hf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=aA(e,s,r),g=h.length,p=v=>{if(c&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=ga(t[T],t[T+1],v);return h[T](S)};return o?v=>p(Yn(t[0],t[u-1],v)):p}function rA(t,e){const o=t[t.length-1];for(let s=1;s<=e;s++){const r=ga(0,e,s);t.push(tt(o,1,r))}}function lA(t){const e=[0];return rA(e,t.length-1),e}function uA(t,e){return t.map(o=>o*e)}function cA(t,e){return t.map(()=>e||Pv).splice(0,t.length-1)}function aa({duration:t=300,keyframes:e,times:o,ease:s="easeInOut"}){const r=xC(s)?s.map(wg):wg(s),u={done:!1,value:e[0]},c=uA(o&&o.length===e.length?o:lA(e),t),h=Jv(c,e,{ease:Array.isArray(r)?r:cA(e,r)});return{calculatedDuration:t,next:g=>(u.value=h(g),u.done=g>=t,u)}}const fA=t=>t!==null;function Zf(t,{repeat:e,repeatType:o="loop"},s,r=1){const u=t.filter(fA),h=r<0||e&&o!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const dA={decay:af,inertia:af,tween:aa,keyframes:aa,spring:il};function Kv(t){typeof t.type=="string"&&(t.type=dA[t.type])}class Wf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,o){return this.finished.then(e,o)}}const hA=t=>t/100;class jf extends Wf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:o}=this.options;o&&o.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Kv(e);const{type:o=aa,repeat:s=0,repeatDelay:r=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const g=o||aa;g!==aa&&typeof h[0]!="number"&&(this.mixKeyframes=Aa(hA,zv(h[0],h[1])),h=[0,100]);const p=g({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=$f(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=p}updateTime(e){const o=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(e,o=!1){const{generator:s,totalDuration:r,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:A,type:M,onUpdate:R,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),o?this.currentTime=e:this.updateTime(e);const I=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?I<0:I>r;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let D=this.currentTime,X=s;if(T){const Z=Math.min(this.currentTime,r)/h;let W=Math.floor(Z),ie=Z%1;!ie&&Z>=1&&(ie=1),ie===1&&W--,W=Math.min(W,T+1),!!(W%2)&&(S==="reverse"?(ie=1-ie,A&&(ie-=A/h)):S==="mirror"&&(X=c)),D=Yn(0,1,ie)*h}const z=H?{done:!1,value:v[0]}:X.next(D);u&&(z.value=u(z.value));let{done:$}=z;!H&&g!==null&&($=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return Y&&M!==af&&(z.value=Zf(v,this.options,L,this.speed)),R&&R(z.value),Y&&this.finish(),z}then(e,o){return this.finished.then(e,o)}get duration(){return un(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+un(e)}get time(){return un(this.currentTime)}set time(e){var o;e=An(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(o=this.driver)==null||o.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gt.now());const o=this.playbackSpeed!==e;this.playbackSpeed=e,o&&(this.time=un(this.currentTime))}play(){var r,u;if(this.isStopped)return;const{driver:e=ZC,startTime:o}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(r=this.options).onPlay)==null||u.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=o??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,o;this.notifyFinished(),this.teardown(),this.state="finished",(o=(e=this.options).onComplete)==null||o.call(e)}cancel(){var e,o;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(o=(e=this.options).onCancel)==null||o.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var o;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(o=this.driver)==null||o.stop(),e.observe(this)}}function mA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wi=t=>t*180/Math.PI,rf=t=>{const e=Wi(Math.atan2(t[1],t[0]));return lf(e)},pA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rf,rotateZ:rf,skewX:t=>Wi(Math.atan(t[1])),skewY:t=>Wi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lf=t=>(t=t%360,t<0&&(t+=360),t),Vg=rf,kg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Gg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kg,scaleY:Gg,scale:t=>(kg(t)+Gg(t))/2,rotateX:t=>lf(Wi(Math.atan2(t[6],t[5]))),rotateY:t=>lf(Wi(Math.atan2(-t[2],t[0]))),rotateZ:Vg,rotate:Vg,skewX:t=>Wi(Math.atan(t[4])),skewY:t=>Wi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function uf(t){return t.includes("scale")?1:0}function cf(t,e){if(!t||t==="none")return uf(e);const o=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(o)s=gA,r=o;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pA,r=h}if(!r)return uf(e);const u=s[e],c=r[1].split(",").map(vA);return typeof u=="function"?u(c):c[u]}const yA=(t,e)=>{const{transform:o="none"}=getComputedStyle(t);return cf(o,e)};function vA(t){return parseFloat(t.trim())}const is=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],os=new Set(is),Bg=t=>t===ns||t===Ce,TA=new Set(["x","y","z"]),SA=is.filter(t=>!TA.has(t));function EA(t){const e=[];return SA.forEach(o=>{const s=t.getValue(o);s!==void 0&&(e.push([o,s.get()]),s.set(o.startsWith("scale")?1:0))}),e}const eo={width:({x:t},{paddingLeft:e="0",paddingRight:o="0"})=>t.max-t.min-parseFloat(e)-parseFloat(o),height:({y:t},{paddingTop:e="0",paddingBottom:o="0"})=>t.max-t.min-parseFloat(e)-parseFloat(o),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cf(e,"x"),y:(t,{transform:e})=>cf(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let ff=!1,df=!1,hf=!1;function Xv(){if(df){const t=Array.from(to).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),o=new Map;e.forEach(s=>{const r=EA(s);r.length&&(o.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=o.get(s);r&&r.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}df=!1,ff=!1,to.forEach(t=>t.complete(hf)),to.clear()}function Qv(){to.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(df=!0)})}function xA(){hf=!0,Qv(),Xv(),hf=!1}class ed{constructor(e,o,s,r,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=o,this.name=s,this.motionValue=r,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),ff||(ff=!0,je.read(Qv),je.resolveKeyframes(Xv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:o,element:s,motionValue:r}=this;if(e[0]===null){const u=r==null?void 0:r.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&o){const h=s.readValue(o,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),r&&u===void 0&&r.set(e[0])}mA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CA=t=>t.startsWith("--");function AA(t,e,o){CA(e)?t.style.setProperty(e,o):t.style[e]=o}const _A=qf(()=>window.ScrollTimeline!==void 0),bA={};function MA(t,e){const o=qf(t);return()=>bA[e]??o()}const $v=MA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oa=([t,e,o,s])=>`cubic-bezier(${t}, ${e}, ${o}, ${s})`,Hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oa([0,.65,.55,1]),circOut:oa([.55,0,1,.45]),backIn:oa([.31,.01,.66,-.59]),backOut:oa([.33,1.53,.69,.99])};function Zv(t,e){if(t)return typeof t=="function"?$v()?Fv(t,e):"ease-out":Uv(t)?oa(t):Array.isArray(t)?t.map(o=>Zv(o,e)||Hg.easeOut):Hg[t]}function NA(t,e,o,{delay:s=0,duration:r=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:g}={},p=void 0){const v={[e]:o};g&&(v.offset=g);const T=Zv(h,r);Array.isArray(T)&&(v.easing=T);const S={delay:s,duration:r,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),t.animate(v,S)}function Wv(t){return typeof t=="function"&&"applyToOptions"in t}function RA({type:t,...e}){return Wv(t)&&$v()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wA extends Wf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:o,name:s,keyframes:r,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:g}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Hf(typeof e.type!="string");const p=RA(e);this.animation=NA(o,s,r,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Zf(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):AA(o,s,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,o;(o=(e=this.animation).finish)==null||o.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,o;this.isPseudoElement||(o=(e=this.animation).commitStyles)==null||o.call(e)}get duration(){var o,s;const e=((s=(o=this.animation.effect)==null?void 0:o.getComputedTiming)==null?void 0:s.call(o).duration)||0;return un(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+un(e)}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=An(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:o}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_A()?(this.animation.timeline=e,cn):o(this)}}const jv={anticipate:wv,backInOut:Rv,circInOut:Iv};function DA(t){return t in jv}function IA(t){typeof t.ease=="string"&&DA(t.ease)&&(t.ease=jv[t.ease])}const qg=10;class PA extends wA{constructor(e){IA(e),Kv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:o,onUpdate:s,onComplete:r,element:u,...c}=this.options;if(!o)return;if(e!==void 0){o.set(e);return}const h=new jf({...c,autoplay:!1}),g=An(this.finishedTime??this.time);o.setWithVelocity(h.sample(g-qg).value,h.sample(g).value,qg),h.stop()}}const Og=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_i.test(t)||t==="0")&&!t.startsWith("url("));function UA(t){const e=t[0];if(t.length===1)return!0;for(let o=0;o<t.length;o++)if(t[o]!==e)return!0}function LA(t,e,o,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=Og(r,e),h=Og(u,e);return!c||!h?!1:UA(t)||(o==="spring"||Wv(o))&&s}function mf(t){t.duration=0,t.type="keyframes"}const VA=new Set(["opacity","clipPath","filter","transform"]),kA=qf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GA(t){var v;const{motionValue:e,name:o,repeatDelay:s,repeatType:r,damping:u,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=e.owner.getProps();return kA()&&o&&VA.has(o)&&(o!=="transform"||!p)&&!g&&!s&&r!=="mirror"&&u!==0&&c!=="inertia"}const BA=40;class HA extends Wf{constructor({autoplay:e=!0,delay:o=0,type:s="keyframes",repeat:r=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:g,motionValue:p,element:v,...T}){var M;super(),this.stop=()=>{var R,L;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(L=this.keyframeResolver)==null||L.cancel()},this.createdAt=Gt.now();const S={autoplay:e,delay:o,type:s,repeat:r,repeatDelay:u,repeatType:c,name:g,motionValue:p,element:v,...T},A=(v==null?void 0:v.KeyframeResolver)||ed;this.keyframeResolver=new A(h,(R,L,I)=>this.onKeyframesResolved(R,L,S,!I),g,p,v),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,o,s,r){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:g,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Gt.now(),LA(e,u,c,h)||((Jn.instantAnimations||!g)&&(v==null||v(Zf(e,s,o))),e[0]=e[e.length-1],mf(s),s.repeat=0);const S={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>BA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...s,keyframes:e},A=!p&&GA(S)?new PA({...S,element:S.motionValue.owner.current}):new jf(S);A.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,o){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const qA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OA(t){const e=qA.exec(t);if(!e)return[,];const[,o,s,r]=e;return[`--${o??s}`,r]}function eT(t,e,o=1){const[s,r]=OA(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Ev(c)?parseFloat(c):c}return Jf(r)?eT(r,e,o+1):r}function td(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tT=new Set(["width","height","top","left","right","bottom",...is]),zA={test:t=>t==="auto",parse:t=>t},nT=t=>e=>e.test(t),iT=[ns,Ce,_n,Ai,LC,UC,zA],zg=t=>iT.find(nT(t));function FA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Cv(t):!0}const YA=new Set(["brightness","contrast","saturate","opacity"]);function JA(t){const[e,o]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=o.match(Kf)||[];if(!s)return t;const r=o.replace(s,"");let u=YA.has(e)?1:0;return s!==o&&(u*=100),e+"("+u+r+")"}const KA=/\b([a-z-]*)\(.*?\)/gu,pf={..._i,getAnimatableNone:t=>{const e=t.match(KA);return e?e.map(JA).join(" "):t}},Fg={...ns,transform:Math.round},XA={rotate:Ai,rotateX:Ai,rotateY:Ai,rotateZ:Ai,scale:Yr,scaleX:Yr,scaleY:Yr,scaleZ:Yr,skew:Ai,skewX:Ai,skewY:Ai,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ya,originX:Dg,originY:Dg,originZ:Ce},nd={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...XA,zIndex:Fg,fillOpacity:ya,strokeOpacity:ya,numOctaves:Fg},QA={...nd,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:pf,WebkitFilter:pf},oT=t=>QA[t];function sT(t,e){let o=oT(t);return o!==pf&&(o=_i),o.getAnimatableNone?o.getAnimatableNone(e):void 0}const $A=new Set(["auto","none","0"]);function ZA(t,e,o){let s=0,r;for(;s<t.length&&!r;){const u=t[s];typeof u=="string"&&!$A.has(u)&&va(u).values.length&&(r=t[s]),s++}if(r&&o)for(const u of e)t[u]=sT(o,r)}class WA extends ed{constructor(e,o,s,r,u){super(e,o,s,r,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:o,name:s}=this;if(!o||!o.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let p=e[g];if(typeof p=="string"&&(p=p.trim(),Jf(p))){const v=eT(p,o.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!tT.has(s)||e.length!==2)return;const[r,u]=e,c=zg(r),h=zg(u);if(c!==h)if(Bg(c)&&Bg(h))for(let g=0;g<e.length;g++){const p=e[g];typeof p=="string"&&(e[g]=parseFloat(p))}else eo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:o}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||FA(e[r]))&&s.push(r);s.length&&ZA(e,s,o)}measureInitialState(){const{element:e,unresolvedKeyframes:o,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o[0]=this.measuredOrigin;const r=o[o.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var h;const{element:e,name:o,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(o);r&&r.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=eo[o](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([g,p])=>{e.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function jA(t,e,o){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(o==null?void 0:o[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const aT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rT(t){return xv(t)&&"offsetHeight"in t}const Yg=30,e_=t=>!isNaN(parseFloat(t)),ra={current:void 0};class t_{constructor(e,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const r=Gt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=o.owner}setCurrent(e){this.current=e,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,o){this.events[e]||(this.events[e]=new Of);const s=this.events[e].add(o);return e==="change"?()=>{s(),je.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,o){this.passiveEffect=e,this.stopPassiveEffect=o}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,o,s){this.set(o),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,o=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ra.current&&ra.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yg)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,Yg);return Av(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(e){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=e(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,o;(e=this.dependents)==null||e.clear(),(o=this.events.destroy)==null||o.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function no(t,e){return new t_(t,e)}const{schedule:id}=Lv(queueMicrotask,!1),gn={x:!1,y:!1};function lT(){return gn.x||gn.y}function n_(t){return t==="x"||t==="y"?gn[t]?null:(gn[t]=!0,()=>{gn[t]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function uT(t,e){const o=jA(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[o,r,()=>s.abort()]}function Jg(t){return!(t.pointerType==="touch"||lT())}function i_(t,e,o={}){const[s,r,u]=uT(t,o),c=h=>{if(!Jg(h))return;const{target:g}=h,p=e(g,h);if(typeof p!="function"||!g)return;const v=T=>{Jg(T)&&(p(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,r)};return s.forEach(h=>{h.addEventListener("pointerenter",c,r)}),u}const cT=(t,e)=>e?t===e?!0:cT(t,e.parentElement):!1,od=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,o_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s_(t){return o_.has(t.tagName)||t.tabIndex!==-1}const $r=new WeakSet;function Kg(t){return e=>{e.key==="Enter"&&t(e)}}function Jc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const a_=(t,e)=>{const o=t.currentTarget;if(!o)return;const s=Kg(()=>{if($r.has(o))return;Jc(o,"down");const r=Kg(()=>{Jc(o,"up")}),u=()=>Jc(o,"cancel");o.addEventListener("keyup",r,e),o.addEventListener("blur",u,e)});o.addEventListener("keydown",s,e),o.addEventListener("blur",()=>o.removeEventListener("keydown",s),e)};function Xg(t){return od(t)&&!lT()}function r_(t,e,o={}){const[s,r,u]=uT(t,o),c=h=>{const g=h.currentTarget;if(!Xg(h))return;$r.add(g);const p=e(g,h),v=(A,M)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),$r.has(g)&&$r.delete(g),Xg(A)&&typeof p=="function"&&p(A,{success:M})},T=A=>{v(A,g===window||g===document||o.useGlobalTarget||cT(g,A.target))},S=A=>{v(A,!1)};window.addEventListener("pointerup",T,r),window.addEventListener("pointercancel",S,r)};return s.forEach(h=>{(o.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),rT(h)&&(h.addEventListener("focus",p=>a_(p,r)),!s_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function fT(t){return xv(t)&&"ownerSVGElement"in t}function l_(t){return fT(t)&&t.tagName==="svg"}function u_(...t){const e=!Array.isArray(t[0]),o=e?0:-1,s=t[0+o],r=t[1+o],u=t[2+o],c=t[3+o],h=Jv(r,u,c);return e?h(s):h}const _t=t=>!!(t&&t.getVelocity),c_=[...iT,mt,_i],f_=t=>c_.find(nT(t)),ml=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d_(...t){return e=>{let o=!1;const s=t.map(r=>{const u=Qg(r,e);return!o&&typeof u=="function"&&(o=!0),u});if(o)return()=>{for(let r=0;r<s.length;r++){const u=s[r];typeof u=="function"?u():Qg(t[r],null)}}}}function h_(...t){return O.useCallback(d_(...t),t)}class m_ extends O.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const s=o.offsetParent,r=rT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=o.offsetHeight||0,u.width=o.offsetWidth||0,u.top=o.offsetTop,u.left=o.offsetLeft,u.right=r-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p_({children:t,isPresent:e,anchorX:o,root:s}){const r=O.useId(),u=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=O.useContext(ml),g=h_(u,t==null?void 0:t.ref);return O.useInsertionEffect(()=>{const{width:p,height:v,top:T,left:S,right:A}=c.current;if(e||!u.current||!p||!v)return;const M=o==="left"?`left: ${S}`:`right: ${A}`;u.current.dataset.motionPopId=r;const R=document.createElement("style");h&&(R.nonce=h);const L=s??document.head;return L.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${M}px !important;
            top: ${T}px !important;
          }
        `),()=>{L.contains(R)&&L.removeChild(R)}},[e]),x.jsx(m_,{isPresent:e,childRef:u,sizeRef:c,children:O.cloneElement(t,{ref:g})})}const g_=({children:t,initial:e,isPresent:o,onExitComplete:s,custom:r,presenceAffectsLayout:u,mode:c,anchorX:h,root:g})=>{const p=io(y_),v=O.useId();let T=!0,S=O.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:o,custom:r,onExitComplete:A=>{p.set(A,!0);for(const M of p.values())if(!M)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[o,p,s]);return u&&T&&(S={...S}),O.useMemo(()=>{p.forEach((A,M)=>p.set(M,!1))},[o]),O.useEffect(()=>{!o&&!p.size&&s&&s()},[o]),c==="popLayout"&&(t=x.jsx(p_,{isPresent:o,anchorX:h,root:g,children:t})),x.jsx(hl.Provider,{value:S,children:t})};function y_(){return new Map}function dT(t=!0){const e=O.useContext(hl);if(e===null)return[!0,null];const{isPresent:o,onExitComplete:s,register:r}=e,u=O.useId();O.useEffect(()=>{if(t)return r(u)},[t]);const c=O.useCallback(()=>t&&s&&s(u),[u,s,t]);return!o&&s?[!1,c]:[!0]}const Jr=t=>t.key||"";function $g(t){const e=[];return O.Children.forEach(t,o=>{O.isValidElement(o)&&e.push(o)}),e}const sd=({children:t,custom:e,initial:o=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:g})=>{const[p,v]=dT(c),T=O.useMemo(()=>$g(t),[t]),S=c&&!p?[]:T.map(Jr),A=O.useRef(!0),M=O.useRef(T),R=io(()=>new Map),[L,I]=O.useState(T),[H,D]=O.useState(T);kf(()=>{A.current=!1,M.current=T;for(let $=0;$<H.length;$++){const Y=Jr(H[$]);S.includes(Y)?R.delete(Y):R.get(Y)!==!0&&R.set(Y,!1)}},[H,S.length,S.join("-")]);const X=[];if(T!==L){let $=[...T];for(let Y=0;Y<H.length;Y++){const Z=H[Y],W=Jr(Z);S.includes(W)||($.splice(Y,0,Z),X.push(Z))}return u==="wait"&&X.length&&($=X),D($g($)),I(T),null}const{forceRender:z}=O.useContext(Lf);return x.jsx(x.Fragment,{children:H.map($=>{const Y=Jr($),Z=c&&!p?!1:T===H||S.includes(Y),W=()=>{if(R.has(Y))R.set(Y,!0);else return;let ie=!0;R.forEach(se=>{se||(ie=!1)}),ie&&(z==null||z(),D(M.current),c&&(v==null||v()),s&&s())};return x.jsx(g_,{isPresent:Z,initial:!A.current||o?void 0:!1,custom:e,presenceAffectsLayout:r,mode:u,root:g,onExitComplete:Z?void 0:W,anchorX:h,children:$},Y)})})},hT=O.createContext({strict:!1}),Zg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ts={};for(const t in Zg)ts[t]={isEnabled:e=>Zg[t].some(o=>!!e[o])};function v_(t){for(const e in t)ts[e]={...ts[e],...t[e]}}const T_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ol(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||T_.has(t)}let mT=t=>!ol(t);function S_(t){typeof t=="function"&&(mT=e=>e.startsWith("on")?!ol(e):t(e))}try{S_(require("@emotion/is-prop-valid").default)}catch{}function E_(t,e,o){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(mT(r)||o===!0&&ol(r)||!e&&!ol(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const pl=O.createContext({});function gl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ta(t){return typeof t=="string"||Array.isArray(t)}const ad=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rd=["initial",...ad];function yl(t){return gl(t.animate)||rd.some(e=>Ta(t[e]))}function pT(t){return!!(yl(t)||t.variants)}function x_(t,e){if(yl(t)){const{initial:o,animate:s}=t;return{initial:o===!1||Ta(o)?o:void 0,animate:Ta(s)?s:void 0}}return t.inherit!==!1?e:{}}function C_(t){const{initial:e,animate:o}=x_(t,O.useContext(pl));return O.useMemo(()=>({initial:e,animate:o}),[Wg(e),Wg(o)])}function Wg(t){return Array.isArray(t)?t.join(" "):t}const Sa={};function A_(t){for(const e in t)Sa[e]=t[e],Yf(e)&&(Sa[e].isCSSVariable=!0)}function gT(t,{layout:e,layoutId:o}){return os.has(t)||t.startsWith("origin")||(e||o!==void 0)&&(!!Sa[t]||t==="opacity")}const __={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b_=is.length;function M_(t,e,o){let s="",r=!0;for(let u=0;u<b_;u++){const c=is[u],h=t[c];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(c.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||o){const p=aT(h,nd[c]);if(!g){r=!1;const v=__[c]||c;s+=`${v}(${p}) `}o&&(e[c]=p)}}return s=s.trim(),o?s=o(e,r?"":s):r&&(s="none"),s}function ld(t,e,o){const{style:s,vars:r,transformOrigin:u}=t;let c=!1,h=!1;for(const g in e){const p=e[g];if(os.has(g)){c=!0;continue}else if(Yf(g)){r[g]=p;continue}else{const v=aT(p,nd[g]);g.startsWith("origin")?(h=!0,u[g]=v):s[g]=v}}if(e.transform||(c||o?s.transform=M_(e,t.transform,o):s.transform&&(s.transform="none")),h){const{originX:g="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${g} ${p} ${v}`}}const ud=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yT(t,e,o){for(const s in e)!_t(e[s])&&!gT(s,o)&&(t[s]=e[s])}function N_({transformTemplate:t},e){return O.useMemo(()=>{const o=ud();return ld(o,e,t),Object.assign({},o.vars,o.style)},[e])}function R_(t,e){const o=t.style||{},s={};return yT(s,o,t),Object.assign(s,N_(t,e)),s}function w_(t,e){const o={},s=R_(t,e);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=s,o}const D_={offset:"stroke-dashoffset",array:"stroke-dasharray"},I_={offset:"strokeDashoffset",array:"strokeDasharray"};function P_(t,e,o=1,s=0,r=!0){t.pathLength=1;const u=r?D_:I_;t[u.offset]=Ce.transform(-s);const c=Ce.transform(e),h=Ce.transform(o);t[u.array]=`${c} ${h}`}function vT(t,{attrX:e,attrY:o,attrScale:s,pathLength:r,pathSpacing:u=1,pathOffset:c=0,...h},g,p,v){if(ld(t,h,p),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),o!==void 0&&(T.y=o),s!==void 0&&(T.scale=s),r!==void 0&&P_(T,r,u,c,!1)}const TT=()=>({...ud(),attrs:{}}),ST=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U_(t,e,o,s){const r=O.useMemo(()=>{const u=TT();return vT(u,e,ST(s),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};yT(u,t.style,t),r.style={...u,...r.style}}return r}const L_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cd(t){return typeof t!="string"||t.includes("-")?!1:!!(L_.indexOf(t)>-1||/[A-Z]/u.test(t))}function V_(t,e,o,{latestValues:s},r,u=!1){const h=(cd(t)?U_:w_)(e,s,r,t),g=E_(e,typeof t=="string",u),p=t!==O.Fragment?{...g,...h,ref:o}:{},{children:v}=e,T=O.useMemo(()=>_t(v)?v.get():v,[v]);return O.createElement(t,{...p,children:T})}function jg(t){const e=[{},{}];return t==null||t.values.forEach((o,s)=>{e[0][s]=o.get(),e[1][s]=o.getVelocity()}),e}function fd(t,e,o,s){if(typeof e=="function"){const[r,u]=jg(s);e=e(o!==void 0?o:t.custom,r,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,u]=jg(s);e=e(o!==void 0?o:t.custom,r,u)}return e}function Zr(t){return _t(t)?t.get():t}function k_({scrapeMotionValuesFromProps:t,createRenderState:e},o,s,r){return{latestValues:G_(o,s,r,t),renderState:e()}}function G_(t,e,o,s){const r={},u=s(t,{});for(const S in u)r[S]=Zr(u[S]);let{initial:c,animate:h}=t;const g=yl(t),p=pT(t);e&&p&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=o?o.initial===!1:!1;v=v||c===!1;const T=v?h:c;if(T&&typeof T!="boolean"&&!gl(T)){const S=Array.isArray(T)?T:[T];for(let A=0;A<S.length;A++){const M=fd(t,S[A]);if(M){const{transitionEnd:R,transition:L,...I}=M;for(const H in I){let D=I[H];if(Array.isArray(D)){const X=v?D.length-1:0;D=D[X]}D!==null&&(r[H]=D)}for(const H in R)r[H]=R[H]}}}return r}const ET=t=>(e,o)=>{const s=O.useContext(pl),r=O.useContext(hl),u=()=>k_(t,e,s,r);return o?u():io(u)};function dd(t,e,o){var u;const{style:s}=t,r={};for(const c in s)(_t(s[c])||e.style&&_t(e.style[c])||gT(c,t)||((u=o==null?void 0:o.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(r[c]=s[c]);return r}const B_=ET({scrapeMotionValuesFromProps:dd,createRenderState:ud});function xT(t,e,o){const s=dd(t,e,o);for(const r in t)if(_t(t[r])||_t(e[r])){const u=is.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[u]=t[r]}return s}const H_=ET({scrapeMotionValuesFromProps:xT,createRenderState:TT}),q_=Symbol.for("motionComponentSymbol");function Jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O_(t,e,o){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),o&&(typeof o=="function"?o(s):Jo(o)&&(o.current=s))},[e])}const hd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z_="framerAppearId",CT="data-"+hd(z_),AT=O.createContext({});function F_(t,e,o,s,r){var R,L;const{visualElement:u}=O.useContext(pl),c=O.useContext(hT),h=O.useContext(hl),g=O.useContext(ml).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:u,props:o,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const v=p.current,T=O.useContext(AT);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&Y_(p.current,o,r,T);const S=O.useRef(!1);O.useInsertionEffect(()=>{v&&S.current&&v.update(o,h)});const A=o[CT],M=O.useRef(!!A&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,A))&&((L=window.MotionHasOptimisedAnimation)==null?void 0:L.call(window,A)));return kf(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),O.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,A)}),M.current=!1),v.enteringChildren=void 0)}),v}function Y_(t,e,o,s){const{layoutId:r,layout:u,drag:c,dragConstraints:h,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new o(t.latestValues,e["data-framer-portal-id"]?void 0:_T(t.parent)),t.projection.setOptions({layoutId:r,layout:u,alwaysMeasureLayout:!!c||h&&Jo(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:g,layoutRoot:p})}function _T(t){if(t)return t.options.allowProjection!==!1?t.projection:_T(t.parent)}function Kc(t,{forwardMotionProps:e=!1}={},o,s){o&&v_(o);const r=cd(t)?H_:B_;function u(h,g){let p;const v={...O.useContext(ml),...h,layoutId:J_(h)},{isStatic:T}=v,S=C_(h),A=r(h,T);if(!T&&Vf){K_();const M=X_(v);p=M.MeasureLayout,S.visualElement=F_(t,A,v,s,M.ProjectionNode)}return x.jsxs(pl.Provider,{value:S,children:[p&&S.visualElement?x.jsx(p,{visualElement:S.visualElement,...v}):null,V_(t,h,O_(A,S.visualElement,g),A,T,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(u);return c[q_]=t,c}function J_({layoutId:t}){const e=O.useContext(Lf).id;return e&&t!==void 0?e+"-"+t:t}function K_(t,e){O.useContext(hT).strict}function X_(t){const{drag:e,layout:o}=ts;if(!e&&!o)return{};const s={...e,...o};return{MeasureLayout:e!=null&&e.isEnabled(t)||o!=null&&o.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Q_(t,e){if(typeof Proxy>"u")return Kc;const o=new Map,s=(u,c)=>Kc(u,c,t,e),r=(u,c)=>s(u,c);return new Proxy(r,{get:(u,c)=>c==="create"?s:(o.has(c)||o.set(c,Kc(c,void 0,t,e)),o.get(c))})}function bT({top:t,left:e,right:o,bottom:s}){return{x:{min:e,max:o},y:{min:t,max:s}}}function $_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z_(t,e){if(!e)return t;const o=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:o.y,left:o.x,bottom:s.y,right:s.x}}function Xc(t){return t===void 0||t===1}function gf({scale:t,scaleX:e,scaleY:o}){return!Xc(t)||!Xc(e)||!Xc(o)}function $i(t){return gf(t)||MT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MT(t){return ey(t.x)||ey(t.y)}function ey(t){return t&&t!=="0%"}function sl(t,e,o){const s=t-o,r=e*s;return o+r}function ty(t,e,o,s,r){return r!==void 0&&(t=sl(t,r,s)),sl(t,o,s)+e}function yf(t,e=0,o=1,s,r){t.min=ty(t.min,e,o,s,r),t.max=ty(t.max,e,o,s,r)}function NT(t,{x:e,y:o}){yf(t.x,e.translate,e.scale,e.originPoint),yf(t.y,o.translate,o.scale,o.originPoint)}const ny=.999999999999,iy=1.0000000000001;function W_(t,e,o,s=!1){const r=o.length;if(!r)return;e.x=e.y=1;let u,c;for(let h=0;h<r;h++){u=o[h],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xo(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,NT(t,c)),s&&$i(u.latestValues)&&Xo(t,u.latestValues))}e.x<iy&&e.x>ny&&(e.x=1),e.y<iy&&e.y>ny&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function oy(t,e,o,s,r=.5){const u=tt(t.min,t.max,r);yf(t,e,o,u,s)}function Xo(t,e){oy(t.x,e.x,e.scaleX,e.scale,e.originX),oy(t.y,e.y,e.scaleY,e.scale,e.originY)}function RT(t,e){return bT(Z_(t.getBoundingClientRect(),e))}function j_(t,e,o){const s=RT(t,o),{scroll:r}=e;return r&&(Ko(s.x,r.offset.x),Ko(s.y,r.offset.y)),s}const sy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:sy(),y:sy()}),ay=()=>({min:0,max:0}),lt=()=>({x:ay(),y:ay()}),vf={current:null},wT={current:!1};function eb(){if(wT.current=!0,!!Vf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vf.current=t.matches;t.addEventListener("change",e),e()}else vf.current=!1}const tb=new WeakMap;function nb(t,e,o){for(const s in e){const r=e[s],u=o[s];if(_t(r))t.addValue(s,r);else if(_t(u))t.addValue(s,no(r,{owner:t}));else if(u!==r)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(s);t.addValue(s,no(c!==void 0?c:r,{owner:t}))}}for(const s in o)e[s]===void 0&&t.removeValue(s);return e}const ry=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ib{scrapeMotionValuesFromProps(e,o,s){return{}}constructor({parent:e,props:o,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ed,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Gt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,je.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=o.initial?{...g}:{},this.renderState=p,this.parent=e,this.props=o,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=yl(o),this.isVariantNode=pT(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(o,{},this);for(const S in T){const A=T[S];g[S]!==void 0&&_t(A)&&A.set(g[S])}}mount(e){var o;this.current=e,tb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),wT.current||eb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vf.current,(o=this.parent)==null||o.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(o=>o()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const s=this.features[o];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,o){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=os.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=o.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&je.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,o)),this.valueSubscriptions.set(e,()=>{r(),u&&u(),o.owner&&o.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ts){const o=ts[e];if(!o)continue;const{isEnabled:s,Feature:r}=o;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,o){this.latestValues[e]=o}update(e,o){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let s=0;s<ry.length;s++){const r=ry[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const u="on"+r,c=e[u];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=nb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(e),()=>o.variantChildren.delete(e)}addValue(e,o){const s=this.values.get(e);o!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,o),this.values.set(e,o),this.latestValues[e]=o.get())}removeValue(e){this.values.delete(e);const o=this.valueSubscriptions.get(e);o&&(o(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,o){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&o!==void 0&&(s=no(o===null?void 0:o,{owner:this}),this.addValue(e,s)),s}readValue(e,o){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Ev(s)||Cv(s))?s=parseFloat(s):!f_(s)&&_i.test(o)&&(s=sT(e,o)),this.setBaseTarget(e,_t(s)?s.get():s)),_t(s)?s.get():s}setBaseTarget(e,o){this.baseTarget[e]=o}getBaseTarget(e){var u;const{initial:o}=this.props;let s;if(typeof o=="string"||typeof o=="object"){const c=fd(this.props,o,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(o&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!_t(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,o){return this.events[e]||(this.events[e]=new Of),this.events[e].add(o)}notify(e,...o){this.events[e]&&this.events[e].notify(...o)}scheduleRenderMicrotask(){id.render(this.render)}}class DT extends ib{constructor(){super(...arguments),this.KeyframeResolver=WA}sortInstanceNodePosition(e,o){return e.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(e,o){return e.style?e.style[o]:void 0}removeValueFromRenderState(e,{vars:o,style:s}){delete o[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_t(e)&&(this.childSubscription=e.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function IT(t,{style:e,vars:o},s,r){const u=t.style;let c;for(c in e)u[c]=e[c];r==null||r.applyProjectionStyles(u,s);for(c in o)u.setProperty(c,o[c])}function ob(t){return window.getComputedStyle(t)}class sb extends DT{constructor(){super(...arguments),this.type="html",this.renderInstance=IT}readValueFromInstance(e,o){var s;if(os.has(o))return(s=this.projection)!=null&&s.isProjecting?uf(o):yA(e,o);{const r=ob(e),u=(Yf(o)?r.getPropertyValue(o):r[o])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:o}){return RT(e,o)}build(e,o,s){ld(e,o,s.transformTemplate)}scrapeMotionValuesFromProps(e,o,s){return dd(e,o,s)}}const PT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ab(t,e,o,s){IT(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(PT.has(r)?r:hd(r),e.attrs[r])}class rb extends DT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,o){return e[o]}readValueFromInstance(e,o){if(os.has(o)){const s=oT(o);return s&&s.default||0}return o=PT.has(o)?o:hd(o),e.getAttribute(o)}scrapeMotionValuesFromProps(e,o,s){return xT(e,o,s)}build(e,o,s){vT(e,o,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,o,s,r){ab(e,o,s,r)}mount(e){this.isSVGTag=ST(e.tagName),super.mount(e)}}const lb=(t,e)=>cd(t)?new rb(e):new sb(e,{allowProjection:t!==O.Fragment});function Zo(t,e,o){const s=t.getProps();return fd(s,e,o!==void 0?o:s.custom,t)}const Tf=t=>Array.isArray(t);function ub(t,e,o){t.hasValue(e)?t.getValue(e).set(o):t.addValue(e,no(o))}function cb(t){return Tf(t)?t[t.length-1]||0:t}function fb(t,e){const o=Zo(t,e);let{transitionEnd:s={},transition:r={},...u}=o||{};u={...u,...s};for(const c in u){const h=cb(u[c]);ub(t,c,h)}}function db(t){return!!(_t(t)&&t.add)}function Sf(t,e){const o=t.getValue("willChange");if(db(o))return o.add(e);if(!o&&Jn.WillChange){const s=new Jn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function UT(t){return t.props[CT]}const hb=t=>t!==null;function mb(t,{repeat:e,repeatType:o="loop"},s){const r=t.filter(hb),u=e&&o!=="loop"&&e%2===1?0:r.length-1;return r[u]}const pb={type:"spring",stiffness:500,damping:25,restSpeed:10},gb=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yb={type:"keyframes",duration:.8},vb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tb=(t,{keyframes:e})=>e.length>2?yb:os.has(t)?t.startsWith("scale")?gb(e[1]):pb:vb;function Sb({when:t,delay:e,delayChildren:o,staggerChildren:s,staggerDirection:r,repeat:u,repeatType:c,repeatDelay:h,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const md=(t,e,o,s={},r,u)=>c=>{const h=td(s,t)||{},g=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-An(g);const v={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:r};Sb(h)||Object.assign(v,Tb(t,v)),v.duration&&(v.duration=An(v.duration)),v.repeatDelay&&(v.repeatDelay=An(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(mf(v),v.delay===0&&(T=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(T=!0,mf(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,T&&!u&&e.get()!==void 0){const S=mb(v.keyframes,h);if(S!==void 0){je.update(()=>{v.onUpdate(S),v.onComplete()});return}}return h.isSync?new jf(v):new HA(v)};function Eb({protectedKeys:t,needsAnimating:e},o){const s=t.hasOwnProperty(o)&&e[o]!==!0;return e[o]=!1,s}function LT(t,e,{delay:o=0,transitionOverride:s,type:r}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const g=[],p=r&&t.animationState&&t.animationState.getState()[r];for(const v in h){const T=t.getValue(v,t.latestValues[v]??null),S=h[v];if(S===void 0||p&&Eb(p,v))continue;const A={delay:o,...td(u||{},v)},M=T.get();if(M!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===M&&!A.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const I=UT(t);if(I){const H=window.MotionHandoffAnimation(I,v,je);H!==null&&(A.startTime=H,R=!0)}}Sf(t,v),T.start(md(v,T,S,t.shouldReduceMotion&&tT.has(v)?{type:!1}:A,t,R));const L=T.animation;L&&g.push(L)}return c&&Promise.all(g).then(()=>{je.update(()=>{c&&fb(t,c)})}),g}function VT(t,e,o,s=0,r=1){const u=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*s;return typeof o=="function"?o(u,c):r===1?u*s:h-u*s}function Ef(t,e,o={}){var g;const s=Zo(t,e,o.type==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};o.transitionOverride&&(r=o.transitionOverride);const u=s?()=>Promise.all(LT(t,s,o)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:S}=r;return xb(t,e,p,v,T,S,o)}:()=>Promise.resolve(),{when:h}=r;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(o.delay)])}function xb(t,e,o=0,s=0,r=0,u=1,c){const h=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),h.push(Ef(g,e,{...c,delay:o+(typeof s=="function"?0:s)+VT(t.variantChildren,g,s,r,u)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(h)}function Cb(t,e,o={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(u=>Ef(t,u,o));s=Promise.all(r)}else if(typeof e=="string")s=Ef(t,e,o);else{const r=typeof e=="function"?Zo(t,e,o.custom):e;s=Promise.all(LT(t,r,o))}return s.then(()=>{t.notify("AnimationComplete",e)})}function kT(t,e){if(!Array.isArray(e))return!1;const o=e.length;if(o!==t.length)return!1;for(let s=0;s<o;s++)if(e[s]!==t[s])return!1;return!0}const Ab=rd.length;function GT(t){if(!t)return;if(!t.isControllingVariants){const o=t.parent?GT(t.parent)||{}:{};return t.props.initial!==void 0&&(o.initial=t.props.initial),o}const e={};for(let o=0;o<Ab;o++){const s=rd[o],r=t.props[s];(Ta(r)||r===!1)&&(e[s]=r)}return e}const _b=[...ad].reverse(),bb=ad.length;function Mb(t){return e=>Promise.all(e.map(({animation:o,options:s})=>Cb(t,o,s)))}function Nb(t){let e=Mb(t),o=ly(),s=!0;const r=g=>(p,v)=>{var S;const T=Zo(t,v,g==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(T){const{transition:A,transitionEnd:M,...R}=T;p={...p,...R,...M}}return p};function u(g){e=g(t)}function c(g){const{props:p}=t,v=GT(t.parent)||{},T=[],S=new Set;let A={},M=1/0;for(let L=0;L<bb;L++){const I=_b[L],H=o[I],D=p[I]!==void 0?p[I]:v[I],X=Ta(D),z=I===g?H.isActive:null;z===!1&&(M=L);let $=D===v[I]&&D!==p[I]&&X;if($&&s&&t.manuallyAnimateOnMount&&($=!1),H.protectedKeys={...A},!H.isActive&&z===null||!D&&!H.prevProp||gl(D)||typeof D=="boolean")continue;const Y=Rb(H.prevProp,D);let Z=Y||I===g&&H.isActive&&!$&&X||L>M&&X,W=!1;const ie=Array.isArray(D)?D:[D];let se=ie.reduce(r(I),{});z===!1&&(se={});const{prevResolvedValues:he={}}=H,ae={...he,...se},Ne=q=>{Z=!0,S.has(q)&&(W=!0,S.delete(q)),H.needsAnimating[q]=!0;const ee=t.getValue(q);ee&&(ee.liveStyle=!1)};for(const q in ae){const ee=se[q],j=he[q];if(A.hasOwnProperty(q))continue;let de=!1;Tf(ee)&&Tf(j)?de=!kT(ee,j):de=ee!==j,de?ee!=null?Ne(q):S.add(q):ee!==void 0&&S.has(q)?Ne(q):H.protectedKeys[q]=!0}H.prevProp=D,H.prevResolvedValues=se,H.isActive&&(A={...A,...se}),s&&t.blockInitialAnimation&&(Z=!1);const Le=$&&Y;Z&&(!Le||W)&&T.push(...ie.map(q=>{const ee={type:I};if(typeof q=="string"&&s&&!Le&&t.manuallyAnimateOnMount&&t.parent){const{parent:j}=t,de=Zo(j,q);if(j.enteringChildren&&de){const{delayChildren:_}=de.transition||{};ee.delay=VT(j.enteringChildren,t,_)}}return{animation:q,options:ee}}))}if(S.size){const L={};if(typeof p.initial!="boolean"){const I=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);I&&I.transition&&(L.transition=I.transition)}S.forEach(I=>{const H=t.getBaseTarget(I),D=t.getValue(I);D&&(D.liveStyle=!0),L[I]=H??null}),T.push({animation:L})}let R=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),s=!1,R?e(T):Promise.resolve()}function h(g,p){var T;if(o[g].isActive===p)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(S=>{var A;return(A=S.animationState)==null?void 0:A.setActive(g,p)}),o[g].isActive=p;const v=c(g);for(const S in o)o[S].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>o,reset:()=>{o=ly()}}}function Rb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kT(e,t):!1}function Qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ly(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wb extends bi{constructor(e){super(e),e.animationState||(e.animationState=Nb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:o}=this.node.prevProps||{};e!==o&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Db=0;class Ib extends bi{constructor(){super(...arguments),this.id=Db++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:o}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);o&&!e&&r.then(()=>{o(this.id)})}mount(){const{register:e,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Pb={animation:{Feature:wb},exit:{Feature:Ib}};function Ea(t,e,o,s={passive:!0}){return t.addEventListener(e,o,s),()=>t.removeEventListener(e,o)}function Ma(t){return{point:{x:t.pageX,y:t.pageY}}}const Ub=t=>e=>od(e)&&t(e,Ma(e));function la(t,e,o,s){return Ea(t,e,Ub(o),s)}const BT=1e-4,Lb=1-BT,Vb=1+BT,HT=.01,kb=0-HT,Gb=0+HT;function Rt(t){return t.max-t.min}function Bb(t,e,o){return Math.abs(t-e)<=o}function uy(t,e,o,s=.5){t.origin=s,t.originPoint=tt(e.min,e.max,t.origin),t.scale=Rt(o)/Rt(e),t.translate=tt(o.min,o.max,t.origin)-t.originPoint,(t.scale>=Lb&&t.scale<=Vb||isNaN(t.scale))&&(t.scale=1),(t.translate>=kb&&t.translate<=Gb||isNaN(t.translate))&&(t.translate=0)}function ua(t,e,o,s){uy(t.x,e.x,o.x,s?s.originX:void 0),uy(t.y,e.y,o.y,s?s.originY:void 0)}function cy(t,e,o){t.min=o.min+e.min,t.max=t.min+Rt(e)}function Hb(t,e,o){cy(t.x,e.x,o.x),cy(t.y,e.y,o.y)}function fy(t,e,o){t.min=e.min-o.min,t.max=t.min+Rt(e)}function ca(t,e,o){fy(t.x,e.x,o.x),fy(t.y,e.y,o.y)}function rn(t){return[t("x"),t("y")]}const qT=({current:t})=>t?t.ownerDocument.defaultView:null,dy=(t,e)=>Math.abs(t-e);function qb(t,e){const o=dy(t.x,e.x),s=dy(t.y,e.y);return Math.sqrt(o**2+s**2)}class OT{constructor(e,o,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$c(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,M=qb(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!M)return;const{point:R}=S,{timestamp:L}=Ct;this.history.push({...R,timestamp:L});const{onStart:I,onMove:H}=this.handlers;A||(I&&I(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,A)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Qc(A,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(S,A)=>{this.end();const{onEnd:M,onSessionEnd:R,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=$c(S.type==="pointercancel"?this.lastMoveEventInfo:Qc(A,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,I),R&&R(S,I)},!od(e))return;this.dragSnapToOrigin=u,this.handlers=o,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const h=Ma(e),g=Qc(h,this.transformPagePoint),{point:p}=g,{timestamp:v}=Ct;this.history=[{...p,timestamp:v}];const{onSessionStart:T}=o;T&&T(e,$c(g,this.history)),this.removeListeners=Aa(la(this.contextWindow,"pointermove",this.handlePointerMove),la(this.contextWindow,"pointerup",this.handlePointerUp),la(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function Qc(t,e){return e?{point:e(t.point)}:t}function hy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $c({point:t},e){return{point:t,delta:hy(t,zT(e)),offset:hy(t,Ob(e)),velocity:zb(e,.1)}}function Ob(t){return t[0]}function zT(t){return t[t.length-1]}function zb(t,e){if(t.length<2)return{x:0,y:0};let o=t.length-1,s=null;const r=zT(t);for(;o>=0&&(s=t[o],!(r.timestamp-s.timestamp>An(e)));)o--;if(!s)return{x:0,y:0};const u=un(r.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(r.x-s.x)/u,y:(r.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Fb(t,{min:e,max:o},s){return e!==void 0&&t<e?t=s?tt(e,t,s.min):Math.max(t,e):o!==void 0&&t>o&&(t=s?tt(o,t,s.max):Math.min(t,o)),t}function my(t,e,o){return{min:e!==void 0?t.min+e:void 0,max:o!==void 0?t.max+o-(t.max-t.min):void 0}}function Yb(t,{top:e,left:o,bottom:s,right:r}){return{x:my(t.x,o,r),y:my(t.y,e,s)}}function py(t,e){let o=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([o,s]=[s,o]),{min:o,max:s}}function Jb(t,e){return{x:py(t.x,e.x),y:py(t.y,e.y)}}function Kb(t,e){let o=.5;const s=Rt(t),r=Rt(e);return r>s?o=ga(e.min,e.max-s,t.min):s>r&&(o=ga(t.min,t.max-r,e.min)),Yn(0,1,o)}function Xb(t,e){const o={};return e.min!==void 0&&(o.min=e.min-t.min),e.max!==void 0&&(o.max=e.max-t.min),o}const xf=.35;function Qb(t=xf){return t===!1?t=0:t===!0&&(t=xf),{x:gy(t,"left","right"),y:gy(t,"top","bottom")}}function gy(t,e,o){return{min:yy(t,e),max:yy(t,o)}}function yy(t,e){return typeof t=="number"?t:t[e]||0}const $b=new WeakMap;class Zb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:o=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(Ma(T).point)},c=(T,S)=>{const{drag:A,dragPropagation:M,onDragStart:R}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n_(A),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(I=>{let H=this.getAxisMotionValue(I).get()||0;if(_n.test(H)){const{projection:D}=this.visualElement;if(D&&D.layout){const X=D.layout.layoutBox[I];X&&(H=Rt(X)*(parseFloat(H)/100))}}this.originPoint[I]=H}),R&&je.postRender(()=>R(T,S)),Sf(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:R,onDrag:L}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:I}=S;if(M&&this.currentDirection===null){this.currentDirection=Wb(I),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",S.point,I),this.updateAxis("y",S.point,I),this.visualElement.render(),L&&L(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>rn(T=>{var S;return this.getAnimationState(T)==="paused"&&((S=this.getAxisMotionValue(T).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new OT(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:qT(this.visualElement)})}stop(e,o){const s=e||this.latestPointerEvent,r=o||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&je.postRender(()=>h(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:o}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(e,o,s){const{drag:r}=this.getProps();if(!s||!Kr(e,r,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Fb(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:o}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,r=this.constraints;e&&Jo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Yb(s.layoutBox,e):this.constraints=!1,this.elastic=Qb(o),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Xb(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:o}=this.getProps();if(!e||!Jo(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const u=j_(s,r.root,this.visualElement.getTransformPagePoint());let c=Jb(r.layout.layoutBox,u);if(o){const h=o($_(c));this.hasMutatedConstraints=!!h,h&&(c=bT(h))}return c}startAnimation(e){const{drag:o,dragMomentum:s,dragElastic:r,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},p=rn(v=>{if(!Kr(v,o,this.currentDirection))return;let T=g&&g[v]||{};c&&(T={min:0,max:0});const S=r?200:1e6,A=r?40:1e7,M={type:"inertia",velocity:s?e[v]:0,bounceStiffness:S,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,o){const s=this.getAxisMotionValue(e);return Sf(this.visualElement,e),s.start(md(e,s,0,o,this.visualElement,!1))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var o;return(o=this.getAxisMotionValue(e).animation)==null?void 0:o.pause()})}getAnimationState(e){var o;return(o=this.getAxisMotionValue(e).animation)==null?void 0:o.state}getAxisMotionValue(e){const o=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[o];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){rn(o=>{const{drag:s}=this.getProps();if(!Kr(o,s,this.currentDirection))return;const{projection:r}=this.visualElement,u=this.getAxisMotionValue(o);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[o];u.set(e[o]-tt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:o}=this.getProps(),{projection:s}=this.visualElement;if(!Jo(o)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};rn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const g=h.get();r[c]=Kb({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),rn(c=>{if(!Kr(c,e,null))return;const h=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];h.set(tt(g,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;$b.set(this.visualElement,this);const e=this.visualElement.current,o=la(e,"pointerdown",g=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();Jo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,u=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),je.read(s);const c=Ea(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(rn(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),o(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:u=!1,dragElastic:c=xf,dragMomentum:h=!0}=e;return{...e,drag:o,dragDirectionLock:s,dragPropagation:r,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Kr(t,e,o){return(e===!0||e===t)&&(o===null||o===t)}function Wb(t,e=10){let o=null;return Math.abs(t.y)>e?o="y":Math.abs(t.x)>e&&(o="x"),o}class jb extends bi{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new Zb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vy=t=>(e,o)=>{t&&je.postRender(()=>t(e,o))};class eM extends bi{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new OT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:o,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:vy(e),onStart:vy(o),onMove:s,onEnd:(u,c)=>{delete this.session,r&&je.postRender(()=>r(u,c))}}}mount(){this.removePointerDownListener=la(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ty(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const na={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const o=Ty(t,e.target.x),s=Ty(t,e.target.y);return`${o}% ${s}%`}},tM={correct:(t,{treeScale:e,projectionDelta:o})=>{const s=t,r=_i.parse(t);if(r.length>5)return s;const u=_i.createTransformer(t),c=typeof r[0]!="number"?1:0,h=o.x.scale*e.x,g=o.y.scale*e.y;r[0+c]/=h,r[1+c]/=g;const p=tt(h,g,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),u(r)}};let Zc=!1;class nM extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:s,layoutId:r}=this.props,{projection:u}=e;A_(iM),u&&(o.group&&o.group.add(u),s&&s.register&&r&&s.register(u),Zc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Wr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:o,visualElement:s,drag:r,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Zc=!0,r||e.layoutDependency!==o||o===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||je.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),id.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:s}=this.props,{projection:r}=e;Zc=!0,r&&(r.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FT(t){const[e,o]=dT(),s=O.useContext(Lf);return x.jsx(nM,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(AT),isPresent:e,safeToRemove:o})}const iM={borderRadius:{...na,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:na,borderTopRightRadius:na,borderBottomLeftRadius:na,borderBottomRightRadius:na,boxShadow:tM};function oM(t,e,o){const s=_t(t)?t:no(t);return s.start(md("",s,e,o)),s.animation}const sM=(t,e)=>t.depth-e.depth;class aM{constructor(){this.children=[],this.isDirty=!1}add(e){Gf(this.children,e),this.isDirty=!0}remove(e){Bf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sM),this.isDirty=!1,this.children.forEach(e)}}function rM(t,e){const o=Gt.now(),s=({timestamp:r})=>{const u=r-o;u>=e&&(Kn(s),t(u-e))};return je.setup(s,!0),()=>Kn(s)}const YT=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=YT.length,Sy=t=>typeof t=="string"?parseFloat(t):t,Ey=t=>typeof t=="number"||Ce.test(t);function uM(t,e,o,s,r,u){r?(t.opacity=tt(0,o.opacity??1,cM(s)),t.opacityExit=tt(e.opacity??1,0,fM(s))):u&&(t.opacity=tt(e.opacity??1,o.opacity??1,s));for(let c=0;c<lM;c++){const h=`border${YT[c]}Radius`;let g=xy(e,h),p=xy(o,h);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||Ey(g)===Ey(p)?(t[h]=Math.max(tt(Sy(g),Sy(p),s),0),(_n.test(p)||_n.test(g))&&(t[h]+="%")):t[h]=p}(e.rotate||o.rotate)&&(t.rotate=tt(e.rotate||0,o.rotate||0,s))}function xy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cM=JT(0,.5,Dv),fM=JT(.5,.95,cn);function JT(t,e,o){return s=>s<t?0:s>e?1:o(ga(t,e,s))}function Cy(t,e){t.min=e.min,t.max=e.max}function an(t,e){Cy(t.x,e.x),Cy(t.y,e.y)}function Ay(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _y(t,e,o,s,r){return t-=e,t=sl(t,1/o,s),r!==void 0&&(t=sl(t,1/r,s)),t}function dM(t,e=0,o=1,s=.5,r,u=t,c=t){if(_n.test(e)&&(e=parseFloat(e),e=tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=tt(u.min,u.max,s);t===u&&(h-=e),t.min=_y(t.min,e,o,h,r),t.max=_y(t.max,e,o,h,r)}function by(t,e,[o,s,r],u,c){dM(t,e[o],e[s],e[r],e.scale,u,c)}const hM=["x","scaleX","originX"],mM=["y","scaleY","originY"];function My(t,e,o,s){by(t.x,e,hM,o?o.x:void 0,s?s.x:void 0),by(t.y,e,mM,o?o.y:void 0,s?s.y:void 0)}function Ny(t){return t.translate===0&&t.scale===1}function KT(t){return Ny(t.x)&&Ny(t.y)}function Ry(t,e){return t.min===e.min&&t.max===e.max}function pM(t,e){return Ry(t.x,e.x)&&Ry(t.y,e.y)}function wy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XT(t,e){return wy(t.x,e.x)&&wy(t.y,e.y)}function Dy(t){return Rt(t.x)/Rt(t.y)}function Iy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gM{constructor(){this.members=[]}add(e){Gf(this.members,e),e.scheduleRender()}remove(e){if(Bf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(e){const o=this.members.findIndex(r=>e===r);if(o===0)return!1;let s;for(let r=o;r>=0;r--){const u=this.members[r];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,o){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,o&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:o,resumingFrom:s}=e;o.onExitComplete&&o.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yM(t,e,o){let s="";const r=t.x.translate/e.x,u=t.y.translate/e.y,c=(o==null?void 0:o.z)||0;if((r||u||c)&&(s=`translate3d(${r}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),o){const{transformPerspective:p,rotate:v,rotateX:T,rotateY:S,skewX:A,skewY:M}=o;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),A&&(s+=`skewX(${A}deg) `),M&&(s+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,g=t.y.scale*e.y;return(h!==1||g!==1)&&(s+=`scale(${h}, ${g})`),s||"none"}const Wc=["","X","Y","Z"],vM=1e3;let TM=0;function jc(t,e,o,s){const{latestValues:r}=e;r[t]&&(o[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function QT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const o=UT(e);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:r,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(o,"transform",je,!(r||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&QT(s)}function $T({attachResizeListener:t,defaultParent:e,measureScroll:o,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=TM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xM),this.nodes.forEach(bM),this.nodes.forEach(MM),this.nodes.forEach(CM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new aM)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Of),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const g=this.eventHandlers.get(c);g&&g.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=fT(c)&&!l_(c),this.instance=c;const{layoutId:h,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;je.read(()=>{T=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==T&&(T=A,this.root.updateBlockedByResize=!0,v&&v(),v=rM(S,250),Wr.hasAnimatedSinceResize&&(Wr.hasAnimatedSinceResize=!1,this.nodes.forEach(Ly)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||IM,{onLayoutAnimationStart:R,onLayoutAnimationComplete:L}=p.getProps(),I=!this.targetLayout||!XT(this.targetLayout,A),H=!T&&S;if(this.options.layoutRoot||this.resumeFrom||H||T&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...td(M,"layout"),onPlay:R,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(v,H)}else T||Ly(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Py);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_M),this.nodes.forEach(SM),this.nodes.forEach(EM)):this.nodes.forEach(Uy),this.clearAllSnapshots();const h=Gt.now();Ct.delta=Yn(0,1e3/60,h-Ct.timestamp),Ct.timestamp=h,Ct.isProcessing=!0,qc.update.process(Ct),qc.preRender.process(Ct),qc.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,id.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AM),this.sharedNodes.forEach(RM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!KT(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||$i(this.latestValues)||v)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return c&&(g=this.removeTransform(g)),PM(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return lt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(UM))){const{scroll:v}=this.root;v&&(Ko(h.x,v.offset.x),Ko(h.y,v.offset.y))}return h}removeElementScroll(c){var g;const h=lt();if(an(h,c),(g=this.scroll)!=null&&g.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:S}=v;v!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&an(h,c),Ko(h.x,T.offset.x),Ko(h.y,T.offset.y))}return h}applyTransform(c,h=!1){const g=lt();an(g,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Xo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),$i(v.latestValues)&&Xo(g,v.latestValues)}return $i(this.latestValues)&&Xo(g,this.latestValues),g}removeTransform(c){const h=lt();an(h,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!$i(p.latestValues))continue;gf(p.latestValues)&&p.updateSnapshot();const v=lt(),T=p.measurePageBox();an(v,T),My(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return $i(this.latestValues)&&My(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),ca(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),NT(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),ca(this.relativeTargetOrigin,this.target,A.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gf(this.parent.latestValues)||MT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;an(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;W_(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=lt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ay(this.prevProjectionDelta.x,this.projectionDelta.x),Ay(this.prevProjectionDelta.y,this.projectionDelta.y)),ua(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Iy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Iy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,h=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},T=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=lt(),A=g?g.source:void 0,M=this.layout?this.layout.source:void 0,R=A!==M,L=this.getStack(),I=!L||L.members.length<=1,H=!!(R&&!I&&this.options.crossfade===!0&&!this.path.some(DM));this.animationProgress=0;let D;this.mixTargetDelta=X=>{const z=X/1e3;Vy(T.x,c.x,z),Vy(T.y,c.y,z),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ca(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wM(this.relativeTarget,this.relativeTargetOrigin,S,z),D&&pM(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=lt()),an(D,this.relativeTarget)),R&&(this.animationValues=v,uM(v,p,this.latestValues,z,H,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,g,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Wr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=no(0)),this.currentAnimation=oM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:g,layout:p,latestValues:v}=c;if(!(!h||!g||!p)){if(this!==c&&this.layout&&p&&ZT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||lt();const T=Rt(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const S=Rt(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}an(h,g),Xo(h,v),ua(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new gM),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const p={};g.z&&jc("z",c,p,this.animationValues);for(let v=0;v<Wc.length;v++)jc(`rotate${Wc[v]}`,c,p,this.animationValues),jc(`skew${Wc[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Zr(h==null?void 0:h.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Zr(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=yM(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),c.transform=T;const{x:S,y:A}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Sa){if(v[M]===void 0)continue;const{correct:R,applyTo:L,isCSSVariable:I}=Sa[M],H=T==="none"?v[M]:R(v[M],p);if(L){const D=L.length;for(let X=0;X<D;X++)c[L[X]]=H}else I?this.options.visualElement.renderState.vars[M]=H:c[M]=H}this.options.layoutId&&(c.pointerEvents=p===this?Zr(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Py),this.root.sharedNodes.clear()}}}function SM(t){t.updateLayout()}function EM(t){var o;const e=((o=t.resumeFrom)==null?void 0:o.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?rn(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],A=Rt(S);S.min=s[T].min,S.max=S.min+A}):ZT(u,e.layoutBox,s)&&rn(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],A=Rt(s[T]);S.max=S.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+A)});const h=Qo();ua(h,s,e.layoutBox);const g=Qo();c?ua(g,t.applyTransform(r,!0),e.measuredBox):ua(g,s,e.layoutBox);const p=!KT(h);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:A}=T;if(S&&A){const M=lt();ca(M,e.layoutBox,S.layoutBox);const R=lt();ca(R,s,A.layoutBox),XT(M,R)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=M,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:g,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function xM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AM(t){t.clearSnapshot()}function Py(t){t.clearMeasurements()}function Uy(t){t.isLayoutDirty=!1}function _M(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ly(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bM(t){t.resolveTargetDelta()}function MM(t){t.calcProjection()}function NM(t){t.resetSkewAndRotation()}function RM(t){t.removeLeadSnapshot()}function Vy(t,e,o){t.translate=tt(e.translate,0,o),t.scale=tt(e.scale,1,o),t.origin=e.origin,t.originPoint=e.originPoint}function ky(t,e,o,s){t.min=tt(e.min,o.min,s),t.max=tt(e.max,o.max,s)}function wM(t,e,o,s){ky(t.x,e.x,o.x,s),ky(t.y,e.y,o.y,s)}function DM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IM={duration:.45,ease:[.4,0,.1,1]},Gy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),By=Gy("applewebkit/")&&!Gy("chrome/")?Math.round:cn;function Hy(t){t.min=By(t.min),t.max=By(t.max)}function PM(t){Hy(t.x),Hy(t.y)}function ZT(t,e,o){return t==="position"||t==="preserve-aspect"&&!Bb(Dy(e),Dy(o),.2)}function UM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const LM=$T({attachResizeListener:(t,e)=>Ea(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ef={current:void 0},WT=$T({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ef.current){const t=new LM({});t.mount(window),t.setOptions({layoutScroll:!0}),ef.current=t}return ef.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VM={pan:{Feature:eM},drag:{Feature:jb,ProjectionNode:WT,MeasureLayout:FT}};function qy(t,e,o){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",o==="Start");const r="onHover"+o,u=s[r];u&&je.postRender(()=>u(e,Ma(e)))}class kM extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=i_(e,(o,s)=>(qy(this.node,s,"Start"),r=>qy(this.node,r,"End"))))}unmount(){}}class GM extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Aa(Ea(this.node.current,"focus",()=>this.onFocus()),Ea(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Oy(t,e,o){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",o==="Start");const r="onTap"+(o==="End"?"":o),u=s[r];u&&je.postRender(()=>u(e,Ma(e)))}class BM extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=r_(e,(o,s)=>(Oy(this.node,s,"Start"),(r,{success:u})=>Oy(this.node,r,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cf=new WeakMap,tf=new WeakMap,HM=t=>{const e=Cf.get(t.target);e&&e(t)},qM=t=>{t.forEach(HM)};function OM({root:t,...e}){const o=t||document;tf.has(o)||tf.set(o,{});const s=tf.get(o),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(qM,{root:t,...e})),s[r]}function zM(t,e,o){const s=OM(e);return Cf.set(t,o),s.observe(t),()=>{Cf.delete(t),s.unobserve(t)}}const FM={some:0,all:1};class YM extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:o,margin:s,amount:r="some",once:u}=e,c={root:o?o.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:FM[r]},h=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=p?v:T;S&&S(g)};return zM(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:o}=this.node;["amount","margin","root"].some(JM(e,o))&&this.startObserver()}unmount(){}}function JM({viewport:t={}},{viewport:e={}}={}){return o=>t[o]!==e[o]}const KM={inView:{Feature:YM},tap:{Feature:BM},focus:{Feature:GM},hover:{Feature:kM}},XM={layout:{ProjectionNode:WT,MeasureLayout:FT}},QM={...Pb,...KM,...VM,...XM},me=Q_(QM,lb);function jT(t){const e=io(()=>no(t)),{isStatic:o}=O.useContext(ml);if(o){const[,s]=O.useState(t);O.useEffect(()=>e.on("change",s),[])}return e}function eS(t,e){const o=jT(e()),s=()=>o.set(e());return s(),kf(()=>{const r=()=>je.preRender(s,!1,!0),u=t.map(c=>c.on("change",r));return()=>{u.forEach(c=>c()),Kn(s)}}),o}function $M(t){ra.current=[],t();const e=eS(ra.current,t);return ra.current=void 0,e}function ZM(t,e,o,s){if(typeof t=="function")return $M(t);const r=typeof e=="function"?e:u_(e,o,s);return Array.isArray(t)?zy(t,r):zy([t],([u])=>r(u))}function zy(t,e){const o=io(()=>[]);return eS(t,()=>{o.length=0;const s=t.length;for(let r=0;r<s;r++)o[r]=t[r].get();return e(o)})}const tS=O.createContext(null);function WM(t,e,o,s){if(!s)return t;const r=t.findIndex(v=>v.value===e);if(r===-1)return t;const u=s>0?1:-1,c=t[r+u];if(!c)return t;const h=t[r],g=c.layout,p=tt(g.min,g.max,.5);return u===1&&h.layout.max+o>p||u===-1&&h.layout.min+o<p?pC(t,r,r+u):t}function jM({children:t,as:e="ul",axis:o="y",onReorder:s,values:r,...u},c){const h=io(()=>me[e]),g=[],p=O.useRef(!1),v={axis:o,registerItem:(T,S)=>{const A=g.findIndex(M=>T===M.value);A!==-1?g[A].layout=S[o]:g.push({value:T,layout:S[o]}),g.sort(nN)},updateOrder:(T,S,A)=>{if(p.current)return;const M=WM(g,T,S,A);g!==M&&(p.current=!0,s(M.map(tN).filter(R=>r.indexOf(R)!==-1)))}};return O.useEffect(()=>{p.current=!1}),x.jsx(h,{...u,ref:c,ignoreStrict:!0,children:x.jsx(tS.Provider,{value:v,children:t})})}const eN=O.forwardRef(jM);function tN(t){return t.value}function nN(t,e){return t.layout.min-e.layout.min}function Fy(t,e=0){return _t(t)?t:jT(e)}function iN({children:t,style:e={},value:o,as:s="li",onDrag:r,layout:u=!0,...c},h){const g=io(()=>me[s]),p=O.useContext(tS),v={x:Fy(e.x),y:Fy(e.y)},T=ZM([v.x,v.y],([R,L])=>R||L?1:"unset"),{axis:S,registerItem:A,updateOrder:M}=p;return x.jsx(g,{drag:S,...c,dragSnapToOrigin:!0,style:{...e,x:v.x,y:v.y,zIndex:T},layout:u,onDrag:(R,L)=>{const{velocity:I}=L;I[S]&&M(o,v[S].get(),I[S]),r&&r(R,L)},onLayoutMeasure:R=>A(o,R),ref:h,ignoreStrict:!0,children:t})}const oN=O.forwardRef(iN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),Yy=t=>{const e=aN(t);return e.charAt(0).toUpperCase()+e.slice(1)},nS=(...t)=>t.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),rN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:u,iconNode:c,...h},g)=>O.createElement("svg",{ref:g,...lN,width:e,height:e,stroke:t,strokeWidth:s?Number(o)*24/Number(e):o,className:nS("lucide",r),...!u&&!rN(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>O.createElement(p,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const o=O.forwardRef(({className:s,...r},u)=>O.createElement(uN,{ref:u,iconNode:e,className:nS(`lucide-${sN(Yy(t))}`,`lucide-${t}`,s),...r}));return o.displayName=Yy(t),o};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fN=ut("arrow-left",cN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hN=ut("arrow-right",dN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pN=ut("book-open",mN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yN=ut("check",gN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],TN=ut("clipboard-copy",vN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],EN=ut("download",SN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],vl=ut("film",xN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AN=ut("grip-vertical",CN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iS=ut("image",_N);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],oS=ut("lightbulb",bN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sS=ut("palette",MN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RN=ut("plus",NN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],DN=ut("refresh-ccw",wN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],PN=ut("save",IN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],LN=ut("scissors",UN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Af=ut("sparkles",VN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],al=ut("trash-2",kN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],BN=ut("type",GN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jy=ut("upload",HN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],aS=ut("wand-sparkles",qN);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zN=ut("x",ON),yn=800,At=450,FN=["ground-level soul gaze","eye-level witness","elevated guardian","angelic drift"],YN=["true-eye, honest","steep reverence","whispered low","Dutch slip"],rl=["chiaroscuro confession","soft volumetric prayer","neon fever dream","moonlit echo","burnt tungsten reminiscence"],ll=["complementary pulse","analogous drift","triadic bloom","monochrome trance","split-complementary tension"],JN=["linear","ease-in","ease-out","ease-in-out"],ul=["static contemplation","slow dolly-in","crane ascent","handheld tremor","steadicam drift","orbital pan"],KN={linear:"linear","ease-in":"easeIn","ease-out":"easeOut","ease-in-out":"easeInOut"},Fo=[{id:"scriptText",step:0,category:"Prelude (Optional)",question:"Optional: share your script fragment or scene description",placeholder:"Drop in a fragment if you want Dreamer to adapt pacing and continuity from the page.",type:"script",randomOptions:["He edits reels of his past while rain combs the window.","She waits in a station bathed in crimson departures.","They argue in whispers beneath the crashing surf."]},{id:"sceneCore",step:1,category:"Scene Core & Emotion",question:"Describe your scene core  who is there, what is happening, what emotion drives it.",placeholder:"e.g., A man edits reels of his past in a dark room while rain falls outside.",type:"text",randomOptions:["A woman reading farewell letters in a candlelit attic as thunder stirs the glass.","Two siblings share a cigarette on a motel balcony overlooking neon emptiness."]},{id:"emotion",step:1,category:"Scene Core & Emotion",question:"What mood defines this scene?",placeholder:"melancholic, nostalgic, ethereal...",type:"select",options:["melancholic","nostalgic","ethereal","tragic beauty","mythic surrealism","serene chaos","hopeful decay","electric longing"]},{id:"numberOfShots",step:2,category:"Shot System",question:"How many shots should the sequence contain?",placeholder:"e.g., 5  establishing, emotional reaction, revelation, contrast, payoff",type:"text",randomOptions:["3","5","7"]},{id:"cameraType",step:2,category:"Shot System",question:"Select your camera system:",type:"select",options:["Arri Alexa 65","Red Monstro 8K","Sony Venice 2","Phantom Flex 4K","IMAX","analog Bolex H16"]},{id:"shotTypes",step:2,category:"Shot System",question:"Which shot types shape your sequence?",placeholder:"wide, close-up, POV, dolly-in...",type:"text",randomOptions:["wide atmospheric, dolly-in confession, close-up tremor","aerial drift, tracking pursuit, over-the-shoulder reveal"]},{id:"focalLength",step:2,category:"Shot System",question:"Choose focal length:",type:"select",options:["10mm ultra-wide","24mm immersive","35mm cinematic","50mm human-eye","85mm intimate","135mm compressed"]},{id:"depthOfField",step:2,category:"Shot System",question:"Set the depth of field:",type:"select",options:["f/1.4 dreamy shallow","f/2.8 cinematic shallow","f/5.6 balanced","f/11 deep focus"]},{id:"framing",step:3,category:"Framing & Visual Psychology",question:"What composition defines the scene?",type:"select",options:["rule of thirds","symmetrical","negative space","frame-in-frame","golden ratio","off-center","leading lines","Dutch angle"]},{id:"mainCharacterBlocking",step:4,category:"Character Choreography",question:"Where is your protagonist in the frame?",placeholder:"centered in soft light, edge isolation...",type:"text",randomOptions:["centered, leaning into the glow of a single practical.","edge isolation, half in shadow, half in reflected neon."]},{id:"secondaryCharacterBlocking",step:4,category:"Character Choreography",question:"Where are other presences or energies?",placeholder:"midground, overlapping movement...",type:"text",randomOptions:["midground silhouettes pacing like echoes.","background figures drifting past frosted glass."]},{id:"antagonistBlocking",step:4,category:"Character Choreography",question:"How is opposition or tension represented?",placeholder:"off-frame shadow pressing in...",type:"text",randomOptions:["off-frame shadow creeping along the wall.","rear silhouette looming behind a gauze curtain."]},{id:"lightingStyle",step:5,category:"Lighting & Atmosphere",question:"Choose lighting mood:",type:"select",options:["chiaroscuro contrast","golden hour glow","moonlit reflection","tungsten haze","silhouette rim","fluorescent spill"]},{id:"lightingDetails",step:5,category:"Lighting & Atmosphere",question:"Specify technical feel:",placeholder:"4:1 ratio, halation glow, volumetric fog...",type:"text",randomOptions:["4:1 ratio with halation glow kissing the highlights.","volumetric fog, twin practicals, underexposed edges."]},{id:"atmosphere",step:5,category:"Lighting & Atmosphere",question:"Add atmosphere:",placeholder:"rain, fog, dust motes...",type:"text",randomOptions:["slow rain trembling against the panes.","floating dust motes illuminated by projector light."]},{id:"filmStock",step:6,category:"Film Stock & Color",question:"Select film stock:",type:"select",options:["Kodak Vision3 500T 5219","Fuji Eterna","Ilford HP5 B&W","Technicolor 3-strip","Polaroid pastel dream"]},{id:"filmEmulation",step:6,category:"Film Stock & Color",question:"Texture level:",placeholder:"35mm authentic grain, halation bloom...",type:"text",randomOptions:["35mm authentic grain with gentle halation bloom.","medium ISO texture, preserved luminance, subtle gate weave."]},{id:"colorGrading",step:6,category:"Film Stock & Color",question:"Color grade vibe:",type:"select",options:["mutated pastel","teal-orange tension","noir desaturation","golden warmth","painterly tone","infrared surreal"]},{id:"colorPalette",step:6,category:"Film Stock & Color",question:"Define color palette (hex codes) or let Dreamer adapt harmonically.",placeholder:"background #1A1F2B, midtone #4A6C6F, highlight #F2C27E",type:"text",randomOptions:["background #1A1F2B, midtone #305A63, highlight #F0C179","background #120E1A, midtone #3B2F58, highlight #E6B4F6"]},{id:"storyBeat",step:7,category:"Story Voice & Poetic Link",question:"Add a short poetic line summarizing the emotional core.",placeholder:"He edits by rhythm now, not reason.",type:"text",randomOptions:["He edits by rhythm now, not reason.","Her laughter flickers against the wall like a ghost of light."]},{id:"visualToneKeywords",step:7,category:"Story Voice & Poetic Link",question:"Describe your visual identity:",placeholder:"cinematic, painterly, liminal, emotional realism...",type:"text",randomOptions:["cinematic, painterly, liminal, emotional realism.","mythic surrealism, tactile, whisper-soft focus."]},{id:"continuityMode",step:8,category:"Continuity & Output Structure",question:"Select continuity type:",type:"select",options:["tight continuity","loose evolution","poetic drift","rhythm-based motif"]},{id:"seedLinking",step:8,category:"Continuity & Output Structure",question:"How should seeds link from shot to shot?",type:"select",options:["use previous seeds","mutate previous seeds","ignore previous seeds"]},{id:"resolution",step:8,category:"Continuity & Output Structure",question:"Choose output fidelity:",type:"select",options:["4K render","filmic softness","volumetric depth","photoreal detail","painterly grain","analog imperfection"]},{id:"outputType",step:8,category:"Continuity & Output Structure",question:"Select format:",type:"select",options:["still image","cinematic frame","storyboard","concept art","matte painting","AI film still","AI Video Scene"]},{id:"visualCompositionGuide",step:9,category:"Visual Design  Composition",question:"Composition guide: where will your subjects breathe inside the frame?",type:"select",options:["center-frame devotion with symmetrical weight","rule-of-thirds drift, negative space whispering pressure","foreground silhouette with background revelation"]},{id:"visualCameraSetup",step:9,category:"Visual Design  Composition",question:"Camera setup: height, angle, and emotional distance?",type:"select",options:["eye-level witness, respectful distance","low-angle reverence, hero towering","high-angle confession, subject humbled"]},{id:"visualLightingSetup",step:10,category:"Visual Design  Lighting",question:"Lighting setup: how do key, fill, and backlights converse?",type:"text",placeholder:"Key 80% warm, Fill 40% cool...",randomOptions:["Key 80% warm amber, Fill 35% moonlit blue, Back 60% neutral rim","Key 70% tungsten amber, Fill 30% green spill, Back 55% magenta halo"]},{id:"visualLightingMood",step:10,category:"Visual Design  Lighting",question:"Lighting mood: what emotion do the photons sculpt?",type:"select",options:rl},{id:"visualColorPalette",step:11,category:"Visual Design  Color",question:"Color palette: dominant hues, warmth versus cool, saturation?",type:"text",placeholder:"Dominant teal shadows, warm peach highlights...",randomOptions:["Dominant teal shadows, warm peach highlights, 65% saturation","Crimson mids, emerald shadows, 45% saturation"]},{id:"visualColorHarmony",step:11,category:"Visual Design  Color",question:"Color harmony: which relationship guides your palette?",type:"select",options:ll},{id:"visualCameraMovement",step:12,category:"Visual Design  Motion",question:"Camera movement: which motion carries the emotional tide?",type:"select",options:ul},{id:"visualFocusMotion",step:12,category:"Visual Design  Motion",question:"Focus motion: do we pull focus, breathe the zoom, or hold still?",type:"select",options:["no movement, razor still focus","focus pull from background to foreground","breathing zoom drift inward"]}],rS=[{id:"preloaded-1",name:"Story Structure & Narrative Frameworks",content:"A story structure... Generally story follow some structure, there are various way to do it and one of them is Harmon story circle 1. You A character in their zone of comfort 2. Need wants something 3. Go! so they enter an unfamiliar situation 4. Struggle to which they have to adapt 5. Find in order to get what they want 6. Suffer yet they have to make a sacrifice 7. Return before they return to their familiar situation 8. Change having changed fundamentally. The Heros journey- story structure: THE ORDINARY WORLD. THE CALL TO ADVENTURE. REFUSAL OF THE QUEST. ACCEPTING THE CALL: ENTERING THE UNKNOWN. SUPERNATURAL AID. TALISMAN: ALLIES/HELPERS. TESTS & THE SUPREME ORDEAL. REWARD AND THE JOURNEY HOME. MASTER OF TWO WORLDS/ RESTORING THE WORLD.",extractedKnowledge:{themes:["redemption","transformation","return"],visualStyles:["epic journey","cyclical narrative","three-act structure"],characters:["mentor","herald","trickster"],techniques:["inciting incident","dark night of the soul","climax","The Hero's Journey"]}},{id:"preloaded-2",name:"Advanced Character Development",content:"A compelling protagonist is defined by their journey. Past: A character's past should not be a mere footnote, but a formative influence that actively shapes their present motivations, fears, and strengths. These past experiences, whether traumatic or triumphant, should ripple through their current actions and decisions. Present: The immediate challenges a character faces are the engine of your story. These conflicts can be multifaceted: External Conflict, Internal Conflict, Interpersonal Conflict. Escalate the Stakes: The inciting incident should not be a universal event with equal impact on all. For your protagonist, the stakes must be inherently higher, more personal, and potentially devastating if they fail. Pushing Boundaries: Don't hesitate to thrust your character out of their comfort zone from the outset. Chained Reactions: Avoid easily resolvable conflicts. A truly engaging narrative thrives on a chain reaction of escalating problems. ARCHETYPES APPEARING IN THE HEROS JOURNEY: HEROES, SHADOWS, MENTORS, HERALD, THRESHOLD GUARDIANS, SHAPESHIFTERS, TRICKSTERS, ALLIES, WOMAN AS TEMPTRESS. Character arc, positive change- character might believe in a lie, goes through confrontation and then reaches acceptance. Flat character ARC- character already believe in truth, truth is tested he wins and keep the truth. Negative character arc- character might loose positive character trait, keep believing in a lie and take decision on the basis of it resulting into negative outcome. Save the Cat is a screenwriting concept where the protagonist does something early in the story to make them relatable or likable.",extractedKnowledge:{themes:["internal conflict","fatal flaw","growth vs. stagnation"],visualStyles:["character-driven scenes","subjective POV","emotional close-ups"],characters:["reformer","loyalist","challenger","hero","shadow","mentor"],techniques:["ghost/wound","active vs. passive choice","character introductions","positive arc","flat arc","negative arc","save the cat"]}},{id:"preloaded-3",name:"Cinematography & Camera Techniques",content:"Notes. Write or draw the use of lightning, sound, camera movement, aspects ratio, character movment. Framing, composition. Angle. Transition between two frame Depth of field, by crossing out ,0ut of focus stuff. 180 rule, an imaginary line between two characters drawn we are not supposed to cross the line makes it look like both characters are in same place. Cut on action, switch between full to medium shot in a single scene. Show weather, time of the day. Movement of character should give sense of what they would do... Audience should be able to anticipate.",extractedKnowledge:{themes:["power dynamics","isolation","freedom","anticipation"],visualStyles:["dolly zoom","long take","dutch angle","weather effects"],characters:[],techniques:["180-degree rule","rule of thirds","lead room","motivated character movement","cut on action","depth of field"]}},{id:"preloaded-4",name:"Professional Lighting",content:"Understanding Lighting: Shaping Mood and Form. Three-Point Lighting System: Key Light, Fill Light, Backlight (Rim/Separation Light), Kicker Light, Motivated Lighting. Lighting Techniques & Styles: Rembrandt Lighting, Loop Lighting, Split Lighting, Butterfly (Paramount) Lighting, Clamshell Lighting, Silhouette Lighting, Low-Key Lighting, High-Key Lighting. Light Softness & Distance: Larger light source = Softer shadows. Smaller light source = Harsher shadows. Closer light = Softer shadows. Farther light = Harsher shadows. Modifiers to Soften Light: Softbox, Umbrella, Bounce (Reflector), Diffusion Gel or Scrim. Additional Cinematic Rules: Shoot from the Dark Side. Broad vs. Short Lighting.",extractedKnowledge:{themes:["mystery","spirituality","interrogation","beauty","glamour"],visualStyles:["chiaroscuro","high-key","low-key","silhouette","soft light","hard light"],characters:["femme fatale","hardboiled detective"],techniques:["three-point lighting","motivated lighting","practical lights","Butterfly lighting","Clamshell lighting","Rembrandt Lighting","Loop Lighting","Split Lighting","Short vs Broad lighting","light modifiers (softbox, umbrella)"]}},{id:"preloaded-5",name:"Dialogue & Subtext",content:`The Art of Scene Writing: Subtext and Transformation. A well-crafted scene is more than just dialogue and action. Subtext: Inject subtext into your scenes. Hint at deeper meanings, unspoken emotions, or underlying tensions without explicitly stating them. A subtle gesture, a loaded silence, or an object's placement can speak volumes. Scene Arc: Every scene should have a mini-arc, transforming the character or the situation. Initial Goal, Initial Action, Obstacle/Reaction, Transformation/New Correlation. Driving Questions: "Who wants what from whom?", "What happens if they don't get it?", "Why now?". Subtext is the unsaidwhats felt, implied, or hinted at but never directly spoken. It turns simple dialogue into rich, multi-layered interactions. Enter Late, Exit Early: A storytelling principle used to keep scenes tight and impactful.`,extractedKnowledge:{themes:["deception","unspoken truth","power struggle"],visualStyles:["over-the-shoulder shots","reaction shots","two-shots"],characters:[],techniques:["subtext","exposition as ammunition","pacing and rhythm","scene arc","enter late, exit early"]}},{id:"preloaded-6",name:"Conflict & Stakes",content:'The real unity of opposites is one in which compromise is impossible." - to write conflict dialogue becomes powerful when characters have hidden agendas. The Unity of Opposites is the theory that great conflict comes from characters with opposing needs, values, or goals, who are locked together in a situation where neither can back down or walk away. Inciting incidents, story generation methods, logline structure. Frame of movie writing process: LOGLINE, SYNOPSIS, PLOT DEVELOPMENT.',extractedKnowledge:{themes:["man vs. self","man vs. society","man vs. nature"],visualStyles:["rising tension","montage sequences","cross-cutting"],characters:["antagonist","protagonist"],techniques:["ticking clock","raising the stakes","reversal of fortune","unity of opposites","logline","synopsis"]}},{id:"preloaded-7",name:"Opening Scene Hooks",content:"Opening scene- flashback, flash forward, mid-story (in media res), newsreel, the setting, crime, direct addressing, tragedy, a day in life. These can even be called hooks Establishing shot: wide shots that are shows in the starts of scene. Another hook, could be a tripod shot (static) or a chasing sequence.",extractedKnowledge:{themes:["memory","destiny","chaos","exposition","atmosphere","justice","intimacy","loss","normalcy"],visualStyles:["non-linear","in media res","documentary","world-building","noir","fourth-wall break","dramatic"],characters:[],techniques:["flashback","flash-forward","cold open","montage","establishing shot","direct address"]}},{id:"preloaded-8",name:"Advanced Screenwriting Principles",content:"Screenplay convention: Keep it visual and in present tense. Write V.O for voice over, add cut to or back to for scene change. Montage start and montage end. Dialogues in the centre. Linear vs Non-Linear Storylines. Exposition: The method of conveying backstory or world-building. Good exposition feels natural and is integrated into the story. Techniques include: Dialogues, Photographs/Documents, Flashbacks, Environment/Props.",extractedKnowledge:{themes:["hidden meaning","efficiency","narrative structure","backstory"],visualStyles:["layered performance","tight pacing","chronological vs fragmented","naturalistic reveals"],characters:[],techniques:["subtextual dialogue","scene transitions","non-linear storytelling","show don't tell","V.O.","montage formatting"]}},{id:"preloaded-9",name:"Narrative Development & Visual Execution",content:`This guide explores key elements of narrative development and visual execution, offering insights for screenwriters, directors, and storytellers alike. Character Development: Past, Present, and Conflict. A compelling protagonist is defined by their journey. Their past should actively shape their present motivations, fears, and strengths. The immediate challenges a character faces are the engine of your story, including external, internal, and interpersonal conflicts. Escalate the stakes to be personal and devastating for the protagonist. Push characters out of their comfort zone from the outset. A truly engaging narrative thrives on a chain reaction of escalating problems. The Art of Scene Writing: Subtext and Transformation. Inject subtext into your scenes, hinting at deeper meanings without explicitly stating them. Every scene should have a mini-arc that transforms the character or the situation. Structure a powerful scene by asking: "Who wants what from whom?", "What happens if they don't get it?", and "Why now?". Storyboarding: Visualizing the Narrative. Storyboarding is the visual blueprint, detailing lighting, sound, camera movement, aspect ratio, character movement, framing, composition, angle, transition between frames, and depth of field. Screenplay Conventions: Adhere to standard conventions for clarity and professionalism. Describe what can be seen and heard in the present tense. Use standard formatting for Voice Over (V.O.), scene transitions ("CUT TO:"), and montages. Story Structure: Harmon Story Circle. A simplified variation of the "Hero's Journey": 1. You (Comfort Zone), 2. Need (Desire), 3. Go! (Unfamiliar Situation), 4. Struggle (Adaptation), 5. Find (Achievement), 6. Suffer (Sacrifice), 7. Return (Familiar Situation), 8. Change (Transformation).`,extractedKnowledge:{themes:["Conflict","Transformation","Sacrifice","Personal Stakes","Duality","Introspection","Mystery"],visualStyles:["Chiaroscuro","High Contrast","Motivated Lighting","Visual Blueprinting","Dynamic Composition"],characters:["Protagonist","Antagonist"],techniques:["Subtext","Scene Arc","Inciting Incident","Escalating Stakes","Three-Point Lighting","Key Light","Fill Light","Backlight","Kicker Light","Rembrandt Lighting","Loop Lighting","Split Lighting","Depth of Field","Screenplay Formatting (V.O., Montage)","Harmon Story Circle"]}},{id:"preloaded-10",name:"Advanced Character, World & Story Dynamics",content:`Deep character psychology including conscious/unconscious forces (people, institutions vs. myths, culture, memory). Core external conflict of the world. Thematic Suture (Unity of Opposites): a core theme confronted through two opposing values, with an antagonist who mirrors or distorts the protagonist. Dialogue & Contrast: a character's first line reflects their false belief; subvert stereotypes and reveal core contradictions. Plot & Arc (From Fracture to Catharsis): an external conflict drives the plot while an internal contradiction drives the character, from an inciting crisis through a midpoint twist to a final transformation or failure. Relatability & Transcendence: find the ordinary/human in a character to make their life feel mythic, creating an audience bond. Symbolic Objects & Motivated Cuts: use objects to represent inner truths and motivate visual cuts (match cut, smash cut). Enneagram x Want/Need x Power Dynamics grid for character reactions. 3 KEYFRAME STORY SEED STRUCTURE: a 7-step process from setup to final expression. CHARACTERWORLD DYNAMIC GRID: maps conscious/unconscious characters pursuing need/want against a supporting/opposing world. Character Internal States: Outer Mask, Private Self, Core Wound/Truth. Social Reaction Shifts: "We are who we think they think we are."`,extractedKnowledge:{themes:["Duality (Conscious/Unconscious)","Conflict (Internal/External)","Transformation","Subversion","Power Dynamics","Want vs. Need","Fate vs. Choice","Relatability","Transcendence","Audience Connection"],visualStyles:["Symbolic Motifs","Motivated Cuts (Match, Smash, Echo)","Visual Echoes","Character-centric Framing","Thematic Color Palettes"],characters:["Enneagram Archetypes","Characters defined by internal states (Mask, Private Self, Core Wound)","Antagonists as Mirrors","Subverted Stereotypes","Characters with hidden agendas"],techniques:["Enneagram Story Arcs","Keyframe Story Structure","Character-World Dynamic Grid","Unity of Opposites","Inciting Crisis","Midpoint Twist","Symbolic Objects","First Line Character Reveal","Contradictory Behavior","Fracture to Catharsis Arc","Want/Need Grid","Social Mirror (Character Shifts)"]}},{id:"preloaded-11",name:"Advanced Story & Narrative Theory",content:`The Hero's Journey story structure (THE ORDINARY WORLD, THE CALL TO ADVENTURE, REFUSAL, ENTERING THE UNKNOWN, SUPERNATURAL AID, ALLIES, TESTS & THE SUPREME ORDEAL, REWARD, THE JOURNEY HOME, MASTER OF TWO WORLDS). Classic character archetypes (HEROES, SHADOWS, MENTORS, HERALD, THRESHOLD GUARDIANS, SHAPESHIFTERS, TRICKSTERS, ALLIES). Various character arcs (positive change, flat, negative). Techniques for story generation ("What If", dreams, forced connections, personal experience). Professional screenplay formatting for LOGLINE and SYNOPSIS.`,extractedKnowledge:{themes:["The Call to Adventure","Transformation","Moral Choice","Growth","Stagnation","Corruption"],visualStyles:["Epic Journey","Mythic Structure","Character-driven Pacing"],characters:["Hero","Shadow","Mentor","Herald","Threshold Guardian","Shapeshifter","Trickster","Ally"],techniques:["The Hero's Journey","Positive Change Arc","Flat Character Arc","Negative Character Arc","Logline","Synopsis","Save the Cat","What If Scenarios"]}},{id:"preloaded-12",name:"Advanced Cinematic Techniques",content:`Advanced camera movements (Slow Push-In for tension/intimacy, Creep-Out for isolation, The Moment for emotional peaks). Paranoid framing (wide frame, distant subject, slow zooms). Distraction techniques to mislead audience focus. Walter Murch's 'In the Blink of an Eye' editing theory: editing is emotional, not just technical. The "Rule of Six" for a good cut: 1. Emotion (51%), 2. Story (23%), 3. Rhythm (10%), 4. Eye-trace (7%), 5. 2D Plane (5%), 6. 3D Space (4%). Great editing is invisible. Fundamental principles of exposure and camera settings (Aperture, Shutter Speed, ISO).`,extractedKnowledge:{themes:["Tension","Intimacy","Isolation","Paranoia","Powerlessness","Emotional Continuity"],visualStyles:["Invisible Editing","Rhythmic Cutting","Paranoid Thriller","Subjective Camera"],characters:[],techniques:["Slow Push-In","Creep-Out","The Moment (Emotional Peak)","Distraction (Misdirection)","Paranoid Zoom","Walter Murch's Rule of Six","Exposure Triangle (Aperture, Shutter, ISO)","Cut on Action"]}}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XN,QN;function $N(){return{geminiUrl:XN,vertexUrl:QN}}function ZN(t,e,o,s){var r,u;if(!(t!=null&&t.baseUrl)){const c=$N();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:o:(u=c.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qn{}function le(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(t,e,o){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(o))t[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(o))for(let p=0;p<g.length;p++){const v=g[p];d(v,e.slice(u+1),o[p])}else for(const p of g)d(p,e.slice(u+1),o)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];d(g[0],e.slice(u+1),o);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],r=t[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,o):t[s]=o}function f(t,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return o;const r=e[s];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(h=>f(h,e.slice(s+1),o)):o}else return o}else t=t[r]}return t}catch(s){if(s instanceof TypeError)return o;throw s}}function WN(t,e){for(const[o,s]of Object.entries(e)){const r=o.split("."),u=s.split("."),c=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const p=u[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}_f(t,r,u,0,c)}}function _f(t,e,o,s,r){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])_f(g,e,o,s+1,r)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!r.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,v]of Object.entries(g)){const T=[];for(const S of o.slice(s))S==="*"?T.push(p):T.push(S);d(c,T,v)}for(const p of h)delete c[p]}}else{const c=t;u in c&&_f(c[u],e,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jN(t){const e={},o=f(t,["operationName"]);o!=null&&d(e,["operationName"],o);const s=f(t,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function e1(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],n1(c)),e}function t1(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],i1(c)),e}function n1(t){const e={},o=f(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>o1(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function i1(t){const e={},o=f(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>s1(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function o1(t){const e={},o=f(t,["video"]);return o!=null&&d(e,["video"],f1(o)),e}function s1(t){const e={},o=f(t,["_self"]);return o!=null&&d(e,["video"],d1(o)),e}function a1(t){const e={},o=f(t,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function r1(t){const e={},o=f(t,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function l1(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],u1(c)),e}function u1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function lS(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],c1(c)),e}function c1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function f1(t){const e={},o=f(t,["uri"]);o!=null&&d(e,["uri"],o);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],pd(s));const r=f(t,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function d1(t){const e={},o=f(t,["gcsUri"]);o!=null&&d(e,["uri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],pd(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ky;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ky||(Ky={}));var Xy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Xy||(Xy={}));var Qy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Qy||(Qy={}));var oe;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(oe||(oe={}));var $y;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($y||($y={}));var Zy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zy||(Zy={}));var Wy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Wy||(Wy={}));var jy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jy||(jy={}));var e0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(e0||(e0={}));var t0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(t0||(t0={}));var n0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(n0||(n0={}));var i0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(i0||(i0={}));var o0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(o0||(o0={}));var s0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(s0||(s0={}));var a0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(a0||(a0={}));var r0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(r0||(r0={}));var l0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(l0||(l0={}));var u0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(u0||(u0={}));var xa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xa||(xa={}));var c0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c0||(c0={}));var f0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(f0||(f0={}));var d0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(d0||(d0={}));var bf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bf||(bf={}));var h0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(h0||(h0={}));var m0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(m0||(m0={}));var p0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(p0||(p0={}));var g0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(g0||(g0={}));var y0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(y0||(y0={}));var v0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(v0||(v0={}));var T0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(T0||(T0={}));var S0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(S0||(S0={}));var E0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(E0||(E0={}));var x0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(x0||(x0={}));var C0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(C0||(C0={}));var A0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(A0||(A0={}));var _0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_0||(_0={}));var b0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(b0||(b0={}));var M0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(M0||(M0={}));var N0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(N0||(N0={}));var R0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(R0||(R0={}));var w0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(w0||(w0={}));var D0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(D0||(D0={}));var I0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(I0||(I0={}));var P0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(P0||(P0={}));var U0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U0||(U0={}));var L0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(L0||(L0={}));var V0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(V0||(V0={}));var k0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(k0||(k0={}));var G0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(G0||(G0={}));var B0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(B0||(B0={}));var H0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(H0||(H0={}));var q0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(q0||(q0={}));var $o;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($o||($o={}));class Mf{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class ia{get text(){var e,o,s,r,u,c,h,g;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const S of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[A,M]of Object.entries(S))A!=="text"&&A!=="thought"&&(M!==null||M!==void 0)&&T.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,s,r,u,c,h,g;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,A]of Object.entries(T))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,s,r,u,c,h,g;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,s,r,u,c,h,g,p;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,s,r,u,c,h,g,p;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class O0{}class z0{}class h1{}class m1{}class p1{}class g1{}class F0{}class Y0{}class J0{}class y1{}class cl{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new cl;let r;const u=e;return o?r=t1(u):r=e1(u),Object.assign(s,r),s}}class K0{}class X0{}class Q0{}class v1{}class T1{}class S1{}class gd{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new gd,u=l1(e);return Object.assign(s,u),s}}class E1{}class x1{}class C1{}class $0{}class A1{get text(){var e,o,s;let r="",u=!1;const c=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,o,s;let r="";const u=[];for(const c of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&u.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class _1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yd{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new yd,u=lS(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uS(t,e){const o=qe(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function cS(t){return Array.isArray(t)?t.map(e=>fl(e)):[fl(t)]}function fl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function fS(t){const e=fl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dS(t){const e=fl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Z0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function hS(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Z0(e)):[Z0(t)]}function Nf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function W0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function j0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Mt(t){if(t==null)throw new Error("ContentUnion is required");return Nf(t)?t:{role:"user",parts:hS(t)}}function vd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=Mt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const o=Mt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>Mt(o)):[Mt(e)]}function fn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(W0(t)||j0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(t)]}const e=[],o=[],s=Nf(t[0]);for(const r of t){const u=Nf(r);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(W0(r)||j0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||e.push({role:"user",parts:hS(o)}),e}function b1(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(oe).includes(o[0].toUpperCase())?o[0].toUpperCase():oe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(oe).includes(s.toUpperCase())?s.toUpperCase():oe.TYPE_UNSPECIFIED})}}function Wo(t){const e={},o=["items"],s=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&b1(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(oe).includes(h.toUpperCase())?h.toUpperCase():oe.TYPE_UNSPECIFIED}else if(o.includes(c))e[c]=Wo(h);else if(s.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(Wo(p))}e[c]=g}else if(r.includes(c)){const g={};for(const[p,v]of Object.entries(h))g[p]=Wo(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Td(t){return Wo(t)}function Sd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ed(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ss(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wo(e.response));return t}function as(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function M1(t,e,o,s=1){const r=!e.startsWith(`${o}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:r?`${o}/${e}`:e}function $n(t,e){if(typeof e!="string")throw new Error("name must be a string");return M1(t,e,"cachedContents")}function mS(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mi(t){return pd(t)}function N1(t){return t!=null&&typeof t=="object"&&"name"in t}function R1(t){return t!=null&&typeof t=="object"&&"video"in t}function w1(t){return t!=null&&typeof t=="object"&&"uri"in t}function pS(t){var e;let o;if(N1(t)&&(o=t.name),!(w1(t)&&(o=t.uri,o===void 0))&&!(R1(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function gS(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function yS(t){for(const e of["models","tunedModels","publisherModels"])if(D1(t,e))return t[e];return[]}function D1(t,e){return t!==null&&typeof t=="object"&&e in t}function I1(t,e={}){const o=t,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function P1(t,e={}){const o=[],s=new Set;for(const r of t){const u=r.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const c=I1(r,e);c.functionDeclarations&&o.push(...c.functionDeclarations)}return{functionDeclarations:o}}function vS(t,e){let o;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function U1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function TS(t){if(typeof t!="object"||t===null)return{};const e=t,o=e.inlinedResponses;if(typeof o!="object"||o===null)return t;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let u=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function rs(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function SS(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L1(t){const e={},o=f(t,["responsesFile"]);o!=null&&d(e,["fileName"],o);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>dR(c))),d(e,["inlinedResponses"],u)}const r=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["inlinedEmbedContentResponses"],u)}return e}function V1(t){const e={},o=f(t,["predictionsFormat"]);o!=null&&d(e,["format"],o);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const r=f(t,["bigqueryDestination","outputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function k1(t){const e={},o=f(t,["format"]);o!=null&&d(e,["predictionsFormat"],o);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const r=f(t,["bigqueryUri"]);if(r!=null&&d(e,["bigqueryDestination","outputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jr(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["metadata","state"]);r!=null&&d(e,["state"],SS(r));const u=f(t,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const p=f(t,["metadata","output"]);return p!=null&&d(e,["dest"],L1(TS(p))),e}function Rf(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["state"]);r!=null&&d(e,["state"],SS(r));const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(e,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const v=f(t,["model"]);v!=null&&d(e,["model"],v);const T=f(t,["inputConfig"]);T!=null&&d(e,["src"],G1(T));const S=f(t,["outputConfig"]);S!=null&&d(e,["dest"],V1(TS(S)));const A=f(t,["completionStats"]);return A!=null&&d(e,["completionStats"],A),e}function G1(t){const e={},o=f(t,["instancesFormat"]);o!=null&&d(e,["format"],o);const s=f(t,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const r=f(t,["bigquerySource","inputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function B1(t,e){const o={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&d(o,["fileName"],s);const r=f(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>fR(t,c))),d(o,["requests","requests"],u)}return o}function H1(t){const e={},o=f(t,["format"]);o!=null&&d(e,["instancesFormat"],o);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const r=f(t,["bigqueryUri"]);if(r!=null&&d(e,["bigquerySource","inputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function q1(t){const e={},o=f(t,["data"]);if(o!=null&&d(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function O1(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function z1(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function F1(t){const e={},o=f(t,["content"]);o!=null&&d(e,["content"],o);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],Y1(s));const r=f(t,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Y1(t){const e={},o=f(t,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function ES(t){const e={},o=f(t,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>TR(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function J1(t,e){const o={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function K1(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["dest"]);return e!==void 0&&r!=null&&d(e,["outputConfig"],k1(U1(r))),o}function ev(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["src"]);r!=null&&d(o,["batch","inputConfig"],B1(t,vS(t,r)));const u=f(e,["config"]);return u!=null&&J1(u,o),o}function X1(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["model"],qe(t,s));const r=f(e,["src"]);r!=null&&d(o,["inputConfig"],H1(vS(t,r)));const u=f(e,["config"]);return u!=null&&K1(u,o),o}function Q1(t,e){const o={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),o}function $1(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["src"]);r!=null&&d(o,["batch","inputConfig"],iR(t,r));const u=f(e,["config"]);return u!=null&&Q1(u,o),o}function Z1(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function W1(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function j1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function eR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function tR(t,e){const o={},s=f(e,["contents"]);if(s!=null){let u=vd(t,s);Array.isArray(u)&&(u=u.map(c=>c)),d(o,["requests[]","request","content"],u)}const r=f(e,["config"]);return r!=null&&(d(o,["_self"],nR(r,o)),WN(o,{"requests[].*":"requests[].request.*"})),o}function nR(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function iR(t,e){const o={},s=f(e,["fileName"]);s!=null&&d(o,["file_name"],s);const r=f(e,["inlinedRequests"]);return r!=null&&d(o,["requests"],tR(t,r)),o}function oR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function sR(t,e,o){const s={},r=f(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],ES(Mt(r)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const M=f(e,["frequencyPenalty"]);M!=null&&d(s,["frequencyPenalty"],M);const R=f(e,["seed"]);R!=null&&d(s,["seed"],R);const L=f(e,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const I=f(e,["responseSchema"]);I!=null&&d(s,["responseSchema"],Td(I));const H=f(e,["responseJsonSchema"]);if(H!=null&&d(s,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=f(e,["safetySettings"]);if(o!==void 0&&D!=null){let he=D;Array.isArray(he)&&(he=he.map(ae=>SR(ae))),d(o,["safetySettings"],he)}const X=f(e,["tools"]);if(o!==void 0&&X!=null){let he=as(X);Array.isArray(he)&&(he=he.map(ae=>ER(ss(ae)))),d(o,["tools"],he)}const z=f(e,["toolConfig"]);if(o!==void 0&&z!=null&&d(o,["toolConfig"],z),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=f(e,["cachedContent"]);o!==void 0&&$!=null&&d(o,["cachedContent"],$n(t,$));const Y=f(e,["responseModalities"]);Y!=null&&d(s,["responseModalities"],Y);const Z=f(e,["mediaResolution"]);Z!=null&&d(s,["mediaResolution"],Z);const W=f(e,["speechConfig"]);if(W!=null&&d(s,["speechConfig"],Sd(W)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&d(s,["thinkingConfig"],ie);const se=f(e,["imageConfig"]);return se!=null&&d(s,["imageConfig"],se),s}function aR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>F1(p))),d(e,["candidates"],g)}const r=f(t,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function rR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function lR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],rs(t,s)),o}function uR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function cR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function fR(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["request","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let h=fn(r);Array.isArray(h)&&(h=h.map(g=>ES(g))),d(o,["request","contents"],h)}const u=f(e,["metadata"]);u!=null&&d(o,["metadata"],u);const c=f(e,["config"]);return c!=null&&d(o,["request","generationConfig"],sR(t,c,f(o,["request"],{}))),o}function dR(t){const e={},o=f(t,["response"]);o!=null&&d(e,["response"],aR(o));const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function hR(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);if(e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function mR(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);e!==void 0&&r!=null&&d(e,["_query","pageToken"],r);const u=f(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),o}function pR(t){const e={},o=f(t,["config"]);return o!=null&&hR(o,e),e}function gR(t){const e={},o=f(t,["config"]);return o!=null&&mR(o,e),e}function yR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>jr(c))),d(e,["batchJobs"],u)}return e}function vR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Rf(c))),d(e,["batchJobs"],u)}return e}function TR(t){const e={},o=f(t,["functionCall"]);o!=null&&d(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],oR(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],q1(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function SR(t){const e={},o=f(t,["category"]);if(o!=null&&d(e,["category"],o),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function ER(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],uR(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],cR(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Xn||(Xn={}));class oo{constructor(e,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,r)}init(e,o,s){var r,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=o.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xR extends Qn{constructor(e){super(),this.apiClient=e,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new oo(Xn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=ev(this.apiClient,e),s=o._url,r=le("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=S,T.request=A}p.push(T)}return h.requests=p,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${r}`;else if(c)s.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=X1(this.apiClient,e);return h=le("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const p=ev(this.apiClient,e);return h=le("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>jr(v))}}async createEmbeddingsInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$1(this.apiClient,e);return u=le("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>jr(g))}}async get(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=lR(this.apiClient,e);return h=le("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const p=rR(this.apiClient,e);return h=le("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>jr(v))}}async cancel(e){var o,s,r,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=z1(this.apiClient,e);c=le("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=O1(this.apiClient,e);c=le("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=gR(e);return h=le("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=vR(v),S=new $0;return Object.assign(S,T),S})}else{const p=pR(e);return h=le("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=yR(v),S=new $0;return Object.assign(S,T),S})}}async delete(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=W1(this.apiClient,e);return h=le("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>eR(v))}else{const p=Z1(this.apiClient,e);return h=le("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>j1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CR(t){const e={},o=f(t,["data"]);if(o!=null&&d(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function tv(t){const e={},o=f(t,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>FR(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function AR(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let v=fn(c);Array.isArray(v)&&(v=v.map(T=>tv(T))),d(e,["contents"],v)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],tv(Mt(h)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>YR(T))),d(e,["tools"],v)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],p),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function _R(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=fn(c);Array.isArray(T)&&(T=T.map(S=>S)),d(e,["contents"],T)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],Mt(h));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>JR(S))),d(e,["tools"],T)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],p);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),o}function bR(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["model"],uS(t,s));const r=f(e,["config"]);return r!=null&&AR(r,o),o}function MR(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["model"],uS(t,s));const r=f(e,["config"]);return r!=null&&_R(r,o),o}function NR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],$n(t,s)),o}function RR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],$n(t,s)),o}function wR(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function DR(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function IR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function PR(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&d(e,["description"],o);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function UR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],$n(t,s)),o}function LR(t,e){const o={},s=f(e,["name"]);return s!=null&&d(o,["_url","name"],$n(t,s)),o}function VR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function kR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function GR(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function BR(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function HR(t){const e={},o=f(t,["config"]);return o!=null&&GR(o,e),e}function qR(t){const e={},o=f(t,["config"]);return o!=null&&BR(o,e),e}function OR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function zR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function FR(t){const e={},o=f(t,["functionCall"]);o!=null&&d(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],IR(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],CR(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function YR(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],VR(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],kR(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function JR(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>PR(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function KR(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function XR(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function QR(t,e){const o={},s=f(e,["name"]);s!=null&&d(o,["_url","name"],$n(t,s));const r=f(e,["config"]);return r!=null&&KR(r,o),o}function $R(t,e){const o={},s=f(e,["name"]);s!=null&&d(o,["_url","name"],$n(t,s));const r=f(e,["config"]);return r!=null&&XR(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZR extends Qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new oo(Xn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=MR(this.apiClient,e);return h=le("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=bR(this.apiClient,e);return h=le("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=LR(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=UR(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=RR(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=DR(v),S=new X0;return Object.assign(S,T),S})}else{const p=NR(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=wR(v),S=new X0;return Object.assign(S,T),S})}}async update(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=$R(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=QR(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=qR(e);return h=le("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=zR(v),S=new Q0;return Object.assign(S,T),S})}else{const p=HR(e);return h=le("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=OR(v),S=new Q0;return Object.assign(S,T),S})}}}function nv(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],s=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(t){return this instanceof We?(this.v=t,this):new We(t)}function jo(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(t,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(A){return function(M){return Promise.resolve(M).then(A,T)}}function h(A,M){s[A]&&(r[A]=function(R){return new Promise(function(L,I){u.push([A,R,L,I])>1||g(A,R)})},M&&(r[A]=M(r[A])))}function g(A,M){try{p(s[A](M))}catch(R){S(u[0][3],R)}}function p(A){A.value instanceof We?Promise.resolve(A.value.v).then(v,T):S(u[0][2],A)}function v(A){g("next",A)}function T(A){g("throw",A)}function S(A,M){A(M),u.shift(),u.length&&g(u[0][0],u[0][1])}}function fa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof nv=="function"?nv(t):t[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=t[u]&&function(c){return new Promise(function(h,g){c=t[u](c),r(h,g,c.done,c.value)})}}function r(u,c,h,g){Promise.resolve(g).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:xS(o)}function xS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function jR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iv(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let s=0;for(;s<o;)if(t[s].role==="user")e.push(t[s]),s++;else{const r=[];let u=!0;for(;s<o&&t[s].role==="model";)r.push(t[s]),u&&!xS(t[s])&&(u=!1),s++;u?e.push(...r):e.pop()}return e}class ew{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new tw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class tw{constructor(e,o,s,r={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),jR(u)}async sendMessage(e){var o;await this.sendPromise;const s=Mt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,c,h;const g=await r,p=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(T))!==null&&h!==void 0?h:[]);const A=p?[p]:[];this.recordHistory(s,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var o;await this.sendPromise;const s=Mt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?iv(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var s,r;return jo(this,arguments,function*(){var c,h,g,p;const v=[];try{for(var T=!0,S=fa(e),A;A=yield We(S.next()),c=A.done,!c;T=!0){p=A.value,T=!1;const M=p;if(WR(M)){const R=(r=(s=M.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content;R!==void 0&&v.push(R)}yield yield We(M)}}catch(M){h={error:M}}finally{try{!T&&!c&&(g=S.return)&&(yield We(g.call(S)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let r=[];o.length>0&&o.every(u=>u.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...iv(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nw(t){const e={},o=f(t,["file"]);return o!=null&&d(e,["file"],o),e}function iw(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function ow(t){const e={},o=f(t,["name"]);return o!=null&&d(e,["_url","file"],pS(o)),e}function sw(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function aw(t){const e={},o=f(t,["name"]);return o!=null&&d(e,["_url","file"],pS(o)),e}function rw(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function lw(t){const e={},o=f(t,["config"]);return o!=null&&rw(o,e),e}function uw(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cw extends Qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new oo(Xn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lw(e);return u=le("files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=uw(g),v=new E1;return Object.assign(v,p),v})}}async createInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nw(e);return u=le("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=iw(g),v=new x1;return Object.assign(v,p),v})}}async get(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aw(e);return u=le("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ow(e);return u=le("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=sw(g),v=new C1;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function el(t){const e={},o=f(t,["data"]);if(o!=null&&d(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function fw(t){const e={},o=f(t,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>bw(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function dw(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function hw(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&d(e,["description"],o);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function mw(t){const e={},o=f(t,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=f(t,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const A=f(t,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const M=f(t,["responseModalities"]);M!=null&&d(e,["responseModalities"],M);const R=f(t,["responseSchema"]);R!=null&&d(e,["responseSchema"],R);const L=f(t,["routingConfig"]);L!=null&&d(e,["routingConfig"],L);const I=f(t,["seed"]);I!=null&&d(e,["seed"],I);const H=f(t,["speechConfig"]);H!=null&&d(e,["speechConfig"],CS(H));const D=f(t,["stopSequences"]);D!=null&&d(e,["stopSequences"],D);const X=f(t,["temperature"]);X!=null&&d(e,["temperature"],X);const z=f(t,["thinkingConfig"]);z!=null&&d(e,["thinkingConfig"],z);const $=f(t,["topK"]);$!=null&&d(e,["topK"],$);const Y=f(t,["topP"]);if(Y!=null&&d(e,["topP"],Y),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function pw(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function gw(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function yw(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(t,["systemInstruction"]);e!==void 0&&M!=null&&d(e,["setup","systemInstruction"],fw(Mt(M)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let $=as(R);Array.isArray($)&&($=$.map(Y=>Nw(ss(Y)))),d(e,["setup","tools"],$)}const L=f(t,["sessionResumption"]);e!==void 0&&L!=null&&d(e,["setup","sessionResumption"],Mw(L));const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","inputAudioTranscription"],I);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const D=f(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const X=f(t,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const z=f(t,["proactivity"]);return e!==void 0&&z!=null&&d(e,["setup","proactivity"],z),o}function vw(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],mw(s));const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],CS(Ed(T)));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(t,["systemInstruction"]);e!==void 0&&M!=null&&d(e,["setup","systemInstruction"],Mt(M));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let $=as(R);Array.isArray($)&&($=$.map(Y=>Rw(ss(Y)))),d(e,["setup","tools"],$)}const L=f(t,["sessionResumption"]);e!==void 0&&L!=null&&d(e,["setup","sessionResumption"],L);const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","inputAudioTranscription"],I);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const D=f(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const X=f(t,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const z=f(t,["proactivity"]);return e!==void 0&&z!=null&&d(e,["setup","proactivity"],z),o}function Tw(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["setup","model"],qe(t,s));const r=f(e,["config"]);return r!=null&&d(o,["config"],yw(r,o)),o}function Sw(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["setup","model"],qe(t,s));const r=f(e,["config"]);return r!=null&&d(o,["config"],vw(r,o)),o}function Ew(t){const e={},o=f(t,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function xw(t){const e={},o=f(t,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["weightedPrompts"],s)}return e}function Cw(t){const e={},o=f(t,["media"]);if(o!=null){let p=cS(o);Array.isArray(p)&&(p=p.map(v=>el(v))),d(e,["mediaChunks"],p)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],el(dS(s)));const r=f(t,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=f(t,["video"]);u!=null&&d(e,["video"],el(fS(u)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function Aw(t){const e={},o=f(t,["media"]);if(o!=null){let p=cS(o);Array.isArray(p)&&(p=p.map(v=>v)),d(e,["mediaChunks"],p)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],dS(s));const r=f(t,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=f(t,["video"]);u!=null&&d(e,["video"],fS(u));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function _w(t){const e={},o=f(t,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const s=f(t,["serverContent"]);s!=null&&d(e,["serverContent"],s);const r=f(t,["toolCall"]);r!=null&&d(e,["toolCall"],r);const u=f(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],ww(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],h);const g=f(t,["sessionResumptionUpdate"]);return g!=null&&d(e,["sessionResumptionUpdate"],g),e}function bw(t){const e={},o=f(t,["functionCall"]);o!=null&&d(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],dw(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],el(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function Mw(t){const e={},o=f(t,["handle"]);if(o!=null&&d(e,["handle"],o),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CS(t){const e={},o=f(t,["languageCode"]);o!=null&&d(e,["languageCode"],o);const s=f(t,["voiceConfig"]);if(s!=null&&d(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Nw(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],pw(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],gw(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function Rw(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>hw(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function ww(t){const e={},o=f(t,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const s=f(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const r=f(t,["candidatesTokenCount"]);r!=null&&d(e,["responseTokenCount"],r);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const g=f(t,["promptTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>M)),d(e,["promptTokensDetails"],A)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(M=>M)),d(e,["cacheTokensDetails"],A)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(M=>M)),d(e,["responseTokensDetails"],A)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>M)),d(e,["toolUsePromptTokensDetails"],A)}const S=f(t,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(t){const e={},o=f(t,["data"]);if(o!=null&&d(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Iw(t){const e={},o=f(t,["content"]);o!=null&&d(e,["content"],o);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],Pw(s));const r=f(t,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Pw(t){const e={},o=f(t,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function Uw(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let u=fn(r);Array.isArray(u)&&(u=u.map(c=>c)),d(o,["contents"],u)}return o}function Lw(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["tokensInfo"],r)}return e}function Vw(t){const e={},o=f(t,["values"]);o!=null&&d(e,["values"],o);const s=f(t,["statistics"]);return s!=null&&d(e,["statistics"],kw(s)),e}function kw(t){const e={},o=f(t,["truncated"]);o!=null&&d(e,["truncated"],o);const s=f(t,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function Sl(t){const e={},o=f(t,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>OD(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function Gw(t){const e={},o=f(t,["controlType"]);o!=null&&d(e,["controlType"],o);const s=f(t,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function Bw(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hw(t,e){const o={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],Mt(s));const r=f(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>NS(h))),d(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],RD(u)),o}function qw(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let c=fn(r);Array.isArray(c)&&(c=c.map(h=>Sl(h))),d(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&Bw(u),o}function Ow(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let c=fn(r);Array.isArray(c)&&(c=c.map(h=>h)),d(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&Hw(u,o),o}function zw(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const r=f(t,["cachedContentTokenCount"]);return r!=null&&d(e,["cachedContentTokenCount"],r),e}function Fw(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function Yw(t,e){const o={},s=f(e,["model"]);return s!=null&&d(o,["_url","name"],qe(t,s)),o}function Jw(t,e){const o={},s=f(e,["model"]);return s!=null&&d(o,["_url","name"],qe(t,s)),o}function Kw(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function Xw(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function Qw(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const A=f(t,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const M=f(t,["outputMimeType"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","mimeType"],M);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const L=f(t,["addWatermark"]);e!==void 0&&L!=null&&d(e,["parameters","addWatermark"],L);const I=f(t,["labels"]);e!==void 0&&I!=null&&d(e,["labels"],I);const H=f(t,["editMode"]);e!==void 0&&H!=null&&d(e,["parameters","editMode"],H);const D=f(t,["baseSteps"]);return e!==void 0&&D!=null&&d(e,["parameters","editConfig","baseSteps"],D),o}function $w(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=f(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>XD(g))),d(o,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&Qw(c,o),o}function Zw(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>El(u))),d(e,["generatedImages"],r)}return e}function Ww(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function jw(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["instances[]","title"],r);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),o}function eD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let h=vd(t,r);Array.isArray(h)&&(h=h.map(g=>g)),d(o,["requests[]","content"],h)}const u=f(e,["config"]);u!=null&&Ww(u,o);const c=f(e,["model"]);return c!==void 0&&d(o,["requests[]","model"],qe(t,c)),o}function tD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let c=vd(t,r);Array.isArray(c)&&(c=c.map(h=>h)),d(o,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&jw(u,o),o}function nD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["embeddings"],u)}const r=f(t,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function iD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Vw(c))),d(e,["embeddings"],u)}const r=f(t,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function oD(t){const e={},o=f(t,["endpoint"]);o!=null&&d(e,["name"],o);const s=f(t,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function sD(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function aD(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&d(e,["description"],o);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function rD(t,e,o){const s={},r=f(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],Sl(Mt(r)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const M=f(e,["frequencyPenalty"]);M!=null&&d(s,["frequencyPenalty"],M);const R=f(e,["seed"]);R!=null&&d(s,["seed"],R);const L=f(e,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const I=f(e,["responseSchema"]);I!=null&&d(s,["responseSchema"],Td(I));const H=f(e,["responseJsonSchema"]);if(H!=null&&d(s,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=f(e,["safetySettings"]);if(o!==void 0&&D!=null){let he=D;Array.isArray(he)&&(he=he.map(ae=>QD(ae))),d(o,["safetySettings"],he)}const X=f(e,["tools"]);if(o!==void 0&&X!=null){let he=as(X);Array.isArray(he)&&(he=he.map(ae=>tI(ss(ae)))),d(o,["tools"],he)}const z=f(e,["toolConfig"]);if(o!==void 0&&z!=null&&d(o,["toolConfig"],z),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=f(e,["cachedContent"]);o!==void 0&&$!=null&&d(o,["cachedContent"],$n(t,$));const Y=f(e,["responseModalities"]);Y!=null&&d(s,["responseModalities"],Y);const Z=f(e,["mediaResolution"]);Z!=null&&d(s,["mediaResolution"],Z);const W=f(e,["speechConfig"]);if(W!=null&&d(s,["speechConfig"],Sd(W)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&d(s,["thinkingConfig"],ie);const se=f(e,["imageConfig"]);return se!=null&&d(s,["imageConfig"],se),s}function lD(t,e,o){const s={},r=f(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],Mt(r));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const A=f(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const M=f(e,["frequencyPenalty"]);M!=null&&d(s,["frequencyPenalty"],M);const R=f(e,["seed"]);R!=null&&d(s,["seed"],R);const L=f(e,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const I=f(e,["responseSchema"]);I!=null&&d(s,["responseSchema"],Td(I));const H=f(e,["responseJsonSchema"]);H!=null&&d(s,["responseJsonSchema"],H);const D=f(e,["routingConfig"]);D!=null&&d(s,["routingConfig"],D);const X=f(e,["modelSelectionConfig"]);X!=null&&d(s,["modelConfig"],X);const z=f(e,["safetySettings"]);if(o!==void 0&&z!=null){let k=z;Array.isArray(k)&&(k=k.map(q=>q)),d(o,["safetySettings"],k)}const $=f(e,["tools"]);if(o!==void 0&&$!=null){let k=as($);Array.isArray(k)&&(k=k.map(q=>NS(ss(q)))),d(o,["tools"],k)}const Y=f(e,["toolConfig"]);o!==void 0&&Y!=null&&d(o,["toolConfig"],Y);const Z=f(e,["labels"]);o!==void 0&&Z!=null&&d(o,["labels"],Z);const W=f(e,["cachedContent"]);o!==void 0&&W!=null&&d(o,["cachedContent"],$n(t,W));const ie=f(e,["responseModalities"]);ie!=null&&d(s,["responseModalities"],ie);const se=f(e,["mediaResolution"]);se!=null&&d(s,["mediaResolution"],se);const he=f(e,["speechConfig"]);he!=null&&d(s,["speechConfig"],MS(Sd(he)));const ae=f(e,["audioTimestamp"]);ae!=null&&d(s,["audioTimestamp"],ae);const Ne=f(e,["thinkingConfig"]);Ne!=null&&d(s,["thinkingConfig"],Ne);const Le=f(e,["imageConfig"]);return Le!=null&&d(s,["imageConfig"],Le),s}function ov(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let c=fn(r);Array.isArray(c)&&(c=c.map(h=>Sl(h))),d(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(o,["generationConfig"],rD(t,u,o)),o}function sv(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["contents"]);if(r!=null){let c=fn(r);Array.isArray(c)&&(c=c.map(h=>h)),d(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(o,["generationConfig"],lD(t,u,o)),o}function av(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>Iw(p))),d(e,["candidates"],g)}const r=f(t,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function rv(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),d(e,["candidates"],p)}const r=f(t,["createTime"]);r!=null&&d(e,["createTime"],r);const u=f(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=f(t,["responseId"]);h!=null&&d(e,["responseId"],h);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function uD(t,e){const o={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["aspectRatio"]);e!==void 0&&r!=null&&d(e,["parameters","aspectRatio"],r);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const v=f(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=f(t,["imageSize"]);if(e!==void 0&&A!=null&&d(e,["parameters","sampleImageSize"],A),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function cD(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const A=f(t,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const M=f(t,["outputMimeType"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","mimeType"],M);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const L=f(t,["addWatermark"]);e!==void 0&&L!=null&&d(e,["parameters","addWatermark"],L);const I=f(t,["labels"]);e!==void 0&&I!=null&&d(e,["labels"],I);const H=f(t,["imageSize"]);e!==void 0&&H!=null&&d(e,["parameters","sampleImageSize"],H);const D=f(t,["enhancePrompt"]);return e!==void 0&&D!=null&&d(e,["parameters","enhancePrompt"],D),o}function fD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=f(e,["config"]);return u!=null&&uD(u,o),o}function dD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=f(e,["config"]);return u!=null&&cD(u,o),o}function hD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>_D(c))),d(e,["generatedImages"],u)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],_S(r)),e}function mD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>El(c))),d(e,["generatedImages"],u)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],bS(r)),e}function pD(t,e){const o={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(t,["durationSeconds"]);if(e!==void 0&&r!=null&&d(e,["parameters","durationSeconds"],r),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=f(t,["personGeneration"]);if(e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],xl(v));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(A=>mI(A))),d(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function gD(t,e){const o={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=f(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const p=f(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const A=f(t,["enhancePrompt"]);e!==void 0&&A!=null&&d(e,["parameters","enhancePrompt"],A);const M=f(t,["generateAudio"]);e!==void 0&&M!=null&&d(e,["parameters","generateAudio"],M);const R=f(t,["lastFrame"]);e!==void 0&&R!=null&&d(e,["instances[0]","lastFrame"],vn(R));const L=f(t,["referenceImages"]);if(e!==void 0&&L!=null){let D=L;Array.isArray(D)&&(D=D.map(X=>pI(X))),d(e,["instances[0]","referenceImages"],D)}const I=f(t,["mask"]);e!==void 0&&I!=null&&d(e,["instances[0]","mask"],hI(I));const H=f(t,["compressionQuality"]);return e!==void 0&&H!=null&&d(e,["parameters","compressionQuality"],H),o}function yD(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],ED(c)),e}function vD(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],xD(c)),e}function TD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=f(e,["image"]);u!=null&&d(o,["instances[0]","image"],xl(u));const c=f(e,["video"]);c!=null&&d(o,["instances[0]","video"],RS(c));const h=f(e,["source"]);h!=null&&CD(h,o);const g=f(e,["config"]);return g!=null&&pD(g,o),o}function SD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=f(e,["image"]);u!=null&&d(o,["instances[0]","image"],vn(u));const c=f(e,["video"]);c!=null&&d(o,["instances[0]","video"],wS(c));const h=f(e,["source"]);h!=null&&AD(h,o);const g=f(e,["config"]);return g!=null&&gD(g,o),o}function ED(t){const e={},o=f(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>MD(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function xD(t){const e={},o=f(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>ND(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function CD(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],xl(r));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],RS(u)),o}function AD(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],vn(r));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],wS(u)),o}function _D(t){const e={},o=f(t,["_self"]);o!=null&&d(e,["image"],UD(o));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=f(t,["_self"]);return r!=null&&d(e,["safetyAttributes"],_S(r)),e}function El(t){const e={},o=f(t,["_self"]);o!=null&&d(e,["image"],AS(o));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=f(t,["_self"]);r!=null&&d(e,["safetyAttributes"],bS(r));const u=f(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function bD(t){const e={},o=f(t,["_self"]);o!=null&&d(e,["mask"],AS(o));const s=f(t,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["labels"],r)}return e}function MD(t){const e={},o=f(t,["video"]);return o!=null&&d(e,["video"],fI(o)),e}function ND(t){const e={},o=f(t,["_self"]);return o!=null&&d(e,["video"],dI(o)),e}function RD(t){const e={},o=f(t,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=f(t,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const A=f(t,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const M=f(t,["responseModalities"]);M!=null&&d(e,["responseModalities"],M);const R=f(t,["responseSchema"]);R!=null&&d(e,["responseSchema"],R);const L=f(t,["routingConfig"]);L!=null&&d(e,["routingConfig"],L);const I=f(t,["seed"]);I!=null&&d(e,["seed"],I);const H=f(t,["speechConfig"]);H!=null&&d(e,["speechConfig"],MS(H));const D=f(t,["stopSequences"]);D!=null&&d(e,["stopSequences"],D);const X=f(t,["temperature"]);X!=null&&d(e,["temperature"],X);const z=f(t,["thinkingConfig"]);z!=null&&d(e,["thinkingConfig"],z);const $=f(t,["topK"]);$!=null&&d(e,["topK"],$);const Y=f(t,["topP"]);if(Y!=null&&d(e,["topP"],Y),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wD(t,e){const o={},s=f(e,["model"]);return s!=null&&d(o,["_url","name"],qe(t,s)),o}function DD(t,e){const o={},s=f(e,["model"]);return s!=null&&d(o,["_url","name"],qe(t,s)),o}function ID(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function PD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function UD(t){const e={},o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],Mi(o));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function AS(t){const e={},o=f(t,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],Mi(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function xl(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=f(t,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],Mi(o));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function vn(t){const e={},o=f(t,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const s=f(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],Mi(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function LD(t,e,o){const s={},r=f(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const u=f(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const c=f(e,["filter"]);o!==void 0&&c!=null&&d(o,["_query","filter"],c);const h=f(e,["queryBase"]);return o!==void 0&&h!=null&&d(o,["_url","models_url"],gS(t,h)),s}function VD(t,e,o){const s={},r=f(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const u=f(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const c=f(e,["filter"]);o!==void 0&&c!=null&&d(o,["_query","filter"],c);const h=f(e,["queryBase"]);return o!==void 0&&h!=null&&d(o,["_url","models_url"],gS(t,h)),s}function kD(t,e){const o={},s=f(e,["config"]);return s!=null&&LD(t,s,o),o}function GD(t,e){const o={},s=f(e,["config"]);return s!=null&&VD(t,s,o),o}function BD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["_self"]);if(r!=null){let u=yS(r);Array.isArray(u)&&(u=u.map(c=>wf(c))),d(e,["models"],u)}return e}function HD(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["_self"]);if(r!=null){let u=yS(r);Array.isArray(u)&&(u=u.map(c=>Df(c))),d(e,["models"],u)}return e}function qD(t){const e={},o=f(t,["maskMode"]);o!=null&&d(e,["maskMode"],o);const s=f(t,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const r=f(t,["maskDilation"]);return r!=null&&d(e,["dilation"],r),e}function wf(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const u=f(t,["version"]);u!=null&&d(e,["version"],u);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],nI(c));const h=f(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const p=f(t,["supportedGenerationMethods"]);return p!=null&&d(e,["supportedActions"],p),e}function Df(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const u=f(t,["versionId"]);u!=null&&d(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>oD(S))),d(e,["endpoints"],T)}const h=f(t,["labels"]);h!=null&&d(e,["labels"],h);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],iI(g));const p=f(t,["defaultCheckpointId"]);p!=null&&d(e,["defaultCheckpointId"],p);const v=f(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["checkpoints"],T)}return e}function OD(t){const e={},o=f(t,["functionCall"]);o!=null&&d(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],sD(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],Dw(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function zD(t){const e={},o=f(t,["productImage"]);return o!=null&&d(e,["image"],vn(o)),e}function FD(t,e){const o={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["baseSteps"]);e!==void 0&&r!=null&&d(e,["parameters","editConfig","baseSteps"],r);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&d(e,["parameters","addWatermark"],p);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const A=f(t,["labels"]);return e!==void 0&&A!=null&&d(e,["labels"],A),o}function YD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["source"]);r!=null&&KD(r,o);const u=f(e,["config"]);return u!=null&&FD(u,o),o}function JD(t){const e={},o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>El(r))),d(e,["generatedImages"],s)}return e}function KD(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["personImage"]);e!==void 0&&r!=null&&d(e,["instances[0]","personImage","image"],vn(r));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>zD(h))),d(e,["instances[0]","productImages"],c)}return o}function XD(t){const e={},o=f(t,["referenceImage"]);o!=null&&d(e,["referenceImage"],vn(o));const s=f(t,["referenceId"]);s!=null&&d(e,["referenceId"],s);const r=f(t,["referenceType"]);r!=null&&d(e,["referenceType"],r);const u=f(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],qD(u));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],Gw(c));const h=f(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],h);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function _S(t){const e={},o=f(t,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=f(t,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function bS(t){const e={},o=f(t,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=f(t,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function QD(t){const e={},o=f(t,["category"]);if(o!=null&&d(e,["category"],o),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function $D(t){const e={},o=f(t,["image"]);return o!=null&&d(e,["image"],vn(o)),e}function ZD(t,e){const o={},s=f(t,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const r=f(t,["maxPredictions"]);e!==void 0&&r!=null&&d(e,["parameters","maxPredictions"],r);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const h=f(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&d(e,["parameters","binaryColorThreshold"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),o}function WD(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["source"]);r!=null&&eI(r,o);const u=f(e,["config"]);return u!=null&&ZD(u,o),o}function jD(t){const e={},o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>bD(r))),d(e,["generatedMasks"],s)}return e}function eI(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],vn(r));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],$D(u)),o}function MS(t){const e={},o=f(t,["languageCode"]);o!=null&&d(e,["languageCode"],o);const s=f(t,["voiceConfig"]);if(s!=null&&d(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tI(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],ID(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],PD(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function NS(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>aD(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function nI(t){const e={},o=f(t,["baseModel"]);o!=null&&d(e,["baseModel"],o);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const r=f(t,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function iI(t){const e={},o=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(e,["baseModel"],o);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const r=f(t,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function oI(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function sI(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function aI(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","name"],qe(t,s));const r=f(e,["config"]);return r!=null&&oI(r,o),o}function rI(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["config"]);return r!=null&&sI(r,o),o}function lI(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&d(e,["parameters","safetySetting"],r);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const p=f(t,["enhanceInputImage"]);e!==void 0&&p!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const A=f(t,["mode"]);return e!==void 0&&A!=null&&d(e,["parameters","mode"],A),o}function uI(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["_url","model"],qe(t,s));const r=f(e,["image"]);r!=null&&d(o,["instances[0]","image"],vn(r));const u=f(e,["upscaleFactor"]);u!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&lI(c,o),o}function cI(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>El(u))),d(e,["generatedImages"],r)}return e}function fI(t){const e={},o=f(t,["uri"]);o!=null&&d(e,["uri"],o);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],Mi(s));const r=f(t,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function dI(t){const e={},o=f(t,["gcsUri"]);o!=null&&d(e,["uri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],Mi(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function hI(t){const e={},o=f(t,["image"]);o!=null&&d(e,["_self"],vn(o));const s=f(t,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function mI(t){const e={},o=f(t,["image"]);o!=null&&d(e,["image"],xl(o));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function pI(t){const e={},o=f(t,["image"]);o!=null&&d(e,["image"],vn(o));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function RS(t){const e={},o=f(t,["uri"]);o!=null&&d(e,["uri"],o);const s=f(t,["videoBytes"]);s!=null&&d(e,["encodedVideo"],Mi(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["encoding"],r),e}function wS(t){const e={},o=f(t,["uri"]);o!=null&&d(e,["gcsUri"],o);const s=f(t,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],Mi(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gI="Content-Type",yI="X-Server-Timeout",vI="User-Agent",If="x-goog-api-client",TI="1.29.0",SI=`google-genai-sdk/${TI}`,EI="v1beta1",xI="v1beta",lv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class CI{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:EI,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:xI,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(o))typeof u=="object"?s[r]=Object.assign(Object.assign({},s[r]),u):u!==void 0&&(s[r]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,r){if(o&&o.timeout||r){const u=new AbortController,c=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=c}return o&&o.extraBody!==null&&AI(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await uv(r),new Mf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await uv(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var o;return jo(this,arguments,function*(){const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:g}=yield We(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(g,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),A=S.status,M=S.code,R=`got status: ${A}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new Tl({message:R,status:M})}}catch(T){if(T.name==="ApiError")throw T}c+=p;let v=c.match(lv);for(;v;){const T=v[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield We(new Mf(S)),c=c.slice(v[0].length),v=c.match(lv)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=SI+" "+this.clientOptions.userAgentExtra;return e[vI]=o,e[If]=o,e[gI]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))s.append(r,u);e.timeout&&e.timeout>0&&s.append(yI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);r.sizeBytes=String(c.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},p=this.getFileName(e),v=le("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,p,g,o==null?void 0:o.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,o,s){var r;const u=this.clientOptions.uploader,c=await u.stat(o),h=String(c.size),g=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),T={};s!=null&&s.customMetadata&&(T.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(T.chunkingConfig=s.chunkingConfig);const S=await this.fetchUploadUrl(p,h,g,v,T,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,r,u,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function uv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new Tl({message:r,status:o}):new Error(r)}}function AI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,c){const h=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const r=s(o,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _I="mcp_used/unknown";let bI=!1;function DS(t){for(const e of t)if(MI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return bI}function IS(t){var e;const o=(e=t[If])!==null&&e!==void 0?e:"";t[If]=(o+` ${_I}`).trimStart()}function MI(t){return t!==null&&typeof t=="object"&&t instanceof xd}function NI(t,e=100){return jo(this,arguments,function*(){let s,r=0;for(;r<e;){const u=yield We(t.listTools({cursor:s}));for(const c of u.tools)yield yield We(c),r++;if(!u.nextCursor)break;s=u.nextCursor}})}class xd{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new xd(e,o)}async initialize(){var e,o,s,r;if(this.mcpTools.length>0)return;const u={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(o=void 0,fa(NI(v))),p;p=await g.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const T=r;c.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(T){o={error:T}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(o)throw o.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),P1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await r.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RI(t,e,o){const s=new _1;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),e(s)}class wI{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=PI(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(D=>{p=D}),T=e.callbacks,S=function(){p({})},A=this.apiClient,M={onopen:S,onmessage:D=>{RI(A,T.onmessage,D)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(D){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(D){}},R=this.webSocketFactory.create(g,II(c),M);R.connect(),await v;const H={setup:{model:qe(this.apiClient,e.model)}};return R.send(JSON.stringify(H)),new DI(R,this.apiClient)}}class DI{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=xw(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=Ew(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl($o.PLAY)}pause(){this.sendPlaybackControl($o.PAUSE)}stop(){this.sendPlaybackControl($o.STOP)}resetContext(){this.sendPlaybackControl($o.RESET_CONTEXT)}close(){this.conn.close()}}function II(t){const e={};return t.forEach((o,s)=>{e[s]=o}),e}function PI(t){const e=new Headers;for(const[o,s]of Object.entries(t))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LI(t,e,o){const s=new A1;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const u=JSON.parse(r);if(t.isVertexAI()){const c=_w(u);Object.assign(s,c)}else Object.assign(s,u);e(s)}class VI{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new wI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,r,u,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&DS(e.config.tools)&&IS(T);const S=HI(T);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const W=this.apiClient.getApiKey();let ie="BidiGenerateContent",se="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",se="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ie}?${se}=${W}`}let A=()=>{};const M=new Promise(W=>{A=W}),R=e.callbacks,L=function(){var W;(W=R==null?void 0:R.onopen)===null||W===void 0||W.call(R),A({})},I=this.apiClient,H={onopen:L,onmessage:W=>{LI(I,R.onmessage,W)},onerror:(o=R==null?void 0:R.onerror)!==null&&o!==void 0?o:function(W){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(W){}},D=this.webSocketFactory.create(v,BI(S),H);D.connect(),await M;let X=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const W=this.apiClient.getProject(),ie=this.apiClient.getLocation();X=`projects/${W}/locations/${ie}/`+X}let z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xa.AUDIO]}:e.config.responseModalities=[xa.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],Y=[];for(const W of $)if(this.isCallableTool(W)){const ie=W;Y.push(await ie.tool())}else Y.push(W);Y.length>0&&(e.config.tools=Y);const Z={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=Sw(this.apiClient,Z):z=Tw(this.apiClient,Z),delete z.config,D.send(JSON.stringify(z)),new GI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const kI={turnComplete:!0};class GI{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=fn(o.turns),e.isVertexAI()||(s=s.map(r=>Sl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(UI)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},kI),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Aw(e)}:o={realtimeInput:Cw(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function BI(t){const e={};return t.forEach((o,s)=>{e[s]=o}),e}function HI(t){const e=new Headers;for(const[o,s]of Object.entries(t))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cv=10;function fv(t){var e,o,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(o=t==null?void 0:t.tools)!==null&&o!==void 0?o:[])if(es(c)){r=!0;break}if(!r)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function es(t){return"callTool"in t&&typeof t.callTool=="function"}function qI(t){var e,o,s;return(s=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(r=>es(r)))!==null&&s!==void 0?s:!1}function dv(t){var e;const o=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,r)=>{if(es(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(r)}),o}function hv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OI extends Qn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,r,u,c,h;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!qI(o)||fv(o.config))return await this.generateContentInternal(g);const p=dv(o);if(p.length>0){const R=p.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,T;const S=fn(g.contents),A=(u=(r=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:cv;let M=0;for(;M<A&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,L=[];for(const I of(h=(c=o.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(es(I)){const D=await I.callTool(v.functionCalls);L.push(...D)}M++,T={role:"user",parts:L},g.contents=fn(g.contents),g.contents.push(R),g.contents.push(T),hv(g.config)&&(S.push(R),S.push(T))}return hv(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),fv(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const s=dv(o);if(s.length>0){const r=s.map(u=>`tools[${u}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let u;const c=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new oo(Xn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,u,c,h,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((c=(u=o.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(h=o.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,r;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const c=await Promise.all(u.map(async g=>es(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&DS(e.config.tools)){const g=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),IS(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var o,s,r;const u=new Map;for(const c of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(es(c)){const h=c,g=await h.tool();for(const p of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var o,s,r;const u=(r=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:cv;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,T){var S,A;return jo(this,arguments,function*(){for(var M,R,L,I;h<u;){c&&(h++,c=!1);const z=yield We(p.processParamsMaybeAddMcpUsage(T)),$=yield We(p.generateContentStreamInternal(z)),Y=[],Z=[];try{for(var H=!0,D=(R=void 0,fa($)),X;X=yield We(D.next()),M=X.done,!M;H=!0){I=X.value,H=!1;const W=I;if(yield yield We(W),W.candidates&&(!((S=W.candidates[0])===null||S===void 0)&&S.content)){Z.push(W.candidates[0].content);for(const ie of(A=W.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<u&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const se=yield We(v.get(ie.functionCall.name).callTool([ie.functionCall]));Y.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(W){R={error:W}}finally{try{!H&&!M&&(L=D.return)&&(yield We(L.call(D)))}finally{if(R)throw R.error}}if(Y.length>0){c=!0;const W=new ia;W.candidates=[{content:{role:"user",parts:Y}}],yield yield We(W);const ie=[];ie.push(...Z),ie.push({role:"user",parts:Y});const se=fn(T.contents).concat(ie);T.contents=se}else break}})})(this,g,e)}async generateContentInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=sv(this.apiClient,e);return h=le("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=rv(v),S=new ia;return Object.assign(S,T),S})}else{const p=ov(this.apiClient,e);return h=le("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=av(v),S=new ia;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=sv(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return jo(this,arguments,function*(){var S,A,M,R;try{for(var L=!0,I=fa(T),H;H=yield We(I.next()),S=H.done,!S;L=!0){R=H.value,L=!1;const D=R,X=rv(yield We(D.json()));X.sdkHttpResponse={headers:D.headers};const z=new ia;Object.assign(z,X),yield yield We(z)}}catch(D){A={error:D}}finally{try{!L&&!S&&(M=I.return)&&(yield We(M.call(I)))}finally{if(A)throw A.error}}})})}else{const p=ov(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return jo(this,arguments,function*(){var S,A,M,R;try{for(var L=!0,I=fa(T),H;H=yield We(I.next()),S=H.done,!S;L=!0){R=H.value,L=!1;const D=R,X=av(yield We(D.json()));X.sdkHttpResponse={headers:D.headers};const z=new ia;Object.assign(z,X),yield yield We(z)}}catch(D){A={error:D}}finally{try{!L&&!S&&(M=I.return)&&(yield We(M.call(I)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=tD(this.apiClient,e);return h=le("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=iD(v),S=new O0;return Object.assign(S,T),S})}else{const p=eD(this.apiClient,e);return h=le("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=nD(v),S=new O0;return Object.assign(S,T),S})}}async generateImagesInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=dD(this.apiClient,e);return h=le("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=mD(v),S=new z0;return Object.assign(S,T),S})}else{const p=fD(this.apiClient,e);return h=le("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=hD(v),S=new z0;return Object.assign(S,T),S})}}async editImageInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=$w(this.apiClient,e);return u=le("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=Zw(g),v=new h1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=uI(this.apiClient,e);return u=le("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=cI(g),v=new m1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=YD(this.apiClient,e);return u=le("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=JD(g),v=new p1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=WD(this.apiClient,e);return u=le("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=jD(g),v=new g1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=DD(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Df(v))}else{const p=wD(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>wf(v))}}async listInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=GD(this.apiClient,e);return h=le("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=HD(v),S=new F0;return Object.assign(S,T),S})}else{const p=kD(this.apiClient,e);return h=le("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=BD(v),S=new F0;return Object.assign(S,T),S})}}async update(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=rI(this.apiClient,e);return h=le("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Df(v))}else{const p=aI(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>wf(v))}}async delete(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Jw(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Xw(v),S=new Y0;return Object.assign(S,T),S})}else{const p=Yw(this.apiClient,e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Kw(v),S=new Y0;return Object.assign(S,T),S})}}async countTokens(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Ow(this.apiClient,e);return h=le("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Fw(v),S=new J0;return Object.assign(S,T),S})}else{const p=qw(this.apiClient,e);return h=le("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=zw(v),S=new J0;return Object.assign(S,T),S})}}async computeTokens(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=Uw(this.apiClient,e);return u=le("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=Lw(g),v=new y1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=SD(this.apiClient,e);return h=le("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=vD(v),S=new cl;return Object.assign(S,T),S})}else{const p=TD(this.apiClient,e);return h=le("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=yD(v),S=new cl;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zI extends Qn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=r1(e);return h=le("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const p=a1(e);return h=le("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=jN(e);return u=le("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(t){const e={},o=f(t,["data"]);if(o!=null&&d(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function YI(t){const e={},o=f(t,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>jI(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function JI(t,e,o){const s={},r=f(e,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const u=f(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const c=f(e,["uses"]);o!==void 0&&c!=null&&d(o,["uses"],c);const h=f(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&d(o,["bidiGenerateContentSetup"],WI(t,h));const g=f(e,["lockAdditionalFields"]);return o!==void 0&&g!=null&&d(o,["fieldMask"],g),s}function KI(t,e){const o={},s=f(e,["config"]);return s!=null&&d(o,["config"],JI(t,s,o)),o}function XI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function QI(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function $I(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function ZI(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const A=f(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(t,["systemInstruction"]);e!==void 0&&M!=null&&d(e,["setup","systemInstruction"],YI(Mt(M)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let $=as(R);Array.isArray($)&&($=$.map(Y=>t2(ss(Y)))),d(e,["setup","tools"],$)}const L=f(t,["sessionResumption"]);e!==void 0&&L!=null&&d(e,["setup","sessionResumption"],e2(L));const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","inputAudioTranscription"],I);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const D=f(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const X=f(t,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const z=f(t,["proactivity"]);return e!==void 0&&z!=null&&d(e,["setup","proactivity"],z),o}function WI(t,e){const o={},s=f(e,["model"]);s!=null&&d(o,["setup","model"],qe(t,s));const r=f(e,["config"]);return r!=null&&d(o,["config"],ZI(r,o)),o}function jI(t){const e={},o=f(t,["functionCall"]);o!=null&&d(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],XI(u));const c=f(t,["functionResponse"]);c!=null&&d(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&d(e,["inlineData"],FI(h));const g=f(t,["text"]);g!=null&&d(e,["text"],g);const p=f(t,["thought"]);p!=null&&d(e,["thought"],p);const v=f(t,["thoughtSignature"]);v!=null&&d(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function e2(t){const e={},o=f(t,["handle"]);if(o!=null&&d(e,["handle"],o),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function t2(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],QI(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],$I(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n2(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const s=t[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(u=>`${o}.${u}`);e.push(...r)}else e.push(o)}return e.join(",")}function i2(t,e){let o=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,o=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(o){const u=n2(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class o2 extends Qn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=KI(this.apiClient,e);u=le("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=i2(h,e.config);return r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s2(t,e){const o={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),o}function a2(t){const e={},o=f(t,["config"]);return o!=null&&s2(o,e),e}function r2(t,e){const o={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function l2(t){const e={},o=f(t,["name"]);o!=null&&d(e,["_url","name"],o);const s=f(t,["config"]);return s!=null&&r2(s,e),e}function u2(t){const e={},o=f(t,["name"]);return o!=null&&d(e,["_url","name"],o),e}function c2(t,e){const o={},s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const r=f(t,["chunkingConfig"]);return e!==void 0&&r!=null&&d(e,["chunkingConfig"],r),o}function f2(t){const e={},o=f(t,["name"]);o!=null&&d(e,["name"],o);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],h2(c)),e}function d2(t){const e={},o=f(t,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=f(t,["fileName"]);s!=null&&d(e,["fileName"],s);const r=f(t,["config"]);return r!=null&&c2(r,e),e}function h2(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function m2(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function p2(t){const e={},o=f(t,["config"]);return o!=null&&m2(o,e),e}function g2(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["fileSearchStores"],u)}return e}function y2(t,e){const o={},s=f(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const r=f(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=f(t,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["customMetadata"],h)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),o}function v2(t){const e={},o=f(t,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=f(t,["config"]);return s!=null&&y2(s,e),e}function T2(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S2(t,e){const o={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function E2(t){const e={},o=f(t,["name"]);o!=null&&d(e,["_url","name"],o);const s=f(t,["config"]);return s!=null&&S2(s,e),e}function x2(t){const e={},o=f(t,["name"]);return o!=null&&d(e,["_url","name"],o),e}function C2(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function A2(t){const e={},o=f(t,["parent"]);o!=null&&d(e,["_url","parent"],o);const s=f(t,["config"]);return s!=null&&C2(s,e),e}function _2(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b2 extends Qn{constructor(e){super(),this.apiClient=e,this.list=async o=>new oo(Xn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=x2(e);return u=le("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,s;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=E2(e);r=le("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=A2(e);return u=le("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=_2(g),v=new v1;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M2 extends Qn{constructor(e,o=new b2(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new oo(Xn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=a2(e);return u=le("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=u2(e);return u=le("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,s;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l2(e);r=le("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=p2(e);return u=le("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=g2(g),v=new T1;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v2(e);return u=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=T2(g),v=new S1;return Object.assign(v,p),v})}}async importFile(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=d2(e);return u=le("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const p=f2(g),v=new gd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N2(t,e){const o={},s=f(t,["name"]);return s!=null&&d(o,["_url","name"],s),o}function R2(t,e){const o={},s=f(t,["name"]);return s!=null&&d(o,["_url","name"],s),o}function w2(t,e,o){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(t,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function D2(t,e,o){const s={};let r=f(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=f(t,["validationDataset"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec"],mv(A))}else if(r==="PREFERENCE_TUNING"){const A=f(t,["validationDataset"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec"],mv(A))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let h=f(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=f(t,["epochCount"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=f(t,["epochCount"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let g=f(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=f(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(g==="PREFERENCE_TUNING"){const A=f(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let p=f(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=f(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(p==="PREFERENCE_TUNING"){const A=f(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=f(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=f(t,["adapterSize"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=f(t,["adapterSize"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["beta"]);return e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function I2(t,e){const o={},s=f(t,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=f(t,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=f(t,["trainingDataset"]);u!=null&&z2(u);const c=f(t,["config"]);return c!=null&&w2(c,o),o}function P2(t,e){const o={},s=f(t,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=f(t,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=f(t,["trainingDataset"]);u!=null&&F2(u,o,e);const c=f(t,["config"]);return c!=null&&D2(c,o,e),o}function U2(t,e){const o={},s=f(t,["name"]);return s!=null&&d(o,["_url","name"],s),o}function L2(t,e){const o={},s=f(t,["name"]);return s!=null&&d(o,["_url","name"],s),o}function V2(t,e,o){const s={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function k2(t,e,o){const s={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function G2(t,e){const o={},s=f(t,["config"]);return s!=null&&V2(s,o),o}function B2(t,e){const o={},s=f(t,["config"]);return s!=null&&k2(s,o),o}function H2(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=f(t,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>PS(h))),d(o,["tuningJobs"],c)}return o}function q2(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=f(t,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Pf(h))),d(o,["tuningJobs"],c)}return o}function O2(t,e){const o={},s=f(t,["name"]);s!=null&&d(o,["model"],s);const r=f(t,["name"]);return r!=null&&d(o,["endpoint"],r),o}function z2(t,e){const o={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(o,["examples","examples"],r)}return o}function F2(t,e,o){const s={};let r=f(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function PS(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(o,["name"],r);const u=f(t,["state"]);u!=null&&d(o,["state"],mS(u));const c=f(t,["createTime"]);c!=null&&d(o,["createTime"],c);const h=f(t,["tuningTask","startTime"]);h!=null&&d(o,["startTime"],h);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(o,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(o,["updateTime"],p);const v=f(t,["description"]);v!=null&&d(o,["description"],v);const T=f(t,["baseModel"]);T!=null&&d(o,["baseModel"],T);const S=f(t,["_self"]);return S!=null&&d(o,["tunedModel"],O2(S)),o}function Pf(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(o,["name"],r);const u=f(t,["state"]);u!=null&&d(o,["state"],mS(u));const c=f(t,["createTime"]);c!=null&&d(o,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(o,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(o,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(o,["updateTime"],p);const v=f(t,["error"]);v!=null&&d(o,["error"],v);const T=f(t,["description"]);T!=null&&d(o,["description"],T);const S=f(t,["baseModel"]);S!=null&&d(o,["baseModel"],S);const A=f(t,["tunedModel"]);A!=null&&d(o,["tunedModel"],A);const M=f(t,["preTunedModel"]);M!=null&&d(o,["preTunedModel"],M);const R=f(t,["supervisedTuningSpec"]);R!=null&&d(o,["supervisedTuningSpec"],R);const L=f(t,["preferenceOptimizationSpec"]);L!=null&&d(o,["preferenceOptimizationSpec"],L);const I=f(t,["tuningDataStats"]);I!=null&&d(o,["tuningDataStats"],I);const H=f(t,["encryptionSpec"]);H!=null&&d(o,["encryptionSpec"],H);const D=f(t,["partnerModelTuningSpec"]);D!=null&&d(o,["partnerModelTuningSpec"],D);const X=f(t,["customBaseModel"]);X!=null&&d(o,["customBaseModel"],X);const z=f(t,["experiment"]);z!=null&&d(o,["experiment"],z);const $=f(t,["labels"]);$!=null&&d(o,["labels"],$);const Y=f(t,["outputUri"]);Y!=null&&d(o,["outputUri"],Y);const Z=f(t,["pipelineJob"]);Z!=null&&d(o,["pipelineJob"],Z);const W=f(t,["serviceAccount"]);W!=null&&d(o,["serviceAccount"],W);const ie=f(t,["tunedModelDisplayName"]);ie!=null&&d(o,["tunedModelDisplayName"],ie);const se=f(t,["veoTuningSpec"]);return se!=null&&d(o,["veoTuningSpec"],se),o}function Y2(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(o,["name"],r);const u=f(t,["metadata"]);u!=null&&d(o,["metadata"],u);const c=f(t,["done"]);c!=null&&d(o,["done"],c);const h=f(t,["error"]);return h!=null&&d(o,["error"],h),o}function mv(t,e){const o={},s=f(t,["gcsUri"]);s!=null&&d(o,["validationDatasetUri"],s);const r=f(t,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J2 extends Qn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new oo(Xn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),u=await this.tuneMldevInternal(r);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:bf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=L2(e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Pf(v))}else{const p=U2(e);return h=le("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>PS(v))}}async listInternal(e){var o,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=B2(e);return h=le("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=q2(v),S=new K0;return Object.assign(S,T),S})}else{const p=G2(e);return h=le("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=H2(v),S=new K0;return Object.assign(S,T),S})}}async cancel(e){var o,s,r,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=R2(e);c=le("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=N2(e);c=le("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=P2(e,e);return u=le("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Pf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=I2(e);return u=le("tunedModels",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Y2(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K2{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const X2=1024*1024*8,Q2=3,$2=1e3,Z2=2,dl="x-goog-upload-status";async function W2(t,e,o){var s;const r=await US(t,e,o),u=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function j2(t,e,o){var s;const r=await US(t,e,o),u=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=lS(u),h=new yd;return Object.assign(h,c),h}async function US(t,e,o){var s,r;let u=0,c=0,h=new Mf(new Response),g="upload";for(u=t.size;c<u;){const p=Math.min(X2,u-c),v=t.slice(c,c+p);c+p>=u&&(g+=", finalize");let T=0,S=$2;for(;T<Q2&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[dl]));)T++,await tP(S),S=S*Z2;if(c+=p,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[dl])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function eP(t){return{size:t.size,type:t.type}}function tP(t){return new Promise(e=>setTimeout(e,t))}class nP{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await W2(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await j2(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iP{create(e,o,s){return new oP(e,o,s)}}class oP{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pv="x-goog-api-key";class sP{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(pv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aP="gl-node/";class rP{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=ZN(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const r=new sP(this.apiKey);this.apiClient=new CI({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:aP+"web",uploader:new nP,downloader:new K2}),this.models=new OI(this.apiClient),this.live=new VI(this.apiClient,r,new iP),this.batches=new xR(this.apiClient),this.chats=new ew(this.models,this.apiClient),this.caches=new ZR(this.apiClient),this.files=new cw(this.apiClient),this.operations=new zI(this.apiClient),this.authTokens=new o2(this.apiClient),this.tunings=new J2(this.apiClient),this.fileSearchStores=new M2(this.apiClient)}}var lP={};const wt=new rP({apiKey:lP.API_KEY});function Xr(t){return JSON.parse(JSON.stringify(t))}const uP={characters:[{id:"char-1",name:"Subject A",x:400,y:225}],cameraAngle:"true-eye, honest",cameraHeight:"eye-level witness"},cP={keyLightIntensity:80,keyLightColor:"#FFD8A8",fillLightIntensity:40,fillLightColor:"#89CFF0",backLightIntensity:60,backLightColor:"#FACC15",ambientIntensity:20,colorTemperature:4500,mood:"chiaroscuro confession"},fP={colorGrade:"Dreamer Grade",saturation:10,contrast:5,highlights:5,shadows:-5,colorPalette:["#0F172A","#1E293B","#475569","#F97316","#FBBF24","#FDE68A","#38BDF8","#A855F7"],colorHarmony:"complementary pulse"},dP={movementType:"static contemplation",startPos:{x:100,y:300},endPos:{x:700,y:150},duration:5,easing:"ease-in-out",focalLength:35},hP=async t=>{try{const o=(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`Analyze this document and extract cinematographic knowledge. Focus on key themes, visual styles, common character archetypes, and specific filmmaking techniques mentioned or implied.

DOCUMENT:
${t.substring(0,8e3)}`,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{themes:{type:oe.ARRAY,items:{type:oe.STRING},description:"Key thematic elements."},visualStyles:{type:oe.ARRAY,items:{type:oe.STRING},description:"Visual or stylistic approaches."},characters:{type:oe.ARRAY,items:{type:oe.STRING},description:"Character archetypes or roles."},techniques:{type:oe.ARRAY,items:{type:oe.STRING},description:"Filmmaking techniques or concepts."}},required:["themes","visualStyles","characters","techniques"]},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(o)}catch(e){return console.error("Gemini API Error - Knowledge extraction failed:",e),null}},mP=async(t,e)=>{try{return(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`You are Dreamer, a visionary cinematography AI. Your voice is poetic, insightful, and steeped in film theory.
            Your task is to provide 3-5 creative, professional suggestions for the current question.
            Critically analyze all the context provided (the user's script, their previous answers, and the cinematic knowledge base).
            Synthesize these elements to generate suggestions that are not just creative, but are deeply relevant to the user's established world and themes.
            Each suggestion must be a concise, actionable answer that directly addresses the question.

            CONTEXT:
            ${t}

            CURRENT QUESTION:
            "${e}"`,config:{thinkingConfig:{thinkingBudget:32768}}})).text.split(`
`).map(r=>r.trim().replace(/^- /,"").replace(/^\* /,"").replace(/^\d+\. /,"")).filter(Boolean)}catch(o){return console.error("Gemini API Error - Failed to get AI suggestions:",o),[]}},pP=async(t,e)=>{try{return(await wt.models.generateContent({model:"gemini-flash-lite-latest",contents:`You are a creative assistant. Based on the core idea of the scene, provide one, single, concise, and inspiring suggestion for the following question. The suggestion should be a fresh take but still relevant to the scene's context. Return only the suggestion text itself.

            SCENE CONTEXT:
            "${t}"

            CURRENT QUESTION:
            "${e}"`})).text.trim()}catch(o){return console.error("Gemini API Error - Failed to get random inspiration:",o),"A lone figure against a vast, empty landscape."}},gP=async(t,e)=>{try{return(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`You are a world-class cinematographer AI with a deep understanding of film theory and practice.
            Your task is to refine the following cinematic shot prompt.
            1.  Preserve all mission-critical technical settings from the base prompt (camera, lens, etc.).
            2.  Elevate the language to be more evocative, clear, and director-ready.
            3.  Weave in continuity cues from the provided context (previous shots, overall script).
            4.  Leverage advanced cinematic terminology from your knowledge base where appropriate to add professional depth.
            Return only the single, enhanced prompt, without any introductory text.

            CONTEXT:
            ${e}

            BASE PROMPT:
            ${t}`,config:{thinkingConfig:{thinkingBudget:32768}}})).text}catch(o){throw console.error("Gemini API Error - Shot enhancement failed:",o),new Error("Failed to enhance prompt.")}},yP=async t=>{try{return(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`Based on this cinematic concept: "${t}"

Generate 3-5 creative scene descriptions that expand this idea into vivid, director-level prompts. Each should be 1-2 sentences and capture mood, character, and visual atmosphere. Format them as separate paragraphs, separated by a double newline.`,config:{thinkingConfig:{thinkingBudget:32768}}})).text.split(/\n\n+/).map(s=>s.trim()).filter(Boolean)}catch(e){return console.error("Gemini API Error - Story generation failed:",e),[]}},gv=async(t,e="16:9",o="cinematic")=>{try{const s=o==="explainer"?"A clean, simple, engaging illustration for an explainer video. The style should be modern, with clear lines and friendly colors. Focus on communicating the core idea of the prompt clearly.":"Create a cinematic, photorealistic image based on the following detailed prompt. Emphasize mood, lighting, and composition.",r=await wt.models.generateImages({model:"imagen-4.0-generate-001",prompt:`${s} ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:e}});if(r.generatedImages&&r.generatedImages.length>0)return r.generatedImages[0].image.imageBytes;throw new Error("No image was generated.")}catch(s){throw console.error("Gemini API Error - Image generation failed:",s),new Error("Failed to generate image.")}},yv=async(t,e="cinematic")=>{try{const o=e==="explainer"?"A stylized, modern, and simple illustration for an explainer video. Focus on clarity, visual appeal, and effective communication of the core concept.":"A cinematic, stylized image based on the following detailed prompt. Emphasize mood, lighting, and composition.",s=await wt.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:`${o} ${t}`}]},config:{responseModalities:[xa.IMAGE]}});for(const r of s.candidates[0].content.parts)if(r.inlineData)return r.inlineData.data;throw new Error("No image data found in response.")}catch(o){throw console.error("Gemini API Error - Nano Image generation failed:",o),new Error("Failed to generate nano image.")}},vP=async(t,e="cinematic")=>{try{const o=`Act as a 'Professional Storyboard Maker'. Convert the following script into a visual storyboard. For each screenplay line, generate a detailed shot prompt representing 2.5-3 seconds of screen time. Break down long lines into multiple impactful shots. Suggest keyframes, advanced camera movements, framing, composition, and lighting mood. Maintain a professional, industry-standard tone.

SCRIPT:
${t}`,s=`Act as an 'Explainer Video Storyboard Artist'. Your task is to break down the provided script into a sequence of shots for an engaging explainer video. Each shot should correspond to roughly 3-3.5 seconds of narration. Assuming an average speaking rate of 150 words per minute (2.5 words per second), each shot should visualize a segment of about 8-9 words from the script. For each segment, create a clear shot description focusing on simple, effective visuals that illustrate the narration. The shot details should be geared towards clean, modern illustrations, not photorealism. Avoid complex cinematic jargon. The goal is clarity and communication.

SCRIPT:
${t}`,r=e==="explainer"?s:o;let c=(await wt.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{screenplayLine:{type:oe.STRING,description:"The formatted screenplay line (e.g., INT. ROOM - DAY, ACTION, CHARACTER, DIALOGUE)."},shotDetails:{type:oe.OBJECT,properties:{shotType:{type:oe.STRING,description:"Shot Type/Size (e.g., Close-Up, Wide Shot)."},cameraAngle:{type:oe.STRING,description:"Camera Angle (e.g., Low Angle, Dutch Tilt)."},description:{type:oe.STRING,description:"Action/Subject Description."},lightingMood:{type:oe.STRING,description:"Key Lighting/Mood."},cameraMovement:{type:oe.STRING,description:"Camera movement (e.g., Dolly In, Pan Left, Steadicam Follow)."}}}}}},thinkingConfig:{thinkingBudget:32768}}})).text.trim();const h=c.match(/```json\s*([\s\S]*?)\s*```/);if(h&&h[1])c=h[1];else{const p=c.indexOf("["),v=c.indexOf("{");let T=-1;if(p===-1?T=v:v===-1?T=p:T=Math.min(p,v),T!==-1){const S=c.lastIndexOf("]"),A=c.lastIndexOf("}"),M=Math.max(S,A);M>T&&(c=c.substring(T,M+1))}}const g=JSON.parse(c);if(Array.isArray(g))return g;if(typeof g=="object"&&g!==null)return[g];throw new Error("Failed to parse storyboard: result was not an array or object.")}catch(o){throw console.error("Gemini API Error - Storyboard generation failed:",o),new Error("Failed to generate or parse storyboard JSON from API response.")}},TP=async(t,e)=>{try{const s=(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`You are a world-class Director of Photography, transforming a simple explainer video concept into a full-fledged cinematic shot.
            
            Analyze the provided simple shot description and the cinematic knowledge base. Your task is to completely rewrite the 'shotDetails' to be evocative, professional, and visually rich.
            
            - **Elevate the Language:** Use strong, descriptive verbs and professional cinematography terms.
            - **Incorporate Theory:** Weave in concepts from the knowledge base regarding lighting, composition, and camera movement.
            - **Add Specificity:** Suggest a specific lens, f-stop, or lighting setup if it serves the mood.
            - **Maintain Core Idea:** The cinematic shot must still convey the core subject of the original explainer shot.
            
            **CINEMATIC KNOWLEDGE BASE:**
            ---
            ${e.substring(0,1e4)} 
            ---
            
            **ORIGINAL EXPLAINER SHOT:**
            ${JSON.stringify(t,null,2)}
            
            Return ONLY the rewritten JSON for the entire StoryboardShot object, with the updated shotDetails. Do not include any other text or markdown formatting. The output must be a single, valid JSON object.`,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{screenplayLine:{type:oe.STRING,description:"The original, unchanged screenplay line."},shotDetails:{type:oe.OBJECT,properties:{shotType:{type:oe.STRING,description:"A more cinematic Shot Type/Size (e.g., 'Intimate Close-Up', 'Sweeping Wide Shot')."},cameraAngle:{type:oe.STRING,description:"A more cinematic Camera Angle (e.g., 'Low Angle Reverence', 'Dutch Tilt for unease')."},description:{type:oe.STRING,description:"A rewritten, evocative Action/Subject Description with more detail."},lightingMood:{type:oe.STRING,description:"A specific and moody Key Lighting/Mood (e.g., 'Chiaroscuro with volumetric dust motes')."},cameraMovement:{type:oe.STRING,description:"A more descriptive camera movement (e.g., 'Slow Dolly In to heighten tension', 'Steadicam Follow with a slight tremor')."}},required:["shotType","cameraAngle","description","lightingMood","cameraMovement"]}},required:["screenplayLine","shotDetails"]},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(s)}catch(o){throw console.error("Gemini API Error - Failed to make prompt cinematic:",o),new Error("Failed to enhance explainer prompt into a cinematic one.")}},SP=async(t,e,o)=>{try{let s;const r={parts:[]};if(e){s=`As a master cinematographer, analyze the provided still image and its original prompt. Your task is to generate a concise, powerful video prompt for a text-to-video AI (like Sora or Veo) that brings this static scene to life.

            ORIGINAL PROMPT:
            "${t}"

            USER INSTRUCTIONS FOR MOTION (if any):
            "${o||"None provided. Use your creative expertise to suggest a compelling camera movement that enhances the scene's emotional core."}"

            Based on the image's composition, mood, and the provided context, describe the initial action or subtle movement. Suggest a camera motion (e.g., slow dolly in, gentle pan left, static shot with atmospheric changes). Describe how the scene should evolve over a short clip.

            Return only the final video prompt, ready to be used.`;const c={inlineData:{mimeType:e.mimeType,data:e.base64}};r.parts.push(c)}else s=`As a master cinematographer, analyze the provided cinematic prompt. Your task is to generate a concise, powerful video prompt for a text-to-video AI (like Sora or Veo) that imagines this scene in motion.

            ORIGINAL PROMPT:
            "${t}"

            USER INSTRUCTIONS FOR MOTION (if any):
            "${o||"None provided. Use your creative expertise to suggest a compelling camera movement that enhances the scene's emotional core."}"

            Based on the prompt's description, mood, and technical details, describe a compelling camera motion (e.g., slow dolly in, gentle pan left, static shot with atmospheric changes) and any initial character or environmental action. Describe how the scene should evolve over a short clip.

            Return only the final video prompt, ready to be used.`;return r.parts.push({text:s}),(await wt.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{thinkingConfig:{thinkingBudget:32768}}})).text.trim()}catch(s){throw console.error("Gemini API Error - Video prompt generation failed:",s),new Error("Failed to generate video prompt.")}},EP=async t=>{try{return(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`You are Dreamer, an expert film editor AI grounded in cinematic theory (Walter Murch's Rule of Six, etc.). Analyze the provided storyboard context and suggest a professional, creative edit or transition.
            
            CONTEXT:
            ${t}
            
            Based on this, provide a single, actionable suggestion. For example: "Suggest a match cut from the character's hand to a similar shape in the next shot to create a strong visual link." or "A J-cut here would build anticipation before the reveal."
            
            Return only the suggestion.`,config:{thinkingConfig:{thinkingBudget:32768}}})).text.trim()}catch(e){return console.error("Gemini API Error - Timeline suggestion failed:",e),"Suggestion failed."}},xP=async t=>{try{const o=(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`Analyze the following cinematic shot prompts to determine the sequence's overall "Visual DNA".
            
            PROMPTS:
            ${t.join(`

`)}
            
            Based on the prompts, provide a summary of the visual style, a likely color palette, and the dominant mood.`,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{visualDNA:{type:oe.STRING,description:"A summary of the core visual style (e.g., 'Handheld emotional realism with shallow depth of field')."},colorPalette:{type:oe.STRING,description:"The likely color palette (e.g., 'Desaturated blues and cold tungsten highlights')."},mood:{type:oe.STRING,description:"The dominant mood of the sequence (e.g., 'Melancholic and introspective')."}},required:["visualDNA","colorPalette","mood"]},thinkingConfig:{thinkingBudget:32768}}})).text.trim();return JSON.parse(o)}catch(e){return console.error("Gemini API Error - Sequence style analysis failed:",e),{visualDNA:"Analysis failed.",colorPalette:"N/A",mood:"N/A"}}},CP=async(t,e)=>{try{return(await wt.models.generateContent({model:"gemini-2.5-pro",contents:`Generate a concise, cinematic B-roll or establishing shot prompt. It should be atmospheric and relevant to the surrounding scene context.
            
            CONTEXT OF SURROUNDING SHOTS:
            ${t}
            
            ${e?`Adhere to the established sequence style:
            - Visual DNA: ${e.visualDNA}
            - Color Palette: ${e.colorPalette}
            - Mood: ${e.mood}`:"Establish a compelling visual mood."}
            
            Return only the prompt text.`})).text.trim()}catch(o){return console.error("Gemini API Error - B-roll generation failed:",o),"An atmospheric shot of rain on a window pane."}},vv=async t=>{try{const e=t.composition.characters.length>0?`Characters are positioned as follows: ${t.composition.characters.map(s=>`${s.name} at coordinates (X: ${Math.round(s.x)}, Y: ${Math.round(s.y)})`).join(", ")}.`:"There are no characters in the frame.";return(await wt.models.generateContent({model:"gemini-2.5-flash",contents:`You are a master cinematographer. Based on the following structured visual data, write a single, evocative, cinematic paragraph describing the scene. Focus on composition, character placement, lighting mood, color theory, and camera work. Do not list the data; interpret it into a holistic description.

            DATA:
            - Composition: ${e} The camera is at ${t.composition.cameraHeight} with a ${t.composition.cameraAngle} angle.
            - Lighting: The mood is ${t.lighting.mood}. Key light is at ${t.lighting.keyLightIntensity}% intensity with a color of ${t.lighting.keyLightColor}. The scene has a color temperature of ${t.lighting.colorTemperature}K.
            - Color: The grade is named "${t.color.colorGrade}" with a ${t.color.colorHarmony} harmony. Saturation is at ${t.color.saturation} and contrast is ${t.color.contrast}.
            - Camera Movement: The camera performs a ${t.camera.movementType} over ${t.camera.duration} seconds with ${t.camera.easing} easing, moving from (${t.camera.startPos.x}, ${t.camera.startPos.y}) to (${t.camera.endPos.x}, ${t.camera.endPos.y}). The focal length is ${t.camera.focalLength}mm.`})).text.trim()}catch(e){return console.error("Gemini API Error - Smart visual description failed:",e),"A visually compelling scene with detailed cinematography."}},AP=async t=>{try{const o=(await wt.models.generateContent({model:"gemini-2.5-flash",contents:`You are a cinematic pre-visualization expert. Based on the following storyboard shot description, generate a complete set of initial visual parameters. Provide reasonable, professional starting points for a visual editor.

            SHOT DETAILS:
            - Shot Type: ${t.shotDetails.shotType}
            - Camera Angle: ${t.shotDetails.cameraAngle}
            - Description: ${t.shotDetails.description}
            - Lighting Mood: ${t.shotDetails.lightingMood}
            - Camera Movement: ${t.shotDetails.cameraMovement}

            Return a JSON object with the exact structure specified below. Do not include any other text or markdown formatting. The output must be a single, valid JSON object.
            `,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{composition:{type:oe.OBJECT,properties:{characters:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{id:{type:oe.STRING},name:{type:oe.STRING},x:{type:oe.NUMBER},y:{type:oe.NUMBER}}},description:"One or two default characters placed according to the description."},cameraAngle:{type:oe.STRING,description:"One of the following: 'true-eye, honest', 'steep reverence', 'whispered low', 'Dutch slip'. Choose the most fitting."},cameraHeight:{type:oe.STRING,description:"One of the following: 'ground-level soul gaze', 'eye-level witness', 'elevated guardian', 'angelic drift'. Choose the most fitting."}}},lighting:{type:oe.OBJECT,properties:{keyLightIntensity:{type:oe.NUMBER,description:"Value from 0-100."},keyLightColor:{type:oe.STRING,description:"Hex color code."},fillLightIntensity:{type:oe.NUMBER,description:"Value from 0-100."},fillLightColor:{type:oe.STRING,description:"Hex color code."},backLightIntensity:{type:oe.NUMBER,description:"Value from 0-100."},backLightColor:{type:oe.STRING,description:"Hex color code."},ambientIntensity:{type:oe.NUMBER,description:"Value from 0-100."},colorTemperature:{type:oe.NUMBER,description:"Value from 2000-8000."},mood:{type:oe.STRING,description:"The provided lighting mood string."}}},color:{type:oe.OBJECT,properties:{colorGrade:{type:oe.STRING,description:"A creative name for the color grade."},saturation:{type:oe.NUMBER,description:"Value from -50 to 50."},contrast:{type:oe.NUMBER,description:"Value from -50 to 50."},highlights:{type:oe.NUMBER,description:"Value from -50 to 50."},shadows:{type:oe.NUMBER,description:"Value from -50 to 50."},colorPalette:{type:oe.ARRAY,items:{type:oe.STRING},description:"An array of 8 hex color codes."},colorHarmony:{type:oe.STRING,description:"One of the predefined harmony options."}}},camera:{type:oe.OBJECT,properties:{movementType:{type:oe.STRING,description:"One of the predefined movement types."},startPos:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}}},endPos:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}}},duration:{type:oe.NUMBER},easing:{type:oe.STRING,description:"One of 'linear', 'ease-in', 'ease-out', 'ease-in-out'."},focalLength:{type:oe.NUMBER,description:"A common focal length like 24, 35, 50, 85."}}}}}}})).text.trim(),s=JSON.parse(o);return(!s.composition.characters||s.composition.characters.length===0)&&(s.composition.characters=[{id:"char-1",name:"Subject A",x:400,y:225}]),s.composition.characters.forEach(r=>{r.id||(r.id=`char-${Math.random()}`)}),s}catch(e){return console.error("Gemini API Error - Visual initialization failed, using defaults:",e),{composition:Xr(uP),lighting:Xr(cP),color:Xr(fP),camera:Xr(dP)}}};function ln(t){return JSON.parse(JSON.stringify(t))}const ji=t=>typeof t=="boolean"?t?"Yes":"No":t?Array.isArray(t)?t.join(", "):String(t):"",_P=(t,e)=>{const o={"ground-level soul gaze":{y1:At,y2:At*2/3},"eye-level witness":{y1:At,y2:At/2},"elevated guardian":{y1:At,y2:At/3},"angelic drift":{y1:At,y2:0}},s={"true-eye, honest":{xOffset:0},"steep reverence":{xOffset:-100},"whispered low":{xOffset:100},"Dutch slip":{xOffset:50}},r=o[t]||o["eye-level witness"],u=s[e]||s["true-eye, honest"],c=yn/2,h=c+u.xOffset,g=c+u.xOffset;return{x1:h,y1:r.y1,x2:g,y2:r.y2}},bP=(t,e,o)=>{const s=document.createElement("a");s.href=`data:${e};base64,${t}`,s.download=o,document.body.appendChild(s),s.click(),document.body.removeChild(s)},da={characters:[{id:"char-1",name:"Subject A",x:400,y:225},{id:"char-2",name:"Subject B",x:280,y:260}],cameraAngle:"true-eye, honest",cameraHeight:"eye-level witness"},ha={keyLightIntensity:80,keyLightColor:"#FFD8A8",fillLightIntensity:40,fillLightColor:"#89CFF0",backLightIntensity:60,backLightColor:"#FACC15",ambientIntensity:20,colorTemperature:4500,mood:rl[0]},ma={colorGrade:"Dreamer Grade",saturation:10,contrast:5,highlights:5,shadows:-5,colorPalette:["#0F172A","#1E293B","#475569","#F97316","#FBBF24","#FDE68A","#38BDF8","#A855F7"],colorHarmony:ll[0]},pa={movementType:ul[0],startPos:{x:100,y:300},endPos:{x:700,y:150},duration:5,easing:"ease-in-out",focalLength:35},LS=Ca.memo(({composition:t,onAddCharacter:e,onRemoveCharacter:o,onDrag:s,onNameChange:r,onCameraAngleChange:u,onCameraHeightChange:c,onPositionChange:h})=>{const g=(p,v)=>{const T=v.currentTarget.ownerSVGElement;if(!T)return;const S=T.getBoundingClientRect(),A=yn/S.width,M=At/S.height,R=(X,z)=>{const $=Math.max(0,Math.min(S.width,X-S.left)),Y=Math.max(0,Math.min(S.height,z-S.top)),Z=Math.max(20,Math.min(yn-20,$*A)),W=Math.max(20,Math.min(At-20,Y*M));return{stageX:Z,stageY:W}},L=X=>{const{stageX:z,stageY:$}=R(X.clientX,X.clientY);h(p,z,$)},I=()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",I)};window.addEventListener("mousemove",L),window.addEventListener("mouseup",I);const{stageX:H,stageY:D}=R(v.clientX,v.clientY);h(p,H,D)};return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Composition Grid"}),x.jsx("p",{className:"text-sm text-gray-400",children:"Arrange characters and camera posture."})]}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"px-3 py-2 text-sm rounded-lg bg-amber-500/20 text-amber-400 border border-amber-500/40 hover:bg-amber-500/30",children:"Add Character"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"md:col-span-2 bg-gray-950 border border-gray-800 rounded-xl p-4",children:[x.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Shot Stage"}),x.jsx("div",{className:"relative aspect-video bg-gradient-to-br from-gray-900 via-gray-950 to-black rounded-lg overflow-hidden",children:x.jsxs("svg",{viewBox:`0 0 ${yn} ${At}`,className:"w-full h-full",onMouseLeave:()=>window.dispatchEvent(new MouseEvent("mouseup")),children:[x.jsx("defs",{children:x.jsx("pattern",{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:x.jsx("path",{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"#1f2937",strokeWidth:"1"})})}),x.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),x.jsx("rect",{width:"100%",height:"100%",fill:"none",stroke:"#374151",strokeWidth:"2"}),x.jsx("line",{x1:yn/3,y1:0,x2:yn/3,y2:At,stroke:"#1f2937",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("line",{x1:yn/3*2,y1:0,x2:yn/3*2,y2:At,stroke:"#1f2937",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("line",{x1:0,y1:At/3,x2:yn,y2:At/3,stroke:"#1f2937",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("line",{x1:0,y1:At/3*2,x2:yn,y2:At/3*2,stroke:"#1f2937",strokeWidth:"1",strokeDasharray:"4 4"}),(()=>{const p=_P(t.cameraHeight,t.cameraAngle);return x.jsx("line",{x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"8 6"})})(),t.characters.map(p=>x.jsxs("g",{children:[x.jsx("circle",{cx:p.x,cy:p.y,r:16,fill:"#f59e0b",className:"cursor-grab",onMouseDown:v=>g(p.id,v)}),x.jsx("text",{x:p.x,y:p.y-24,textAnchor:"middle",fill:"#f8fafc",fontSize:14,className:"pointer-events-none",children:p.name})]},p.id))]})})]}),x.jsxs("div",{className:"space-y-4",children:[t.characters.map(p=>x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("input",{value:p.name,onChange:v=>r(p.id,v.target.value),className:"w-full text-sm bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"Character name"}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(p.id),className:"ml-2 p-2 rounded bg-gray-800 hover:bg-gray-700",children:x.jsx(al,{className:"w-4 h-4 text-red-400"})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-400",children:[x.jsxs("span",{children:["X: ",Math.round(p.x)]}),x.jsxs("span",{children:["Y: ",Math.round(p.y)]})]})]},p.id)),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Camera Angle"}),x.jsx("select",{value:t.cameraAngle,onChange:p=>u(p.target.value),className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-amber-500",children:YN.map(p=>x.jsx("option",{value:p,children:p},p))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Camera Height"}),x.jsx("select",{value:t.cameraHeight,onChange:p=>c(p.target.value),className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-amber-500",children:FN.map(p=>x.jsx("option",{value:p,children:p},p))})]})]})]})]})]})});LS.displayName="CompositionEditor";const VS=Ca.memo(({lighting:t,onChange:e})=>{const o=(s,r)=>e(s,Math.min(100,Math.max(0,r)));return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Lighting Mixer"}),x.jsx("p",{className:"text-sm text-gray-400",children:"Dial in key/fill/back ratios, temperature, and mood."})]}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{e("keyLightIntensity",80),e("fillLightIntensity",40),e("backLightIntensity",60),e("ambientIntensity",20),e("keyLightColor","#FFD8A8"),e("fillLightColor","#89CFF0"),e("backLightColor","#FACC15"),e("colorTemperature",4500),e("mood",rl[0])},className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-700",children:"Reset Lighting"})]}),x.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{label:"Key Light",field:"keyLightIntensity",colorField:"keyLightColor"},{label:"Fill Light",field:"fillLightIntensity",colorField:"fillLightColor"},{label:"Back Light",field:"backLightIntensity",colorField:"backLightColor"},{label:"Ambient",field:"ambientIntensity",colorField:null}].map(({label:s,field:r,colorField:u})=>x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{className:"text-gray-300",children:s}),x.jsxs("span",{className:"text-amber-400",children:[t[r],"%"]})]}),x.jsx("input",{type:"range",min:0,max:100,value:t[r],onChange:c=>o(r,Number(c.target.value)),className:"w-full accent-amber-500"}),u&&x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("label",{className:"text-xs text-gray-400",children:"Color"}),x.jsx("input",{type:"color",value:t[u],onChange:c=>e(u,c.target.value),className:"w-10 h-10 rounded border border-gray-700 bg-gray-900"})]})]},r))}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-2",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Mood Preset"}),x.jsx("select",{value:t.mood,onChange:s=>e("mood",s.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500",children:rl.map(s=>x.jsx("option",{value:s,children:s},s))})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-2",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Color Temperature (K)"}),x.jsx("input",{type:"number",value:t.colorTemperature,onChange:s=>e("colorTemperature",Number(s.target.value)),min:2e3,max:8e3,step:100,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]})]})]})});VS.displayName="LightingEditor";const kS=Ca.memo(({color:t,onChange:e})=>{const o=(r,u)=>{const c=[...t.colorPalette];c[r]=u,e("colorPalette",c)},s=(r,u)=>e(r,Math.max(-50,Math.min(50,u)));return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Color Grading Deck"}),x.jsx("p",{className:"text-sm text-gray-400",children:"Shape palette, contrast, saturation, and harmony."})]}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{e("colorGrade","Dreamer Grade"),e("saturation",10),e("contrast",5),e("highlights",5),e("shadows",-5),e("colorPalette",["#0F172A","#1E293B","#475569","#F97316","#FBBF24","#FDE68A","#38BDF8","#A855F7"]),e("colorHarmony",ll[0])},className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-700",children:"Reset Color"})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Grade Name"}),x.jsx("input",{value:t.colorGrade,onChange:r=>e("colorGrade",r.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Color Harmony"}),x.jsx("select",{value:t.colorHarmony,onChange:r=>e("colorHarmony",r.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500",children:ll.map(r=>x.jsx("option",{value:r,children:r},r))})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-2",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Palette"}),x.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:t.colorPalette.map((r,u)=>x.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[x.jsx("input",{type:"color",value:r,onChange:c=>o(u,c.target.value),className:"w-full h-12 rounded border border-gray-700"}),x.jsx("input",{value:r,onChange:c=>o(u,c.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white text-center focus:outline-none focus:border-amber-500"})]},u))})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Saturation",field:"saturation"},{label:"Contrast",field:"contrast"},{label:"Highlights",field:"highlights"},{label:"Shadows",field:"shadows"}].map(({label:r,field:u})=>x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{className:"text-gray-300",children:r}),x.jsx("span",{className:"text-amber-400",children:t[u]})]}),x.jsx("input",{type:"range",min:-50,max:50,value:t[u],onChange:c=>s(u,Number(c.target.value)),className:"w-full accent-amber-500"})]},u))})]})});kS.displayName="ColorGradingEditor";const GS=Ca.memo(({camera:t,onChange:e,onPathChange:o})=>{const s=(r,u)=>e(r,u);return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Camera Motion Lab"}),x.jsx("p",{className:"text-sm text-gray-400",children:"Define movement, path, easing, and focal rhythm."})]}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{e("movementType",ul[0]),e("duration",5),e("easing","ease-in-out"),e("focalLength",35),o("startPos","x",100),o("startPos","y",300),o("endPos","x",700),o("endPos","y",150)},className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-700",children:"Reset Motion"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Movement Type"}),x.jsx("select",{value:t.movementType,onChange:r=>s("movementType",r.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500",children:ul.map(r=>x.jsx("option",{value:r,children:r},r))})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Duration (seconds)"}),x.jsx("input",{type:"number",value:t.duration,onChange:r=>s("duration",Number(r.target.value)),min:1,max:30,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Easing"}),x.jsx("select",{value:t.easing,onChange:r=>s("easing",r.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500",children:JN.map(r=>x.jsx("option",{value:r,children:r},r))})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Focal Length (mm)"}),x.jsx("input",{type:"number",value:t.focalLength,onChange:r=>s("focalLength",Number(r.target.value)),min:10,max:200,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]})]}),x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-4",children:[x.jsx("h4",{className:"text-sm font-semibold text-amber-400 uppercase",children:"Path Coordinates"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-gray-400",children:[["x","y"].map(r=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("label",{className:"text-xs uppercase",children:["Start ",r.toUpperCase()]}),x.jsx("input",{type:"number",value:t.startPos[r],onChange:u=>o("startPos",r,Number(u.target.value)),min:0,max:800,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]},`start-${r}`)),["x","y"].map(r=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("label",{className:"text-xs uppercase",children:["End ",r.toUpperCase()]}),x.jsx("input",{type:"number",value:t.endPos[r],onChange:u=>o("endPos",r,Number(u.target.value)),min:0,max:800,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:outline-none focus:border-amber-500"})]},`end-${r}`))]}),x.jsxs("div",{className:"bg-gray-950 border border-gray-800 rounded-lg p-4",children:[x.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Camera Path Preview"}),x.jsxs("svg",{viewBox:"0 0 200 120",className:"w-full h-32",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"cameraPathGradient",x1:"0%",x2:"100%",y1:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),x.jsx("stop",{offset:"100%",stopColor:"#f97316"})]})}),x.jsx("path",{d:`M ${t.startPos.x/4} ${t.startPos.y/4} L ${t.endPos.x/4} ${t.endPos.y/4}`,stroke:"url(#cameraPathGradient)",strokeWidth:"2",fill:"none",strokeDasharray:"6 4"}),x.jsx("circle",{cx:t.startPos.x/4,cy:t.startPos.y/4,r:4,fill:"#10B981"}),x.jsx("circle",{cx:t.endPos.x/4,cy:t.endPos.y/4,r:4,fill:"#EF4444"}),x.jsx(me.circle,{r:4,fill:"#FBBF24",animate:{cx:[t.startPos.x/4,t.endPos.x/4,t.startPos.x/4],cy:[t.startPos.y/4,t.endPos.y/4,t.startPos.y/4]},transition:{repeat:1/0,duration:Math.max(1,t.duration),ease:KN[t.easing]||"linear"}})]})]})]})]})});GS.displayName="CameraMovementEditor";const MP=({onStartBuilder:t,onStartStoryboard:e,onGenerateStory:o,isGenerating:s})=>{const[r,u]=O.useState("");return x.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:x.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl w-full text-center space-y-8",children:[x.jsxs(me.div,{initial:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.6},children:[x.jsx("h1",{className:"text-6xl font-bold mb-4 bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Dreamer"}),x.jsx("p",{className:"text-xl text-gray-400",children:"Cinematic prompt builder for visionary creators"})]}),x.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},className:"space-y-4",children:[x.jsx("textarea",{value:r,onChange:c=>u(c.target.value),placeholder:"Describe your cinematic vision or paste a script...",className:"w-full h-32 p-4 bg-gray-900 border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none resize-none"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(r),className:"py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all flex items-center justify-center space-x-2",children:[x.jsx("span",{children:"Prompt Builder"}),x.jsx(Af,{className:"w-5 h-5"})]}),x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(r),className:"py-4 bg-gray-800 border border-gray-700 hover:border-gray-600 text-white font-semibold rounded-lg transition-all flex items-center justify-center space-x-2",children:[x.jsx("span",{children:"Script to Storyboard"}),x.jsx(vl,{className:"w-5 h-5"})]})]}),x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(r),disabled:!r.trim()||s,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-all flex items-center justify-center space-x-2",children:s?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-gray-300 border-t-white"}),x.jsx("span",{children:"Dreaming up ideas..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(oS,{className:"w-5 h-5"}),x.jsx("span",{children:"Let AI Dream (Expand Idea)"})]})})]})]})})},NP=({promptData:t,handleAnswer:e,handleRandomAnswer:o,isGeneratingRandom:s,generatePrompt:r,savedConfigurations:u,knowledgeDocs:c,saveConfiguration:h,loadConfiguration:g,deleteConfiguration:p,deleteKnowledgeDoc:v,handleFileUpload:T,isProcessingDoc:S})=>{var de;const[A,M]=O.useState(0),[R,L]=O.useState([]),[I,H]=O.useState(!1),[D,X]=O.useState(!1),[z,$]=O.useState(!1),[Y,Z]=O.useState(!1),[W,ie]=O.useState(""),[se,he]=O.useState(!1),ae=Fo[A],Ne=(A+1)/Fo.length*100,Le=_=>{const G=ae.id,te=t[G];if(!(typeof te=="boolean"||!ae.options))if(Array.isArray(te))if(te.includes(_)){const ue=te.filter(ve=>ve!==_);e(G,ue.length>0?ue:"")}else e(G,[...te,_]);else te?e(G,[String(te),_]):e(G,[_])},k=async()=>{H(!0),L([]);const _=Fo.filter(Te=>Te.id!==ae.id&&t[Te.id]).map(Te=>`${Te.question}: ${ji(t[Te.id])}`).join(`
`),G=`KNOWLEDGE BASE:
`+c.map(Te=>{var Re,nt;return`[${Te.name}]: Themes: ${(Re=Te.extractedKnowledge)==null?void 0:Re.themes.join(", ")}. Techniques: ${(nt=Te.extractedKnowledge)==null?void 0:nt.techniques.join(", ")}`}).join(`
`),te=t.scriptText?`

STORY SCRIPT:
${t.scriptText}`:"",ue=`${G}

PREVIOUS ANSWERS:
${_}${te}`,ve=await mP(ue,ae.question);L(ve),H(!1)},q=()=>{if(!W.trim()){alert("Please enter a name for this configuration");return}h(W),ie(""),$(!1)},ee=()=>{A<Fo.length-1&&(M(_=>_+1),L([]))},j=()=>{A>0&&(M(_=>_-1),L([]))};return x.jsxs("div",{className:"min-h-screen bg-black text-white",children:[x.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[x.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Dreamer Builder"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$(!0),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:x.jsx(PN,{className:"w-5 h-5"})}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(!0),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:x.jsx(Jy,{className:"w-5 h-5"})}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(!se),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:x.jsx(pN,{className:"w-5 h-5"})})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[x.jsxs("span",{children:["Step ",A+1," of ",Fo.length]}),x.jsxs("span",{children:[Math.round(Ne),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:x.jsx(me.div,{className:"bg-gradient-to-r from-amber-500 to-orange-600 h-2 rounded-full",style:{width:`${Ne}%`},initial:{width:0},animate:{width:`${Ne}%`},transition:{duration:.3}})})]})]}),x.jsx(sd,{mode:"wait",children:x.jsxs(me.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"flex items-center space-x-2 mb-2",children:x.jsx("span",{className:"text-sm text-amber-400",children:ae.category})}),x.jsx("h2",{className:"text-2xl font-semibold mb-2",children:ae.question})]}),x.jsx("div",{className:"space-y-4",children:ae.type==="select"?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex items-center justify-between mb-2",children:x.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:D,onChange:_=>{const G=_.target.checked;if(X(G),!G){const te=t[ae.id];Array.isArray(te)&&te.length>0&&e(ae.id,te[0])}},className:"w-4 h-4 rounded border-gray-700 bg-gray-800 text-amber-500 focus:ring-amber-500 focus:ring-offset-0"}),x.jsx("span",{children:"Multiple selection mode"})]})}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:(de=ae.options)==null?void 0:de.map(_=>{const G=t[ae.id],te=D?Array.isArray(G)&&G.includes(_):ji(G)===_;return x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D?Le(_):e(ae.id,_),className:`p-4 rounded-lg border transition-all ${te?"bg-amber-500 border-amber-500 text-black":"bg-gray-900 border-gray-800 hover:border-gray-700 text-white"}`,children:_},_)})})]}):ae.type==="script"?x.jsx("textarea",{value:ji(t[ae.id]),onChange:_=>e(ae.id,_.target.value),placeholder:ae.placeholder,className:"w-full h-32 p-4 bg-gray-900 border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none resize-none"}):x.jsx("div",{className:"space-y-4",children:x.jsx("input",{type:"text",value:ji(t[ae.id]),onChange:_=>e(ae.id,_.target.value),placeholder:ae.placeholder,className:"w-full p-4 bg-gray-900 border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none"})})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(ae.id,ae.question),disabled:s,className:"py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[x.jsx(Af,{className:"w-4 h-4"}),x.jsx("span",{children:"Inspire Me"})]}),x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:I,className:"py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-all flex items-center justify-center space-x-2 disabled:opacity-50",children:I?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-gray-300 border-t-white"}),x.jsx("span",{children:"Dreamer is listening..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(oS,{className:"w-4 h-4"}),x.jsx("span",{children:"Dreamer Insight"})]})})]}),R.length>0&&x.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 space-y-2",children:R.map((_,G)=>x.jsxs(me.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:G*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(ae.id,_),className:"w-full p-3 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-lg text-left transition-colors",children:[x.jsx("span",{className:"text-amber-400 text-sm mr-2",children:""}),_]},G))})]},A)}),x.jsxs("div",{className:"mt-8 flex justify-between",children:[x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:A===0,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 disabled:bg-gray-900 disabled:text-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[x.jsx(fN,{className:"w-5 h-5"}),x.jsx("span",{children:"Previous"})]}),A===Fo.length-1?x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all flex items-center space-x-2",children:[x.jsx(Af,{className:"w-5 h-5"}),x.jsx("span",{children:"Generate Sequence"})]}):x.jsxs(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ee,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[x.jsx("span",{children:"Next"}),x.jsx(hN,{className:"w-5 h-5"})]})]})]}),z&&x.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",onClick:()=>$(!1),children:x.jsxs(me.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-900 border border-gray-800 rounded-lg p-6 max-w-md w-full",onClick:_=>_.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Save Configuration"}),x.jsx("input",{type:"text",value:W,onChange:_=>ie(_.target.value),placeholder:"Enter configuration name...",className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none mb-4"}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:q,className:"flex-1 py-3 bg-amber-500 hover:bg-amber-600 text-black font-semibold rounded-lg transition-colors",children:"Save"}),x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>$(!1),className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"})]})]})}),Y&&x.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",onClick:()=>Z(!1),children:x.jsxs(me.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-900 border border-gray-800 rounded-lg p-6 max-w-md w-full max-h-[80vh] flex flex-col",onClick:_=>_.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Load Configuration"}),x.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:u.length===0?x.jsx("p",{className:"text-gray-400 text-center py-8",children:"No saved configurations"}):x.jsx("div",{className:"space-y-2",children:u.map(_=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"font-medium",children:_.name}),x.jsx("p",{className:"text-sm text-gray-400",children:new Date(_.savedAt).toLocaleDateString()})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{g(_),Z(!1)},className:"p-2 bg-amber-500 hover:bg-amber-600 text-black rounded transition-colors",children:x.jsx(Jy,{className:"w-4 h-4"})}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(_.id),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded transition-colors",children:x.jsx(al,{className:"w-4 h-4"})})]})]},_.id))})}),x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Z(!1),className:"w-full mt-4 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors flex-shrink-0",children:"Close"})]})}),se&&x.jsxs(me.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed right-0 top-0 h-full w-80 bg-gray-900 border-l border-gray-800 p-6 overflow-y-auto z-40",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold",children:"Knowledge Base"}),x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(!1),className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:x.jsx(zN,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload Documents"}),x.jsx("input",{type:"file",multiple:!0,accept:".txt,.md",onChange:T,disabled:S,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-sm file:font-medium disabled:opacity-50"}),S&&x.jsx("div",{className:"mt-2 text-center text-amber-400 text-sm",children:"Processing..."})]}),x.jsx("div",{className:"space-y-4",children:c.map(_=>{var G;return x.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"font-medium text-sm flex-1 truncate pr-2",children:_.name}),x.jsx("div",{className:"flex items-center space-x-2",children:_.id.startsWith("preloaded-")?x.jsx("span",{className:"text-xs bg-green-900 text-green-300 px-2 py-0.5 rounded-full",children:"Preloaded"}):x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(_.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",children:x.jsx(al,{className:"w-3 h-3 text-red-400"})})})]}),x.jsxs("p",{className:"text-xs text-gray-400",children:["Themes: ",(G=_.extractedKnowledge)==null?void 0:G.themes.slice(0,3).join(", ")]})]},_.id)})})]})]})},Tv=["Brewing cinematic coffee...","Warming up the script...","Finding the perfect lens flare...","Consulting with the gaffer...","Setting the key light...","Scouting virtual locations...","Reticulating splines for the dolly track...","Adjusting the Kuleshov effect...","Polishing the dailies...","Enhancing emotional subtext..."],RP=({setStage:t,setTimelineItems:e,scriptText:o,setCompositions:s,setLightingData:r,setColorGradingData:u,setCameraMovement:c})=>{const[h,g]=O.useState(o),[p,v]=O.useState([]),[T,S]=O.useState("cinematic"),[A,M]=O.useState(null),[R,L]=O.useState(!1),[I,H]=O.useState(!1),[D,X]=O.useState(null),z=O.useRef(null);O.useEffect(()=>()=>{z.current&&clearInterval(z.current)},[]);const $=async()=>{if(!h.trim()||R)return;L(!0),v([]),M(null);const ie=25e3;let se=0;const he=250;z.current=window.setInterval(()=>{se+=he;const ae=Math.min(.95,se/ie);M({completedChunks:Math.floor(ae*10),totalChunks:10,estimatedMsRemaining:Math.max(0,ie-se),progressRatio:ae,status:"processing",statusText:Tv[Math.floor(Math.random()*Tv.length)],partialShots:[]})},he);try{const ae=await vP(h,T);z.current&&clearInterval(z.current),M({completedChunks:10,totalChunks:10,estimatedMsRemaining:0,progressRatio:1,status:"completed",statusText:"Storyboard ready!",partialShots:ae}),v(ae)}catch(ae){z.current&&clearInterval(z.current),console.error(" Storyboard generation error:",ae);const Ne=ae instanceof Error?ae.message:"Storyboard generation failed.";M(Le=>({...Le||{completedChunks:0,totalChunks:10,estimatedMsRemaining:0,progressRatio:0,partialShots:[]},status:"error",statusText:Ne,errorMessage:Ne}))}finally{L(!1),z.current&&clearInterval(z.current)}},Y=async(ie,se)=>{if(D===null){X(se);try{const he=rS.map(Ne=>`## ${Ne.name}
${Ne.content}`).join(`

`),ae=await TP(ie,he);if(ae&&ae.screenplayLine&&ae.shotDetails)v(Ne=>{const Le=[...Ne];return Le[se]=ae,Le});else throw new Error("Received invalid shot data from enhancement API.")}catch(he){console.error("Failed to make shot cinematic:",he)}finally{X(null)}}},Z=async()=>{if(p.length===0||I)return;H(!0);const ie=p.map((q,ee)=>{const j=`Cinematic shot ${ee+1}: ${q.shotDetails.shotType}. Scene: ${q.screenplayLine}. Description: ${q.shotDetails.description}. Camera Angle: ${q.shotDetails.cameraAngle}. Camera Movement: ${q.shotDetails.cameraMovement}. Lighting: ${q.shotDetails.lightingMood}.`;return{id:crypto.randomUUID(),type:"shot",data:{shotNumber:ee+1,prompt:j,originalPrompt:j,description:q.screenplayLine,role:q.shotDetails.shotType}}}),se=p.map(q=>AP(q)),he=await Promise.all(se),ae={},Ne={},Le={},k={};ie.forEach((q,ee)=>{const j=he[ee];ae[q.id]=j.composition,Ne[q.id]=j.lighting,Le[q.id]=j.color,k[q.id]=j.camera}),s(q=>({...q,...ae})),r(q=>({...q,...Ne})),u(q=>({...q,...Le})),c(q=>({...q,...k})),e(ie),H(!1),t("final")},W=A?Math.max(0,Math.round(A.estimatedMsRemaining/1e3)):0;return x.jsx("div",{className:"min-h-screen bg-black text-white p-4",children:x.jsx("div",{className:"max-w-4xl mx-auto",children:x.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsx("h1",{className:"text-4xl font-bold text-center mb-2 bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Script to Storyboard"}),x.jsx("p",{className:"text-center text-gray-400 mb-6",children:"Paste your script and let Dreamer break it down into a visual sequence."}),x.jsx("div",{className:"flex justify-center mb-4",children:x.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-1 flex space-x-1",children:[x.jsx("button",{onClick:()=>S("cinematic"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${T==="cinematic"?"bg-amber-500 text-black":"text-gray-300 hover:bg-gray-700"}`,children:"Cinematic Style"}),x.jsx("button",{onClick:()=>S("explainer"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${T==="explainer"?"bg-amber-500 text-black":"text-gray-300 hover:bg-gray-700"}`,children:"Explainer Style"})]})}),x.jsx("textarea",{value:h,onChange:ie=>g(ie.target.value),placeholder:"Paste your script here...",className:"w-full h-48 p-4 bg-gray-900 border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none resize-none mb-4"}),x.jsxs("div",{className:"flex justify-center space-x-4",children:[x.jsx(me.button,{onClick:()=>t("landing"),className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg",children:"Back"}),x.jsxs(me.button,{onClick:$,disabled:R,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg disabled:opacity-50 flex items-center space-x-2",children:[R&&x.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-gray-300 border-t-white"}),x.jsx("span",{children:"Generate Storyboard"})]})]}),A&&x.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[x.jsx("span",{children:A.statusText}),x.jsx("span",{children:W>0?`~${W}s remaining`:A.status==="completed"?"Done":A.status==="error"?"Error":"Processing..."})]}),x.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:x.jsx(me.div,{className:"bg-gradient-to-r from-amber-500 to-orange-600 h-2",initial:{width:0},animate:{width:`${Math.min(100,Math.round((A.progressRatio||0)*100))}%`},transition:{duration:.3}})}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[x.jsxs("span",{children:["Shots: ",A.status==="completed"?p.length:0]}),x.jsxs("span",{children:["Status: ",A.status]})]}),A.status==="error"&&x.jsx("div",{className:"text-xs text-red-400 space-y-1",children:A.errorMessage&&x.jsxs("p",{children:["Error: ",A.errorMessage]})})]}),p.length>0&&(A==null?void 0:A.status)==="completed"&&x.jsxs("div",{className:"mt-8",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Generated Storyboard"}),x.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:p.map((ie,se)=>x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[x.jsx("p",{className:"text-sm font-mono text-gray-400 mb-2",children:ie.screenplayLine}),x.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[x.jsxs("p",{children:[x.jsx("strong",{className:"text-amber-400",children:"Shot:"})," ",ie.shotDetails.shotType," (",ie.shotDetails.cameraAngle,")"]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-amber-400",children:"Movement:"})," ",ie.shotDetails.cameraMovement]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-amber-400",children:"Description:"})," ",ie.shotDetails.description]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-amber-400",children:"Lighting:"})," ",ie.shotDetails.lightingMood]})]}),T==="explainer"&&x.jsx("div",{className:"mt-3 text-right",children:x.jsx(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(ie,se),disabled:D===se,className:"px-3 py-1 text-xs rounded-lg bg-indigo-500/20 text-indigo-300 border border-indigo-500/40 hover:bg-indigo-500/30 disabled:opacity-50 flex items-center space-x-2 ml-auto",children:D===se?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-3 h-3 animate-spin rounded-full border-2 border-indigo-200 border-t-indigo-400"}),x.jsx("span",{children:"Enhancing..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(vl,{className:"w-3 h-3"}),x.jsx("span",{children:"Make Cinematic"})]})})})]},se))}),x.jsx("div",{className:"mt-6 flex justify-center",children:x.jsx(me.button,{onClick:Z,disabled:p.length===0||I,className:"px-8 py-4 text-lg bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2",children:I?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-gray-300 border-t-white"}),x.jsx("span",{children:"Initializing Visuals..."})]}):"Continue to Visual Editor"})})]})]})})})},wP=({item:t,updateItem:e,onEnhance:o,onRevert:s,onGenerateImage:r,onGenerateVideoPrompt:u,generatedContent:c,compositions:h,lightingData:g,colorGradingData:p,cameraMovement:v,updateVisuals:T,updatePromptFromVisuals:S,aspectRatios:A,setAspectRatios:M,styles:R,setStyles:L})=>{const[I,H]=O.useState("composition"),[D,X]=O.useState("photoreal"),[z,$]=O.useState(!1),Y=async()=>{$(!0);try{await S(t.id)}finally{$(!1)}};if(t.type!=="shot")return x.jsxs("div",{className:"flex-grow flex flex-col p-4 bg-gray-950 border border-gray-800 rounded-lg",children:[x.jsx("h2",{className:"text-xl font-semibold text-amber-400 mb-2",children:t.type==="b-roll"?"B-Roll Shot":t.type==="transition"?"Transition Note":"Title Card"}),t.type==="b-roll"&&x.jsx("textarea",{value:t.prompt,onChange:j=>e({...t,prompt:j.target.value}),className:"w-full flex-grow bg-gray-900 rounded p-2 text-gray-300"}),t.type==="transition"&&x.jsx("textarea",{value:t.note,onChange:j=>e({...t,note:j.target.value}),className:"w-full flex-grow bg-gray-900 rounded p-2 text-gray-300"}),t.type==="text"&&x.jsx("textarea",{value:t.title,onChange:j=>e({...t,title:j.target.value}),className:"w-full flex-grow bg-gray-900 rounded p-2 text-gray-300"})]});const Z=t,W=Z.data,ie=W.prompt!==W.originalPrompt,se=R[t.id]||"cinematic",he=j=>{L(de=>({...de,[t.id]:j}))},ae=(j,de)=>T(t.id,"compositions",{...ee.composition,[j]:de}),Ne=(j,de)=>T(t.id,"lightingData",{...ee.lighting,[j]:de}),Le=(j,de)=>T(t.id,"colorGradingData",{...ee.color,[j]:de}),k=(j,de)=>T(t.id,"cameraMovement",{...ee.camera,[j]:de}),q=(j,de,_)=>{const G=ee.camera[j];T(t.id,"cameraMovement",{...ee.camera,[j]:{...G,[de]:_}})},ee={composition:h[t.id]||da,lighting:g[t.id]||ha,color:p[t.id]||ma,camera:v[t.id]||pa};return x.jsxs("div",{className:"flex-grow flex flex-col p-4 bg-gray-950/70 border border-gray-800 rounded-lg space-y-4 overflow-y-auto",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsxs("span",{className:"text-xs uppercase tracking-wider text-amber-500",children:["Shot ",W.shotNumber]}),x.jsx("h2",{className:"text-2xl font-semibold text-amber-400",children:W.role}),x.jsx("p",{className:"text-sm text-gray-400",children:W.description})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[ie&&x.jsx(me.button,{title:"Revert to Original Prompt",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(Z),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg",children:x.jsx(DN,{className:"w-4 h-4 text-amber-400"})}),x.jsx(me.button,{title:"Enhance with AI",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(Z),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg",children:x.jsx(aS,{className:"w-4 h-4 text-purple-400"})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2 flex flex-col",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Prompt"}),x.jsx("textarea",{value:W.prompt,onChange:j=>e({...t,data:{...W,prompt:j.target.value}}),className:"w-full flex-grow bg-gray-900 border border-gray-700 rounded-lg p-3 text-sm text-gray-200 resize-none focus:border-amber-500 focus:outline-none"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("button",{onClick:()=>r(Z,"photoreal"),className:"py-2 text-sm bg-blue-500/20 text-blue-300 rounded hover:bg-blue-500/30 flex items-center justify-center space-x-2",children:[x.jsx(iS,{className:"w-4 h-4"}),x.jsx("span",{children:"Generate Photoreal"})]}),x.jsxs("button",{onClick:()=>r(Z,"stylized"),className:"py-2 text-sm bg-teal-500/20 text-teal-300 rounded hover:bg-teal-500/30 flex items-center justify-center space-x-2",children:[x.jsx(sS,{className:"w-4 h-4"}),x.jsx("span",{children:"Generate Stylized"})]})]}),x.jsxs("button",{onClick:()=>u(Z),className:"w-full py-2 text-sm bg-purple-500/20 text-purple-300 rounded hover:bg-purple-500/30 flex items-center justify-center space-x-2",children:[x.jsx(vl,{className:"w-4 h-4"}),x.jsx("span",{children:"Video Prompt"})]})]}),x.jsxs("div",{className:"space-y-2 flex flex-col",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Generated Content"}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded p-0.5 flex text-xs",children:[x.jsx("button",{onClick:()=>he("cinematic"),className:`px-2 py-1 rounded transition-colors ${se==="cinematic"?"bg-amber-500 text-black font-semibold":"text-gray-300 hover:bg-gray-700"}`,children:"Cinematic"}),x.jsx("button",{onClick:()=>he("explainer"),className:`px-2 py-1 rounded transition-colors ${se==="explainer"?"bg-amber-500 text-black font-semibold":"text-gray-300 hover:bg-gray-700"}`,children:"Explainer"})]}),x.jsxs("select",{value:A[t.id]||"16:9",onChange:j=>M(de=>({...de,[t.id]:j.target.value})),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-amber-500",children:[x.jsx("option",{value:"16:9",children:"16:9"}),x.jsx("option",{value:"9:16",children:"9:16"}),x.jsx("option",{value:"1:1",children:"1:1"}),x.jsx("option",{value:"4:3",children:"4:3"}),x.jsx("option",{value:"3:4",children:"3:4"})]})]})]}),x.jsxs("div",{className:"w-full flex-grow bg-gray-900 border border-gray-700 rounded-lg p-2 flex items-center justify-center relative group",children:[c.status==="loading"&&x.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-gray-400 border-t-amber-400"}),c.status==="error"&&x.jsx("p",{className:"text-red-400 text-sm",children:"Generation Failed"}),c.status==="idle"&&c.images[D]&&x.jsxs(x.Fragment,{children:[x.jsx("img",{src:D==="photoreal"?`data:image/jpeg;base64,${c.images.photoreal}`:`data:image/png;base64,${c.images.stylized}`,className:"max-w-full max-h-full object-contain rounded"}),x.jsx(me.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{const j=c.images[D],de=D==="photoreal"?"image/jpeg":"image/png",_=D==="photoreal"?"jpg":"png",G=`dreamer-shot-${W.shotNumber}-${D}.${_}`;bP(j,de,G)},className:"absolute top-2 right-2 p-2 bg-gray-900/50 hover:bg-gray-900/80 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Download Image",children:x.jsx(EN,{className:"w-4 h-4 text-white"})})]}),c.status==="idle"&&!c.images[D]&&x.jsxs("p",{className:"text-gray-500 text-sm",children:[D==="photoreal"?"Photoreal":"Stylized"," image will appear here"]})]}),x.jsxs("div",{className:"flex justify-center space-x-2",children:[c.images.photoreal&&x.jsx("button",{onClick:()=>X("photoreal"),className:`px-2 py-0.5 text-xs rounded ${D==="photoreal"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300"}`,children:"Photoreal"}),c.images.stylized&&x.jsx("button",{onClick:()=>X("stylized"),className:`px-2 py-0.5 text-xs rounded ${D==="stylized"?"bg-teal-500 text-white":"bg-gray-700 text-gray-300"}`,children:"Stylized"})]})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Visual Architecture"}),x.jsxs("button",{onClick:Y,disabled:z,className:"px-3 py-1 text-sm rounded bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 disabled:opacity-60 flex items-center space-x-2",children:[z&&x.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-amber-300 border-t-amber-500"}),x.jsx("span",{children:z?"Updating...":"Update Prompt from Visuals"})]})]}),x.jsx("div",{className:"flex items-center space-x-2 mb-2 border-b border-gray-800",children:["composition","lighting","color","camera"].map(j=>x.jsx("button",{onClick:()=>H(j),className:`px-4 py-2 text-sm capitalize rounded-t-lg transition-colors ${I===j?"bg-gray-800 text-amber-400":"text-gray-400 hover:bg-gray-900"}`,children:j},j))}),x.jsx(sd,{mode:"wait",children:x.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[I==="composition"&&x.jsx(LS,{composition:ee.composition,onAddCharacter:()=>ae("characters",[...ee.composition.characters,{id:crypto.randomUUID(),name:`Character ${ee.composition.characters.length+1}`,x:yn/2,y:At/2}]),onRemoveCharacter:j=>ae("characters",ee.composition.characters.filter(de=>de.id!==j)),onDrag:()=>{},onPositionChange:(j,de,_)=>ae("characters",ee.composition.characters.map(G=>G.id===j?{...G,x:de,y:_}:G)),onNameChange:(j,de)=>ae("characters",ee.composition.characters.map(_=>_.id===j?{..._,name:de}:_)),onCameraAngleChange:j=>ae("cameraAngle",j),onCameraHeightChange:j=>ae("cameraHeight",j)}),I==="lighting"&&x.jsx(VS,{lighting:ee.lighting,onChange:Ne}),I==="color"&&x.jsx(kS,{color:ee.color,onChange:Le}),I==="camera"&&x.jsx(GS,{camera:ee.camera,onChange:k,onPathChange:q})]},I)})]})]})},DP=t=>{var Wn,Ni,Xt;const{timelineItems:e,setTimelineItems:o,setStage:s,updateVisuals:r,updatePromptFromVisuals:u,compositions:c,lightingData:h,colorGradingData:g,cameraMovement:p,aspectRatios:v,setAspectRatios:T,styles:S,setStyles:A,deleteTimelineItem:M}=t,[R,L]=O.useState(((Wn=e.find(re=>re.type==="shot"))==null?void 0:Wn.id)||null),[I,H]=O.useState(null),[D,X]=O.useState(!1),[z,$]=O.useState(!1),[Y,Z]=O.useState(null),[W,ie]=O.useState(!1),[se,he]=O.useState(null),[ae,Ne]=O.useState(""),[Le,k]=O.useState(!1),[q,ee]=O.useState({}),j=O.useMemo(()=>e.find(re=>re.id===R),[e,R]),de=re=>{let pe=1;const xe=re.map(Ie=>{if(Ie.type==="shot"){const K={...Ie,data:{...Ie.data,shotNumber:pe}};return pe++,K}return Ie});o(xe)},_=async re=>{$(!1);const pe=crypto.randomUUID();let xe;if(re==="shot"){const ne=e.filter(Ee=>Ee.type==="shot").length+1,ce={shotNumber:ne,prompt:`New Shot ${ne}`,originalPrompt:`New Shot ${ne}`,description:"A new scene",role:"medium shot"};xe={id:pe,type:"shot",data:ce},r(pe,"compositions",ln(da)),r(pe,"lightingData",ln(ha)),r(pe,"colorGradingData",ln(ma)),r(pe,"cameraMovement",ln(pa))}else if(re==="b-roll"){const ne=e.filter(Ee=>Ee.type==="shot").map(Ee=>Ee.data.prompt).join(`
`),ce=await CP(ne,I);xe={id:pe,type:"b-roll",prompt:ce}}else re==="transition"?xe={id:pe,type:"transition",note:"CUT TO:"}:xe={id:pe,type:"text",title:"TITLE CARD"};const Ie=R?e.findIndex(ne=>ne.id===R):-1,K=[...e];K.splice(Ie+1,0,xe),de(K),xe.type==="shot"&&L(xe.id)},G=async()=>{X(!0);const re=e.filter(pe=>pe.type==="shot").map(pe=>pe.data.prompt);if(re.length>0){const pe=await xP(re);H(pe)}X(!1)},te=async()=>{if(!j||j.type!=="shot")return;ie(!0),Z(null);const re=e.findIndex(ne=>ne.id===j.id),pe=e[re-1],xe=e[re+1];let Ie=`CURRENT SHOT (${j.data.shotNumber}): ${j.data.prompt}`;(pe==null?void 0:pe.type)==="shot"&&(Ie=`PREVIOUS SHOT (${pe.data.shotNumber}): ${pe.data.prompt}

${Ie}`),(xe==null?void 0:xe.type)==="shot"&&(Ie=`${Ie}

NEXT SHOT (${xe.data.shotNumber}): ${xe.data.prompt}`);const K=await EP(Ie);Z(K),ie(!1)},ue=re=>{o(pe=>pe.map(xe=>xe.id===re.id?re:xe))},ve=(re,pe)=>{o(xe=>xe.map(Ie=>Ie.id===re&&Ie.type==="shot"?{...Ie,data:{...Ie.data,...pe}}:Ie))},Te=async re=>{const pe=re.id;ee(xe=>({...xe,[pe]:{...xe[pe]||{images:{}},status:"loading"}}));try{const xe=e.map(K=>K.type==="shot"?`Shot ${K.data.shotNumber}: ${K.data.description}`:"").join(`
`),Ie=await gP(re.data.prompt,xe);ve(pe,{prompt:Ie}),ee(K=>({...K,[pe]:{...K[pe]||{images:{}},status:"idle",enhancedPrompt:Ie}}))}catch{ee(Ie=>({...Ie,[pe]:{...Ie[pe]||{images:{}},status:"error"}}))}},Re=re=>{ve(re.id,{prompt:re.data.originalPrompt})},nt=async(re,pe)=>{const xe=re.id,Ie=S[xe]||"cinematic";ee(K=>({...K,[xe]:{...K[xe]||{images:{}},status:"loading"}}));try{const K=Ie==="explainer"?re.data.description:re.data.prompt,ne=pe==="photoreal"?gv:yv,ce=v[xe]||"16:9";let Ee;pe==="photoreal"?Ee=await gv(K,ce,Ie):Ee=await yv(K,Ie),ee(Ve=>{var Ge;return{...Ve,[xe]:{...Ve[xe]||{images:{}},status:"idle",images:{...(Ge=Ve[xe])==null?void 0:Ge.images,[pe]:Ee}}}})}catch{ee(ne=>({...ne,[xe]:{...ne[xe]||{images:{}},status:"error"}}))}},Qe=async()=>{var xe,Ie;if(!se)return;const re=se,pe=re.id;ee(K=>({...K,[pe]:{...K[pe]||{images:{}},status:"loading"}})),he(null);try{const K=(Ie=(xe=q[pe])==null?void 0:xe.images)!=null&&Ie.photoreal?{base64:q[pe].images.photoreal,mimeType:"image/jpeg"}:void 0,ne=await SP(re.data.prompt,K,ae);ee(ce=>({...ce,[pe]:{...ce[pe]||{images:{}},status:"idle",videoPrompt:ne}})),Ne("")}catch{ee(ne=>({...ne,[pe]:{...ne[pe]||{images:{}},status:"error"}}))}},bn=async()=>{var pe;if(!se)return;const re=(pe=q[se.id])==null?void 0:pe.videoPrompt;if(re)try{await navigator.clipboard.writeText(re),k(!0),setTimeout(()=>k(!1),2e3)}catch(xe){console.error("Failed to copy video prompt:",xe)}},Zn=re=>{R===re&&L(null),ee(pe=>{const xe={...pe};return delete xe[re],xe}),M(re)};return x.jsxs("div",{className:"min-h-screen bg-black text-white p-4",children:[x.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col h-[calc(100vh-2rem)]",children:[x.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between mb-4",children:[x.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Visual Sequence Editor"}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,disabled:D,className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-700 flex items-center space-x-2 disabled:opacity-50",children:[D?x.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-gray-400 border-t-white"}):x.jsx(sS,{className:"w-4 h-4"}),x.jsx("span",{children:"Analyze Style"})]}),x.jsx(me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s("builder"),className:"px-4 py-2 text-sm bg-gray-800 hover:bg-gray-700 text-white rounded-lg",children:"Back to Builder"})]})]}),I&&x.jsx(me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex-shrink-0 bg-gray-900 border border-gray-800 rounded-lg p-3 mb-4 text-sm",children:x.jsxs("p",{children:[x.jsx("strong",{className:"text-amber-400",children:"Visual DNA:"})," ",I.visualDNA]})}),x.jsxs("div",{className:"flex-grow flex flex-col md:flex-row gap-4 overflow-hidden",children:[x.jsx("div",{className:"w-full md:w-3/5 lg:w-2/3 flex-shrink-0 flex flex-col overflow-y-auto pr-2",children:j?x.jsx(wP,{item:j,updateItem:ue,onEnhance:Te,onRevert:Re,onGenerateImage:nt,onGenerateVideoPrompt:re=>{Ne(""),he(re)},generatedContent:q[j.id]||{images:{},status:"idle"},compositions:c,lightingData:h,colorGradingData:g,cameraMovement:p,updateVisuals:r,updatePromptFromVisuals:t.updatePromptFromVisuals,aspectRatios:v,setAspectRatios:T,styles:S,setStyles:A},j.id):x.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 bg-gray-950/70 border border-gray-800 rounded-lg",children:x.jsx("p",{children:"Select an item on the timeline to begin."})})}),x.jsxs("div",{className:"w-full md:w-2/5 lg:w-1/3 flex flex-col bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Sequence Timeline"}),x.jsxs("button",{onClick:te,disabled:W,className:"text-xs text-purple-300 hover:text-purple-200 flex items-center space-x-1",children:[W?x.jsx("div",{className:"w-3 h-3 animate-spin rounded-full border-2 border-gray-400 border-t-purple-400"}):x.jsx(aS,{className:"w-3 h-3"}),x.jsx("span",{children:"Dreamer Assist"})]})]}),Y&&x.jsx("p",{className:"text-xs bg-purple-900/50 p-2 rounded border border-purple-800 text-purple-200",children:Y}),x.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:x.jsx(eN,{axis:"y",values:e,onReorder:de,className:"space-y-3",children:e.map(re=>x.jsx(oN,{value:re,className:`bg-gray-800 rounded-lg border-2 shadow-sm cursor-grab active:cursor-grabbing transition-colors ${R===re.id?"border-amber-500":"border-gray-800 hover:border-gray-700"}`,children:x.jsxs("div",{className:"p-3 flex items-center",children:[x.jsx(AN,{className:"w-5 h-5 text-gray-600 mr-2 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"flex-grow",onClick:()=>L(re.id),children:[re.type==="shot"&&x.jsxs("p",{className:"font-bold text-sm",children:["Shot ",re.data.shotNumber,": ",re.data.role]}),re.type==="b-roll"&&x.jsx("p",{className:"font-bold text-sm italic text-cyan-400",children:"B-Roll"}),re.type==="transition"&&x.jsx("p",{className:"font-bold text-sm italic text-purple-400",children:"Transition"}),re.type==="text"&&x.jsx("p",{className:"font-bold text-sm italic text-green-400",children:"Text"}),x.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:re.type==="shot"?re.data.description:re.type==="b-roll"?re.prompt:re.type==="transition"?re.note:re.title})]}),x.jsx(me.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),Zn(re.id)},className:"ml-2 p-1 text-gray-500 hover:text-red-400 rounded-md",title:"Delete Item",children:x.jsx(al,{className:"w-4 h-4"})})]})},re.id))})}),x.jsxs("div",{className:"relative flex-shrink-0",children:[x.jsxs(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$(re=>!re),className:"w-full py-2 bg-amber-500/20 text-amber-400 rounded-lg hover:bg-amber-500/30 flex items-center justify-center space-x-2",children:[x.jsx(RN,{className:"w-4 h-4"}),x.jsx("span",{children:"Add to Timeline"})]}),x.jsx(sd,{children:z&&x.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 w-full bg-gray-800 border border-gray-700 rounded-lg p-2 space-y-1 z-10",children:[x.jsxs("button",{onClick:()=>_("shot"),className:"w-full text-left p-2 hover:bg-gray-700 rounded flex items-center space-x-2",children:[x.jsx(vl,{className:"w-4 h-4"}),x.jsx("span",{children:"New Shot"})]}),x.jsxs("button",{onClick:()=>_("b-roll"),className:"w-full text-left p-2 hover:bg-gray-700 rounded flex items-center space-x-2",children:[x.jsx(iS,{className:"w-4 h-4"}),x.jsx("span",{children:"B-Roll"})]}),x.jsxs("button",{onClick:()=>_("transition"),className:"w-full text-left p-2 hover:bg-gray-700 rounded flex items-center space-x-2",children:[x.jsx(LN,{className:"w-4 h-4"}),x.jsx("span",{children:"Transition Note"})]}),x.jsxs("button",{onClick:()=>_("text"),className:"w-full text-left p-2 hover:bg-gray-700 rounded flex items-center space-x-2",children:[x.jsx(BN,{className:"w-4 h-4"}),x.jsx("span",{children:"Title Card"})]})]})})]})]})]})]}),se&&x.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",onClick:()=>he(null),children:x.jsxs(me.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-900 border border-gray-800 rounded-lg p-6 max-w-lg w-full",onClick:re=>re.stopPropagation(),children:[x.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Generate Video Prompt for Shot ",se.data.shotNumber]}),x.jsx("textarea",{value:ae,onChange:re=>Ne(re.target.value),placeholder:"Optional: describe desired camera movement or action...",className:"w-full h-24 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white mb-4"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(me.button,{onClick:()=>he(null),className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg",children:"Cancel"}),x.jsx(me.button,{onClick:Qe,className:"flex-1 py-3 bg-amber-500 text-black rounded-lg",children:"Generate"})]}),((Ni=q[se.id])==null?void 0:Ni.videoPrompt)&&x.jsxs("div",{className:"relative mt-4 bg-gray-800 p-3 rounded text-sm text-gray-200",children:[x.jsx(me.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:bn,className:"absolute top-2 right-2 p-1 bg-gray-700 hover:bg-gray-600 rounded",title:"Copy Video Prompt",children:Le?x.jsx(yN,{className:"w-4 h-4 text-green-400"}):x.jsx(TN,{className:"w-4 h-4 text-gray-300"})}),(Xt=q[se.id])==null?void 0:Xt.videoPrompt]})]})})]})};function IP(){const[t,e]=O.useState("landing"),[o,s]=O.useState({scriptText:"",sceneCore:"",emotion:"",numberOfShots:"3",cameraType:"Arri Alexa 65",shotTypes:"",focalLength:"35mm cinematic",depthOfField:"f/2.8 cinematic shallow",framing:"rule of thirds",mainCharacterBlocking:"",secondaryCharacterBlocking:"",antagonistBlocking:"",lightingStyle:"chiaroscuro contrast",lightingDetails:"",atmosphere:"",filmStock:"Kodak Vision3 500T 5219",filmEmulation:"",colorGrading:"teal-orange tension",colorPalette:"",storyBeat:"",visualToneKeywords:"",continuityMode:"tight continuity",seedLinking:"use previous seeds",resolution:"4K render",outputType:"cinematic frame",visualCompositionGuide:"",visualCameraSetup:"",visualLightingSetup:"",visualLightingMood:"",visualColorPalette:"",visualColorHarmony:"",visualCameraMovement:"",visualFocusMotion:""}),[r,u]=O.useState([]),[c,h]=O.useState([]),[g,p]=O.useState([]),[v,T]=O.useState([]),[S,A]=O.useState(!1),[M,R]=O.useState(!1),[L,I]=O.useState(!1),[H,D]=O.useState([]),[X,z]=O.useState({}),[$,Y]=O.useState({}),[Z,W]=O.useState({}),[ie,se]=O.useState({}),[he,ae]=O.useState({}),[Ne,Le]=O.useState({}),k=O.useRef(null);O.useEffect(()=>{try{const K=localStorage.getItem("dreamerConfigs");K&&p(JSON.parse(K));const ne=localStorage.getItem("dreamerKnowledge"),ce=ne?JSON.parse(ne).map(wi=>({...wi,uploadedAt:new Date(wi.uploadedAt)})):[],Ee=rS.map(wi=>({...wi,content:wi.content,uploadedAt:new Date("2025-01-01")}));T([...Ee,...ce]);const Ve=localStorage.getItem("dreamerVisualPresets");Ve&&D(JSON.parse(Ve));const Ge=localStorage.getItem("dreamerCompositions");Ge&&z(JSON.parse(Ge));const Ae=localStorage.getItem("dreamerLighting");Ae&&Y(JSON.parse(Ae));const dn=localStorage.getItem("dreamerColor");dn&&W(JSON.parse(dn));const Tn=localStorage.getItem("dreamerMovement");Tn&&se(JSON.parse(Tn));const Ri=localStorage.getItem("dreamerStyles");Ri&&Le(JSON.parse(Ri))}catch(K){console.error("Failed to load from localStorage:",K)}},[]),O.useEffect(()=>{try{localStorage.setItem("dreamerConfigs",JSON.stringify(g))}catch(K){console.error(K)}},[g]),O.useEffect(()=>{try{localStorage.setItem("dreamerKnowledge",JSON.stringify(v.filter(K=>!K.id.startsWith("preloaded-"))))}catch(K){console.error(K)}},[v]),O.useEffect(()=>{try{localStorage.setItem("dreamerVisualPresets",JSON.stringify(H))}catch(K){console.error(K)}},[H]),O.useEffect(()=>{try{localStorage.setItem("dreamerCompositions",JSON.stringify(X))}catch(K){console.error(K)}},[X]),O.useEffect(()=>{try{localStorage.setItem("dreamerLighting",JSON.stringify($))}catch(K){console.error(K)}},[$]),O.useEffect(()=>{try{localStorage.setItem("dreamerColor",JSON.stringify(Z))}catch(K){console.error(K)}},[Z]),O.useEffect(()=>{try{localStorage.setItem("dreamerMovement",JSON.stringify(ie))}catch(K){console.error(K)}},[ie]),O.useEffect(()=>{try{localStorage.setItem("dreamerStyles",JSON.stringify(Ne))}catch(K){console.error(K)}},[Ne]);const q=(K,ne)=>{s(ce=>({...ce,[K]:ne}))},ee=async(K,ne)=>{I(!0);const ce=await pP(ji(o.sceneCore),ne);q(K,ce),I(!1)},j=(K,ne)=>{if(!K)return"";if(Array.isArray(K)){const ce=K.filter(Ee=>Ee&&Ee.trim());return ce.length===0?"":ce[ne%ce.length]||""}return K},de=(K,ne)=>{if(!K||K.trim().length===0)return[];const ce=K.split(/\n\n+/).map(Ge=>Ge.trim()).filter(Boolean);if(ce.length===0)return[];const Ee=Math.max(1,Math.ceil(ce.length/ne)),Ve=[];for(let Ge=0;Ge<ne;Ge++){const Ae=Ge*Ee,dn=Math.min(Ae+Ee,ce.length);Ve.push(ce.slice(Ae,dn).join(" ")||ce[Ge]||"")}return Ve},_=async()=>{const K=parseInt(ji(o.numberOfShots))||3,ne=(ji(o.shotTypes)||"medium shot, close up, wide shot").split(",").map(Ae=>Ae.trim()),ce=o.scriptText?de(o.scriptText,K):[],Ee=[];for(let Ae=0;Ae<K;Ae++){const dn=crypto.randomUUID(),Tn={shotNumber:Ae+1,prompt:`Placeholder for Shot ${Ae+1}`,originalPrompt:`Placeholder for Shot ${Ae+1}`,description:ce[Ae]||j(o.sceneCore,Ae),role:ne[Ae%ne.length]};Ee.push({id:dn,type:"shot",data:Tn})}const Ve={comp:{},light:{},color:{},move:{}};Ee.forEach(Ae=>{Ve.comp[Ae.id]=ln(da),Ve.light[Ae.id]=ln(ha),Ve.color[Ae.id]=ln(ma),Ve.move[Ae.id]=ln(pa)}),z(Ae=>({...Ae,...Ve.comp})),Y(Ae=>({...Ae,...Ve.light})),W(Ae=>({...Ae,...Ve.color})),se(Ae=>({...Ae,...Ve.move}));const Ge=await Promise.all(Ee.map(async Ae=>{const dn=await vv({composition:Ve.comp[Ae.id],lighting:Ve.light[Ae.id],color:Ve.color[Ae.id],camera:Ve.move[Ae.id]}),Tn=`Cinematic shot ${Ae.data.shotNumber}: ${Ae.data.role}. Scene: ${Ae.data.description}. ${dn}`;return{...Ae,data:{...Ae.data,prompt:Tn,originalPrompt:Tn}}}));h(Ge),e("final")},G=K=>p(ne=>[{id:Date.now().toString(),name:K,data:o,savedAt:Date.now()},...ne]),te=K=>{s(K.data),e("builder")},ue=K=>p(ne=>ne.filter(ce=>ce.id!==K)),ve=async K=>{if(!K.target.files)return;A(!0);const ne=[];for(const ce of Array.from(K.target.files)){const Ee=await ce.text(),Ve=await hP(Ee);ne.push({id:crypto.randomUUID(),name:ce.name,content:Ee,uploadedAt:new Date,extractedKnowledge:Ve||void 0})}T(ce=>[...ce,...ne]),A(!1)},Te=K=>T(ne=>ne.filter(ce=>ce.id!==K)),Re=(K,ne)=>{const ce={id:crypto.randomUUID(),name:K,createdAt:Date.now(),composition:X[ne]||da,lighting:$[ne]||ha,color:Z[ne]||ma,camera:ie[ne]||pa};D(Ee=>[ce,...Ee])},nt=(K,ne)=>{z(ce=>({...ce,[ne]:ln(K.composition)})),Y(ce=>({...ce,[ne]:ln(K.lighting)})),W(ce=>({...ce,[ne]:ln(K.color)})),se(ce=>({...ce,[ne]:ln(K.camera)}))},Qe=K=>D(ne=>ne.filter(ce=>ce.id!==K)),bn=K=>{const ne=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),ce=URL.createObjectURL(ne),Ee=document.createElement("a");Ee.href=ce,Ee.download=`${K.name.replace(/\s+/g,"-")}.json`,Ee.click(),URL.revokeObjectURL(ce)},Zn=()=>{var K;return(K=k.current)==null?void 0:K.click()},Wn=async K=>{var ce;const ne=(ce=K.target.files)==null?void 0:ce[0];if(ne)try{const Ee=await ne.text(),Ve=JSON.parse(Ee);if(!Ve.name||!Ve.composition)throw new Error("Invalid preset");D(Ge=>[{...Ve,id:crypto.randomUUID(),createdAt:Date.now()},...Ge])}catch{alert("Failed to import preset.")}},Ni=K=>{s(ne=>({...ne,sceneCore:K||ne.sceneCore})),e("builder")},Xt=K=>{s(ne=>({...ne,scriptText:K})),e("storyboard")},re=async K=>{R(!0);const ne=await yP(K);ne.length>0&&(s(ce=>({...ce,scriptText:ne.join(`

`),sceneCore:ne[0]})),e("builder")),R(!1)},pe=(K,ne,ce)=>{ne==="compositions"?z(Ee=>({...Ee,[K]:ce})):ne==="lightingData"?Y(Ee=>({...Ee,[K]:ce})):ne==="colorGradingData"?W(Ee=>({...Ee,[K]:ce})):ne==="cameraMovement"&&se(Ee=>({...Ee,[K]:ce}))},xe=async K=>{const ne=c.find(Ge=>Ge.id===K);if(!ne||ne.type!=="shot")return;const ce={composition:X[K]||da,lighting:$[K]||ha,color:Z[K]||ma,camera:ie[K]||pa},Ee=await vv(ce),Ve=`Cinematic shot ${ne.data.shotNumber}: ${ne.data.role}. Scene: ${ne.data.description}. ${Ee}`;h(Ge=>Ge.map(Ae=>Ae.id===K&&Ae.type==="shot"?{...Ae,data:{...Ae.data,prompt:Ve}}:Ae))},Ie=K=>{h(ce=>ce.filter(Ee=>Ee.id!==K));const ne=ce=>{ce(Ee=>{const Ve={...Ee};return delete Ve[K],Ve})};ne(z),ne(Y),ne(W),ne(se),ne(ae),ne(Le)};return t==="landing"?x.jsx(MP,{onStartBuilder:Ni,onStartStoryboard:Xt,onGenerateStory:re,isGenerating:M}):t==="builder"?x.jsx(NP,{promptData:o,handleAnswer:q,handleRandomAnswer:ee,isGeneratingRandom:L,generatePrompt:_,savedConfigurations:g,knowledgeDocs:v,saveConfiguration:G,loadConfiguration:te,deleteConfiguration:ue,deleteKnowledgeDoc:Te,handleFileUpload:ve,isProcessingDoc:S}):t==="storyboard"?x.jsx(RP,{setStage:e,setGeneratedPrompts:u,scriptText:o.scriptText||"",setTimelineItems:h,setCompositions:z,setLightingData:Y,setColorGradingData:W,setCameraMovement:se}):t==="final"?x.jsx(DP,{timelineItems:c,setTimelineItems:h,promptData:o,setStage:e,visualPresets:H,savePreset:Re,applyPresetToItem:nt,deletePreset:Qe,exportPreset:bn,triggerPresetImport:Zn,handlePresetImport:Wn,presetFileInputRef:k,compositions:X,lightingData:$,colorGradingData:Z,cameraMovement:ie,updateVisuals:pe,updatePromptFromVisuals:xe,aspectRatios:he,setAspectRatios:ae,styles:Ne,setStyles:Le,deleteTimelineItem:Ie}):x.jsx("div",{children:"Loading..."})}const BS=document.getElementById("root");if(!BS)throw new Error("Could not find root element to mount to");const PP=mC.createRoot(BS);PP.render(x.jsx(Ca.StrictMode,{children:x.jsx(IP,{})}));
